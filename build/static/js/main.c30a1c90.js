/*! For license information please see main.c30a1c90.js.LICENSE.txt */
(()=>{var __webpack_modules__={4:(e,t,r)=>{"use strict";var a=r(853),n=r(43),s=r(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(i(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case j:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return I(e(t))}catch(r){}}return null}var D=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},O=[],L=-1;function B(e){return{current:e}}function z(e){0>L||(e.current=O[L],O[L]=null,L--)}function V(e,t){L++,O[L]=e.current,e.current=t}var U=B(null),H=B(null),G=B(null),q=B(null);function W(e,t){switch(V(G,t),V(H,e),V(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?nu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=su(t=nu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(U),V(U,e)}function Y(){z(U),z(H),z(G)}function $(e){null!==e.memoizedState&&V(q,e);var t=U.current,r=su(t,e.type);t!==r&&(V(H,e),V(U,r))}function K(e){H.current===e&&(z(U),z(H)),q.current===e&&(z(q),$u._currentValue=R)}var J=Object.prototype.hasOwnProperty,Q=a.unstable_scheduleCallback,X=a.unstable_cancelCallback,Z=a.unstable_shouldYield,ee=a.unstable_requestPaint,te=a.unstable_now,re=a.unstable_getCurrentPriorityLevel,ae=a.unstable_ImmediatePriority,ne=a.unstable_UserBlockingPriority,se=a.unstable_NormalPriority,ie=a.unstable_LowPriority,oe=a.unstable_IdlePriority,le=a.log,ce=a.unstable_setDisableYieldValue,de=null,ue=null;function he(e){if("function"===typeof le&&ce(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(me(e)/fe|0)|0},me=Math.log,fe=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,r){var a=e.pendingLanes;if(0===a)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&a;return 0!==o?0!==(a=o&~s)?n=ve(a):0!==(i&=o)?n=ve(i):r||0!==(r=o&~e)&&(n=ve(r)):0!==(o=a&~s)?n=ve(o):0!==i?n=ve(i):r||0!==(r=a&~e)&&(n=ve(r)),0===n?0:0!==t&&t!==n&&0===(t&s)&&((s=n&-n)>=(r=t&-t)||32===s&&0!==(4194048&r))?t:n}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function je(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ne(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-pe(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|4194090&r}function Ee(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-pe(r),n=1<<a;n&t|e[a]&t&&(e[a]|=t),r&=~n}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ae(){var e=F.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Te=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Te,De="__reactProps$"+Te,Me="__reactContainer$"+Te,Fe="__reactEvents$"+Te,Re="__reactListeners$"+Te,Oe="__reactHandles$"+Te,Le="__reactResources$"+Te,Be="__reactMarker$"+Te;function ze(e){delete e[Ie],delete e[De],delete e[Fe],delete e[Re],delete e[Oe]}function Ve(e){var t=e[Ie];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Me]||r[Ie]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=bu(e);null!==e;){if(r=e[Ie])return r;e=bu(e)}return t}r=(e=r).parentNode}return null}function Ue(e){if(e=e[Ie]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ge(e){var t=e[Le];return t||(t=e[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[Be]=!0}var We=new Set,Ye={};function $e(e,t){Ke(e,t),Ke(e+"Capture",t)}function Ke(e,t){for(Ye[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Je,Qe,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,r){if(n=t,J.call(et,n)||!J.call(Ze,n)&&(Xe.test(n)?et[n]=!0:(Ze[n]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var n}function rt(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function at(e,t,r,a){if(null===a)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+a)}}function nt(e){if(void 0===Je)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",Qe=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Je+e+Qe}var st=!1;function it(e,t){if(!e||st)return"";st=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(n){var a=n}Reflect.construct(e,[],r)}else{try{r.call()}catch(s){a=s}e.call(r.prototype)}}else{try{throw Error()}catch(i){a=i}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(o){if(o&&a&&"string"===typeof o.stack)return[o.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(n=a=0;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;for(;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;if(a===l.length||n===c.length)for(a=l.length-1,n=c.length-1;1<=a&&0<=n&&l[a]!==c[n];)n--;for(;1<=a&&0<=n;a--,n--)if(l[a]!==c[n]){if(1!==a||1!==n)do{if(a--,0>--n||l[a]!==c[n]){var d="\n"+l[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=a&&0<=n);break}}}finally{st=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?nt(r):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return nt(e.type);case 16:return nt("Lazy");case 13:return nt("Suspense");case 19:return nt("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return nt("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var n=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=dt(e)?e.checked?"true":"false":e.value),(e=a)!==r&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ft(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,r,a,n,s,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?vt(e,i,ct(t)):null!=r?vt(e,i,ct(r)):null!=a&&e.removeAttribute("value"),null==n&&null!=s&&(e.defaultChecked=!!s),null!=n&&(e.checked=n&&"function"!==typeof n&&"symbol"!==typeof n),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,r,a,n,s,i,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=r){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;r=null!=r?""+ct(r):"",t=null!=t?""+ct(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:n)&&"symbol"!==typeof a&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function vt(e,t,r){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function bt(e,t,r,a){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+ct(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function xt(e,t,r){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+ct(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,r,a){if(null==t){if(null!=a){if(null!=r)throw Error(i(92));if(D(a)){if(1<a.length)throw Error(i(93));a=a[0]}r=a}null==r&&(r=""),t=r}r=ct(t),e.defaultValue=r,(a=e.textContent)===r&&""!==a&&null!==a&&(e.value=a)}function St(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jt(e,t,r){var a=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,r):"number"!==typeof r||0===r||kt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function _t(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=r){for(var a in r)!r.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&r[n]!==a&&jt(e,n,a)}else for(var s in t)t.hasOwnProperty(s)&&jt(e,s,t[s])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Dt=null;function Mt(e){var t=Ue(e);if(t&&(e=t.stateNode)){var r=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var n=a[De]||null;if(!n)throw Error(i(90));gt(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<r.length;t++)(a=r[t]).form===e.form&&ht(a)}break e;case"textarea":xt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&bt(e,!!r.multiple,t,!1)}}}var Ft=!1;function Rt(e,t,r){if(Ft)return e(t,r);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==It||null!==Dt)&&(Vc(),It&&(t=It,e=Dt,Dt=It=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ot(e,t){var r=e.stateNode;if(null===r)return null;var a=r[De]||null;if(null===a)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var Lt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Lt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Dh){Bt=!1}var Vt=null,Ut=null,Ht=null;function Gt(){if(Ht)return Ht;var e,t,r=Ut,a=r.length,n="value"in Vt?Vt.value:Vt.textContent,s=n.length;for(e=0;e<a&&r[e]===n[e];e++);var i=a-e;for(t=1;t<=i&&r[a-t]===n[s-t];t++);return Ht=n.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Yt(){return!1}function $t(e){function t(t,r,a,n,s){for(var i in this._reactName=t,this._targetInst=a,this.type=r,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Wt:Yt,this.isPropagationStopped=Yt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Kt,Jt,Qt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=$t(Xt),er=h({},Xt,{view:0,detail:0}),tr=$t(er),rr=h({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Kt=e.screenX-Qt.screenX,Jt=e.screenY-Qt.screenY):Jt=Kt=0,Qt=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),ar=$t(rr),nr=$t(h({},rr,{dataTransfer:0})),sr=$t(h({},er,{relatedTarget:0})),ir=$t(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),or=$t(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),lr=$t(h({},Xt,{data:0})),cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ur={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ur[e])&&!!t[e]}function pr(){return hr}var mr=$t(h({},er,{key:function(e){if(e.key){var t=cr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),fr=$t(h({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gr=$t(h({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr})),yr=$t(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vr=$t(h({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),br=$t(h({},Xt,{newState:0,oldState:0})),xr=[9,13,27,32],wr=Lt&&"CompositionEvent"in window,Sr=null;Lt&&"documentMode"in document&&(Sr=document.documentMode);var kr=Lt&&"TextEvent"in window&&!Sr,jr=Lt&&(!wr||Sr&&8<Sr&&11>=Sr),_r=String.fromCharCode(32),Nr=!1;function Er(e,t){switch(e){case"keyup":return-1!==xr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pr=!1;var Ar={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ar[e.type]:"textarea"===t}function Ir(e,t,r,a){It?Dt?Dt.push(a):Dt=[a]:It=a,0<(t=Gd(t,"onChange")).length&&(r=new Zt("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Dr=null,Mr=null;function Fr(e){Rd(e,0)}function Rr(e){if(ht(He(e)))return e}function Or(e,t){if("change"===e)return t}var Lr=!1;if(Lt){var Br;if(Lt){var zr="oninput"in document;if(!zr){var Vr=document.createElement("div");Vr.setAttribute("oninput","return;"),zr="function"===typeof Vr.oninput}Br=zr}else Br=!1;Lr=Br&&(!document.documentMode||9<document.documentMode)}function Ur(){Dr&&(Dr.detachEvent("onpropertychange",Hr),Mr=Dr=null)}function Hr(e){if("value"===e.propertyName&&Rr(Mr)){var t=[];Ir(t,Mr,e,Tt(e)),Rt(Fr,t)}}function Gr(e,t,r){"focusin"===e?(Ur(),Mr=r,(Dr=t).attachEvent("onpropertychange",Hr)):"focusout"===e&&Ur()}function qr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rr(Mr)}function Wr(e,t){if("click"===e)return Rr(t)}function Yr(e,t){if("input"===e||"change"===e)return Rr(t)}var $r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Kr(e,t){if($r(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!J.call(t,n)||!$r(e[n],t[n]))return!1}return!0}function Jr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qr(e,t){var r,a=Jr(e);for(e=0;a;){if(3===a.nodeType){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jr(a)}}function Xr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zr(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(a){r=!1}if(!r)break;t=pt((e=t.contentWindow).document)}return t}function ea(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ta=Lt&&"documentMode"in document&&11>=document.documentMode,ra=null,aa=null,na=null,sa=!1;function ia(e,t,r){var a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;sa||null==ra||ra!==pt(a)||("selectionStart"in(a=ra)&&ea(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},na&&Kr(na,a)||(na=a,0<(a=Gd(aa,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=ra)))}function oa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var la={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},ca={},da={};function ua(e){if(ca[e])return ca[e];if(!la[e])return e;var t,r=la[e];for(t in r)if(r.hasOwnProperty(t)&&t in da)return ca[e]=r[t];return e}Lt&&(da=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);var ha=ua("animationend"),pa=ua("animationiteration"),ma=ua("animationstart"),fa=ua("transitionrun"),ga=ua("transitionstart"),ya=ua("transitioncancel"),va=ua("transitionend"),ba=new Map,xa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(e,t){ba.set(e,t),$e(t,[e])}xa.push("scrollEnd");var Sa=new WeakMap;function ka(e,t){if("object"===typeof e&&null!==e){var r=Sa.get(e);return void 0!==r?r:(t={value:e,source:t,stack:lt(t)},Sa.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var ja=[],_a=0,Na=0;function Ea(){for(var e=_a,t=Na=_a=0;t<e;){var r=ja[t];ja[t++]=null;var a=ja[t];ja[t++]=null;var n=ja[t];ja[t++]=null;var s=ja[t];if(ja[t++]=null,null!==a&&null!==n){var i=a.pending;null===i?n.next=n:(n.next=i.next,i.next=n),a.pending=n}0!==s&&Ta(r,n,s)}}function Ca(e,t,r,a){ja[_a++]=e,ja[_a++]=t,ja[_a++]=r,ja[_a++]=a,Na|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Pa(e,t,r,a){return Ca(e,t,r,a),Ia(e)}function Aa(e,t){return Ca(e,null,null,t),Ia(e)}function Ta(e,t,r){e.lanes|=r;var a=e.alternate;null!==a&&(a.lanes|=r);for(var n=!1,s=e.return;null!==s;)s.childLanes|=r,null!==(a=s.alternate)&&(a.childLanes|=r),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(n=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,n&&null!==t&&(n=31-pe(r),null===(a=(e=s.hiddenUpdates)[n])?e[n]=[t]:a.push(t),t.lane=536870912|r),s):null}function Ia(e){if(50<Ic)throw Ic=0,Dc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Da={};function Ma(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(e,t,r,a){return new Ma(e,t,r,a)}function Ra(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oa(e,t){var r=e.alternate;return null===r?((r=Fa(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function La(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ba(e,t,r,a,n,s){var o=0;if(a=e,"function"===typeof e)Ra(e)&&(o=1);else if("string"===typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Fa(31,r,t,n)).elementType=E,e.lanes=s,e;case g:return za(r.children,n,s,t);case y:o=8,n|=24;break;case v:return(e=Fa(12,r,t,2|n)).elementType=v,e.lanes=s,e;case k:return(e=Fa(13,r,t,n)).elementType=k,e.lanes=s,e;case j:return(e=Fa(19,r,t,n)).elementType=j,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case x:o=9;break e;case S:o=11;break e;case _:o=14;break e;case N:o=16,a=null;break e}o=29,r=Error(i(130,null===e?"null":typeof e,"")),a=null}return(t=Fa(o,r,t,n)).elementType=e,t.type=a,t.lanes=s,t}function za(e,t,r,a){return(e=Fa(7,e,a,t)).lanes=r,e}function Va(e,t,r){return(e=Fa(6,e,null,t)).lanes=r,e}function Ua(e,t,r){return(t=Fa(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ha=[],Ga=0,qa=null,Wa=0,Ya=[],$a=0,Ka=null,Ja=1,Qa="";function Xa(e,t){Ha[Ga++]=Wa,Ha[Ga++]=qa,qa=e,Wa=t}function Za(e,t,r){Ya[$a++]=Ja,Ya[$a++]=Qa,Ya[$a++]=Ka,Ka=e;var a=Ja;e=Qa;var n=32-pe(a)-1;a&=~(1<<n),r+=1;var s=32-pe(t)+n;if(30<s){var i=n-n%5;s=(a&(1<<i)-1).toString(32),a>>=i,n-=i,Ja=1<<32-pe(t)+n|r<<n|a,Qa=s+e}else Ja=1<<s|r<<n|a,Qa=e}function en(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function tn(e){for(;e===qa;)qa=Ha[--Ga],Ha[Ga]=null,Wa=Ha[--Ga],Ha[Ga]=null;for(;e===Ka;)Ka=Ya[--$a],Ya[$a]=null,Qa=Ya[--$a],Ya[$a]=null,Ja=Ya[--$a],Ya[$a]=null}var rn=null,an=null,nn=!1,sn=null,on=!1,ln=Error(i(519));function cn(e){throw fn(ka(Error(i(418,"")),e)),ln}function dn(e){var t=e.stateNode,r=e.type,a=e.memoizedProps;switch(t[Ie]=e,t[De]=a,r){case"dialog":Od("cancel",t),Od("close",t);break;case"iframe":case"object":case"embed":Od("load",t);break;case"video":case"audio":for(r=0;r<Md.length;r++)Od(Md[r],t);break;case"source":Od("error",t);break;case"img":case"image":case"link":Od("error",t),Od("load",t);break;case"details":Od("toggle",t);break;case"input":Od("invalid",t),yt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),ut(t);break;case"select":Od("invalid",t);break;case"textarea":Od("invalid",t),wt(t,a.value,a.defaultValue,a.children),ut(t)}"string"!==typeof(r=a.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===a.suppressHydrationWarning||Jd(t.textContent,r)?(null!=a.popover&&(Od("beforetoggle",t),Od("toggle",t)),null!=a.onScroll&&Od("scroll",t),null!=a.onScrollEnd&&Od("scrollend",t),null!=a.onClick&&(t.onclick=Qd),t=!0):t=!1,t||cn(e)}function un(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 13:return void(on=!1);case 27:case 3:return void(on=!0);default:rn=rn.return}}function hn(e){if(e!==rn)return!1;if(!nn)return un(e),nn=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||iu(e.type,e.memoizedProps)),t=!t),t&&an&&cn(e),un(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){an=yu(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}an=null}}else 27===r?(r=an,pu(e.type)?(e=vu,vu=null,an=e):an=r):an=rn?yu(e.stateNode.nextSibling):null;return!0}function pn(){an=rn=null,nn=!1}function mn(){var e=sn;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),sn=null),e}function fn(e){null===sn?sn=[e]:sn.push(e)}var gn=B(null),yn=null,vn=null;function bn(e,t,r){V(gn,t._currentValue),t._currentValue=r}function xn(e){e._currentValue=gn.current,z(gn)}function wn(e,t,r){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Sn(e,t,r,a){var n=e.child;for(null!==n&&(n.return=e);null!==n;){var s=n.dependencies;if(null!==s){var o=n.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=n;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),wn(s.return,r,e),a||(o=null);break e}s=l.next}}else if(18===n.tag){if(null===(o=n.return))throw Error(i(341));o.lanes|=r,null!==(s=o.alternate)&&(s.lanes|=r),wn(o,r,e),o=null}else o=n.child;if(null!==o)o.return=n;else for(o=n;null!==o;){if(o===e){o=null;break}if(null!==(n=o.sibling)){n.return=o.return,o=n;break}o=o.return}n=o}}function kn(e,t,r,a){e=null;for(var n=t,s=!1;null!==n;){if(!s)if(0!==(524288&n.flags))s=!0;else if(0!==(262144&n.flags))break;if(10===n.tag){var o=n.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=n.type;$r(n.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(n===q.current){if(null===(o=n.alternate))throw Error(i(387));o.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(null!==e?e.push($u):e=[$u])}n=n.return}null!==e&&Sn(t,e,r,a),t.flags|=262144}function jn(e){for(e=e.firstContext;null!==e;){if(!$r(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _n(e){yn=e,vn=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Nn(e){return Cn(yn,e)}function En(e,t){return null===yn&&_n(e),Cn(e,t)}function Cn(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===vn){if(null===e)throw Error(i(308));vn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vn=vn.next=t;return r}var Pn="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},An=a.unstable_scheduleCallback,Tn=a.unstable_NormalPriority,In={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dn(){return{controller:new Pn,data:new Map,refCount:0}}function Mn(e){e.refCount--,0===e.refCount&&An(Tn,function(){e.controller.abort()})}var Fn=null,Rn=0,On=0,Ln=null;function Bn(){if(0===--Rn&&null!==Fn){null!==Ln&&(Ln.status="fulfilled");var e=Fn;Fn=null,On=0,Ln=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zn=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Fn){var r=Fn=[];Rn=0,On=Pd(),Ln={status:"pending",value:void 0,then:function(e){r.push(e)}}}Rn++,t.then(Bn,Bn)}(0,t),null!==zn&&zn(e,t)};var Vn=B(null);function Un(){var e=Vn.current;return null!==e?e:ac.pooledCache}function Hn(e,t){V(Vn,null===t?Vn.current:t.pool)}function Gn(){var e=Un();return null===e?null:{parent:In._currentValue,pool:e}}var qn=Error(i(460)),Wn=Error(i(474)),Yn=Error(i(542)),$n={then:function(){}};function Kn(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Jn(){}function Qn(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Jn,Jn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Jn,Jn);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Xn=t,qn}}var Xn=null;function Zn(){if(null===Xn)throw Error(i(459));var e=Xn;return Xn=null,e}function es(e){if(e===qn||e===Yn)throw Error(i(483))}var ts=!1;function rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function as(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ns(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,r){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&rc)){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=Ia(e),Ta(e,null,r),t}return Ca(e,a,t,r),Ia(e)}function is(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,Ee(e,r)}}function os(e,t){var r=e.updateQueue,a=e.alternate;if(null!==a&&r===(a=a.updateQueue)){var n=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===s?n=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?n=s=t:s=s.next=t}else n=s=t;return r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==Ln)throw Ln}}function ds(e,t,r,a){ls=!1;var n=e.updateQueue;ts=!1;var s=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(null!==o){n.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=n.baseState;for(i=0,d=c=l=null,o=s;;){var p=-536870913&o.lane,m=p!==o.lane;if(m?(sc&p)===p:(a&p)===p){0!==p&&p===On&&(ls=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;p=t;var y=r;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(y,u,p);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=g.payload)?f.call(y,u,p):f)||void 0===p)break e;u=h({},u,p);break e;case 2:ts=!0}}null!==(p=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=n.callbacks)?n.callbacks=[p]:m.push(p))}else m={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,i|=p;if(null===(o=o.next)){if(null===(o=n.shared.pending))break;o=(m=o).next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}null===d&&(l=u),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null===s&&(n.shared.lanes=0),pc|=i,e.lanes=i,e.memoizedState=u}}function us(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function hs(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)us(r[e],t)}var ps=B(null),ms=B(0);function fs(e,t){V(ms,e=uc),V(ps,t),uc=e|t.baseLanes}function gs(){V(ms,uc),V(ps,ps.current)}function ys(){uc=ms.current,z(ps),z(ms)}var vs=0,bs=null,xs=null,ws=null,Ss=!1,ks=!1,js=!1,_s=0,Ns=0,Es=null,Cs=0;function Ps(){throw Error(i(321))}function As(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$r(e[r],t[r]))return!1;return!0}function Ts(e,t,r,a,n,s){return vs=s,bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?qi:Wi,js=!1,s=r(a,n),js=!1,ks&&(s=Ds(t,r,a,n)),Is(e),s}function Is(e){M.H=Gi;var t=null!==xs&&null!==xs.next;if(vs=0,ws=xs=bs=null,Ss=!1,Ns=0,Es=null,t)throw Error(i(300));null===e||Eo||null!==(e=e.dependencies)&&jn(e)&&(Eo=!0)}function Ds(e,t,r,a){bs=e;var n=0;do{if(ks&&(Es=null),Ns=0,ks=!1,25<=n)throw Error(i(301));if(n+=1,ws=xs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}M.H=Yi,s=t(r,a)}while(ks);return s}function Ms(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?zs(t):t,e=e.useState()[0],(null!==xs?xs.memoizedState:null)!==e&&(bs.flags|=1024),t}function Fs(){var e=0!==_s;return _s=0,e}function Rs(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Os(e){if(Ss){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ss=!1}vs=0,ws=xs=bs=null,ks=!1,Ns=_s=0,Es=null}function Ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?bs.memoizedState=ws=e:ws=ws.next=e,ws}function Bs(){if(null===xs){var e=bs.alternate;e=null!==e?e.memoizedState:null}else e=xs.next;var t=null===ws?bs.memoizedState:ws.next;if(null!==t)ws=t,xs=e;else{if(null===e){if(null===bs.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(xs=e).memoizedState,baseState:xs.baseState,baseQueue:xs.baseQueue,queue:xs.queue,next:null},null===ws?bs.memoizedState=ws=e:ws=ws.next=e}return ws}function zs(e){var t=Ns;return Ns+=1,null===Es&&(Es=[]),e=Qn(Es,e,t),t=bs,null===(null===ws?t.memoizedState:ws.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?qi:Wi),e}function Vs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return zs(e);if(e.$$typeof===w)return Nn(e)}throw Error(i(438,String(e)))}function Us(e){var t=null,r=bs.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var a=bs.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),a=0;a<e;a++)r[a]=C;return t.index++,r}function Hs(e,t){return"function"===typeof t?t(e):t}function Gs(e){return qs(Bs(),xs,e)}function qs(e,t,r){var a=e.queue;if(null===a)throw Error(i(311));a.lastRenderedReducer=r;var n=e.baseQueue,s=a.pending;if(null!==s){if(null!==n){var o=n.next;n.next=s.next,s.next=o}t.baseQueue=n=s,a.pending=null}if(s=e.baseState,null===n)e.memoizedState=s;else{var l=o=null,c=null,d=t=n.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(sc&h)===h:(vs&h)===h){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===On&&(u=!0);else{if((vs&p)===p){d=d.next,p===On&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,bs.lanes|=p,pc|=p}h=d.action,js&&r(s,h),s=d.hasEagerState?d.eagerState:r(s,h)}else p={lane:h,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,o=s):c=c.next=p,bs.lanes|=h,pc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=s:c.next=l,!$r(s,e.memoizedState)&&(Eo=!0,u&&null!==(r=Ln)))throw r;e.memoizedState=s,e.baseState=o,e.baseQueue=c,a.lastRenderedState=s}return null===n&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Ws(e){var t=Bs(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,s=t.memoizedState;if(null!==n){r.pending=null;var o=n=n.next;do{s=e(s,o.action),o=o.next}while(o!==n);$r(s,t.memoizedState)||(Eo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,a]}function Ys(e,t,r){var a=bs,n=Bs(),s=nn;if(s){if(void 0===r)throw Error(i(407));r=r()}else r=t();var o=!$r((xs||n).memoizedState,r);if(o&&(n.memoizedState=r,Eo=!0),n=n.queue,gi(2048,8,Js.bind(null,a,n,e),[e]),n.getSnapshot!==t||o||null!==ws&&1&ws.memoizedState.tag){if(a.flags|=2048,pi(9,{destroy:void 0,resource:void 0},Ks.bind(null,a,n,r,t),null),null===ac)throw Error(i(349));s||0!==(124&vs)||$s(a,t,r)}return r}function $s(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Ks(e,t,r,a){t.value=r,t.getSnapshot=a,Qs(t)&&Xs(e)}function Js(e,t,r){return r(function(){Qs(t)&&Xs(e)})}function Qs(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$r(e,r)}catch(a){return!0}}function Xs(e){var t=Aa(e,2);null!==t&&Rc(t,e,2)}function Zs(e){var t=Ls();if("function"===typeof e){var r=e;if(e=r(),js){he(!0);try{r()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function ei(e,t,r,a){return e.baseState=r,qs(e,xs,"function"===typeof a?a:Hs)}function ti(e,t,r,a,n){if(Vi(e))throw Error(i(485));if(null!==(e=t.action)){var s={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==M.T?r(!0):s.isTransition=!1,a(s),null===(r=t.pending)?(s.next=t.pending=s,ri(t,s)):(s.next=r.next,t.pending=r.next=s)}}function ri(e,t){var r=t.action,a=t.payload,n=e.state;if(t.isTransition){var s=M.T,i={};M.T=i;try{var o=r(n,a),l=M.S;null!==l&&l(i,o),ai(e,t,o)}catch(c){si(e,t,c)}finally{M.T=s}}else try{ai(e,t,s=r(n,a))}catch(d){si(e,t,d)}}function ai(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){ni(e,t,r)},function(r){return si(e,t,r)}):ni(e,t,r)}function ni(e,t,r){t.status="fulfilled",t.value=r,ii(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,ri(e,r)))}function si(e,t,r){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=r,ii(t),t=t.next}while(t!==a)}e.action=null}function ii(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oi(e,t){return t}function li(e,t){if(nn){var r=ac.formState;if(null!==r){e:{var a=bs;if(nn){if(an){t:{for(var n=an,s=on;8!==n.nodeType;){if(!s){n=null;break t}if(null===(n=yu(n.nextSibling))){n=null;break t}}n="F!"===(s=n.data)||"F"===s?n:null}if(n){an=yu(n.nextSibling),a="F!"===n.data;break e}}cn(a)}a=!1}a&&(t=r[0])}}return(r=Ls()).memoizedState=r.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},r.queue=a,r=Li.bind(null,bs,a),a.dispatch=r,a=Zs(!1),s=zi.bind(null,bs,!1,a.queue),n={state:t,dispatch:null,action:e,pending:null},(a=Ls()).queue=n,r=ti.bind(null,bs,n,s,r),n.dispatch=r,a.memoizedState=e,[t,r,!1]}function ci(e){return di(Bs(),xs,e)}function di(e,t,r){if(t=qs(e,t,oi)[0],e=Gs(Hs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var a=zs(t)}catch(i){if(i===qn)throw Yn;throw i}else a=t;var n=(t=Bs()).queue,s=n.dispatch;return r!==t.memoizedState&&(bs.flags|=2048,pi(9,{destroy:void 0,resource:void 0},ui.bind(null,n,r),null)),[a,s,e]}function ui(e,t){e.action=t}function hi(e){var t=Bs(),r=xs;if(null!==r)return di(t,r,e);Bs(),t=t.memoizedState;var a=(r=Bs()).queue.dispatch;return r.memoizedState=e,[t,a,!1]}function pi(e,t,r,a){return e={tag:e,create:r,deps:a,inst:t,next:null},null===(t=bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e),e}function mi(){return Bs().memoizedState}function fi(e,t,r,a){var n=Ls();a=void 0===a?null:a,bs.flags|=e,n.memoizedState=pi(1|t,{destroy:void 0,resource:void 0},r,a)}function gi(e,t,r,a){var n=Bs();a=void 0===a?null:a;var s=n.memoizedState.inst;null!==xs&&null!==a&&As(a,xs.memoizedState.deps)?n.memoizedState=pi(t,s,r,a):(bs.flags|=e,n.memoizedState=pi(1|t,s,r,a))}function yi(e,t){fi(8390656,8,e,t)}function vi(e,t){gi(2048,8,e,t)}function bi(e,t){return gi(4,2,e,t)}function xi(e,t){return gi(4,4,e,t)}function wi(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Si(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,gi(4,4,wi.bind(null,t,e),r)}function ki(){}function ji(e,t){var r=Bs();t=void 0===t?null:t;var a=r.memoizedState;return null!==t&&As(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function _i(e,t){var r=Bs();t=void 0===t?null:t;var a=r.memoizedState;if(null!==t&&As(t,a[1]))return a[0];if(a=e(),js){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[a,t],a}function Ni(e,t,r){return void 0===r||0!==(1073741824&vs)?e.memoizedState=t:(e.memoizedState=r,e=Fc(),bs.lanes|=e,pc|=e,r)}function Ei(e,t,r,a){return $r(r,t)?r:null!==ps.current?(e=Ni(e,r,a),$r(e,t)||(Eo=!0),e):0===(42&vs)?(Eo=!0,e.memoizedState=r):(e=Fc(),bs.lanes|=e,pc|=e,t)}function Ci(e,t,r,a,n){var s=F.p;F.p=0!==s&&8>s?s:8;var i=M.T,o={};M.T=o,zi(e,!1,t,r);try{var l=n(),c=M.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Bi(e,t,function(e,t){var r=[],a={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(a.status="rejected",a.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),a}(l,a),Mc());else Bi(e,t,a,Mc())}catch(d){Bi(e,t,{then:function(){},status:"rejected",reason:d},Mc())}finally{F.p=s,M.T=i}}function Pi(){}function Ai(e,t,r,a){if(5!==e.tag)throw Error(i(476));var n=Ti(e).queue;Ci(e,n,t,R,null===r?Pi:function(){return Ii(e),r(a)})}function Ti(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:R},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ii(e){Bi(e,Ti(e).next.queue,{},Mc())}function Di(){return Nn($u)}function Mi(){return Bs().memoizedState}function Fi(){return Bs().memoizedState}function Ri(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Mc(),a=ss(t,e=ns(r),r);return null!==a&&(Rc(a,t,r),is(a,t,r)),t={cache:Dn()},void(e.payload=t)}t=t.return}}function Oi(e,t,r){var a=Mc();r={lane:a,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Vi(e)?Ui(t,r):null!==(r=Pa(e,t,r,a))&&(Rc(r,e,a),Hi(r,t,a))}function Li(e,t,r){Bi(e,t,r,Mc())}function Bi(e,t,r,a){var n={lane:a,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Vi(e))Ui(t,n);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,r);if(n.hasEagerState=!0,n.eagerState=o,$r(o,i))return Ca(e,t,n,0),null===ac&&Ea(),!1}catch(l){}if(null!==(r=Pa(e,t,n,a)))return Rc(r,e,a),Hi(r,t,a),!0}return!1}function zi(e,t,r,a){if(a={lane:2,revertLane:Pd(),action:a,hasEagerState:!1,eagerState:null,next:null},Vi(e)){if(t)throw Error(i(479))}else null!==(t=Pa(e,r,a,2))&&Rc(t,e,2)}function Vi(e){var t=e.alternate;return e===bs||null!==t&&t===bs}function Ui(e,t){ks=Ss=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Hi(e,t,r){if(0!==(4194048&r)){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,Ee(e,r)}}var Gi={readContext:Nn,use:Vs,useCallback:Ps,useContext:Ps,useEffect:Ps,useImperativeHandle:Ps,useLayoutEffect:Ps,useInsertionEffect:Ps,useMemo:Ps,useReducer:Ps,useRef:Ps,useState:Ps,useDebugValue:Ps,useDeferredValue:Ps,useTransition:Ps,useSyncExternalStore:Ps,useId:Ps,useHostTransitionStatus:Ps,useFormState:Ps,useActionState:Ps,useOptimistic:Ps,useMemoCache:Ps,useCacheRefresh:Ps},qi={readContext:Nn,use:Vs,useCallback:function(e,t){return Ls().memoizedState=[e,void 0===t?null:t],e},useContext:Nn,useEffect:yi,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,fi(4194308,4,wi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fi(4194308,4,e,t)},useInsertionEffect:function(e,t){fi(4,2,e,t)},useMemo:function(e,t){var r=Ls();t=void 0===t?null:t;var a=e();if(js){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[a,t],a},useReducer:function(e,t,r){var a=Ls();if(void 0!==r){var n=r(t);if(js){he(!0);try{r(t)}finally{he(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Oi.bind(null,bs,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},Ls().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,r=Li.bind(null,bs,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:ki,useDeferredValue:function(e,t){return Ni(Ls(),e,t)},useTransition:function(){var e=Zs(!1);return e=Ci.bind(null,bs,e.queue,!0,!1),Ls().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var a=bs,n=Ls();if(nn){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===ac)throw Error(i(349));0!==(124&sc)||$s(a,t,r)}n.memoizedState=r;var s={value:r,getSnapshot:t};return n.queue=s,yi(Js.bind(null,a,s,e),[e]),a.flags|=2048,pi(9,{destroy:void 0,resource:void 0},Ks.bind(null,a,s,r,t),null),r},useId:function(){var e=Ls(),t=ac.identifierPrefix;if(nn){var r=Qa;t="\xab"+t+"R"+(r=(Ja&~(1<<32-pe(Ja)-1)).toString(32)+r),0<(r=_s++)&&(t+="H"+r.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(r=Cs++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Di,useFormState:li,useActionState:li,useOptimistic:function(e){var t=Ls();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=zi.bind(null,bs,!0,r),r.dispatch=t,[e,t]},useMemoCache:Us,useCacheRefresh:function(){return Ls().memoizedState=Ri.bind(null,bs)}},Wi={readContext:Nn,use:Vs,useCallback:ji,useContext:Nn,useEffect:vi,useImperativeHandle:Si,useInsertionEffect:bi,useLayoutEffect:xi,useMemo:_i,useReducer:Gs,useRef:mi,useState:function(){return Gs(Hs)},useDebugValue:ki,useDeferredValue:function(e,t){return Ei(Bs(),xs.memoizedState,e,t)},useTransition:function(){var e=Gs(Hs)[0],t=Bs().memoizedState;return["boolean"===typeof e?e:zs(e),t]},useSyncExternalStore:Ys,useId:Mi,useHostTransitionStatus:Di,useFormState:ci,useActionState:ci,useOptimistic:function(e,t){return ei(Bs(),0,e,t)},useMemoCache:Us,useCacheRefresh:Fi},Yi={readContext:Nn,use:Vs,useCallback:ji,useContext:Nn,useEffect:vi,useImperativeHandle:Si,useInsertionEffect:bi,useLayoutEffect:xi,useMemo:_i,useReducer:Ws,useRef:mi,useState:function(){return Ws(Hs)},useDebugValue:ki,useDeferredValue:function(e,t){var r=Bs();return null===xs?Ni(r,e,t):Ei(r,xs.memoizedState,e,t)},useTransition:function(){var e=Ws(Hs)[0],t=Bs().memoizedState;return["boolean"===typeof e?e:zs(e),t]},useSyncExternalStore:Ys,useId:Mi,useHostTransitionStatus:Di,useFormState:hi,useActionState:hi,useOptimistic:function(e,t){var r=Bs();return null!==xs?ei(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Us,useCacheRefresh:Fi},$i=null,Ki=0;function Ji(e){var t=Ki;return Ki+=1,null===$i&&($i=[]),Qn($i,e,t)}function Qi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xi(e,t){if(t.$$typeof===p)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zi(e){return(0,e._init)(e._payload)}function eo(e){function t(t,r){if(e){var a=t.deletions;null===a?(t.deletions=[r],t.flags|=16):a.push(r)}}function r(r,a){if(!e)return null;for(;null!==a;)t(r,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function n(e,t){return(e=Oa(e,t)).index=0,e.sibling=null,e}function s(t,r,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<r?(t.flags|=67108866,r):a:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,a){return null===t||6!==t.tag?((t=Va(r,e.mode,a)).return=e,t):((t=n(t,r)).return=e,t)}function c(e,t,r,a){var s=r.type;return s===g?u(e,t,r.props.children,a,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&Zi(s)===t.type)?(Qi(t=n(t,r.props),r),t.return=e,t):(Qi(t=Ba(r.type,r.key,r.props,null,e.mode,a),r),t.return=e,t)}function d(e,t,r,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Ua(r,e.mode,a)).return=e,t):((t=n(t,r.children||[])).return=e,t)}function u(e,t,r,a,s){return null===t||7!==t.tag?((t=za(r,e.mode,a,s)).return=e,t):((t=n(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Va(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Qi(r=Ba(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case f:return(t=Ua(t,e.mode,r)).return=e,t;case N:return h(e,t=(0,t._init)(t._payload),r)}if(D(t)||A(t))return(t=za(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return h(e,Ji(t),r);if(t.$$typeof===w)return h(e,En(e,t),r);Xi(e,t)}return null}function p(e,t,r,a){var n=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==n?null:l(e,t,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return r.key===n?c(e,t,r,a):null;case f:return r.key===n?d(e,t,r,a):null;case N:return p(e,t,r=(n=r._init)(r._payload),a)}if(D(r)||A(r))return null!==n?null:u(e,t,r,a,null);if("function"===typeof r.then)return p(e,t,Ji(r),a);if(r.$$typeof===w)return p(e,t,En(e,r),a);Xi(e,r)}return null}function y(e,t,r,a,n){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return l(t,e=e.get(r)||null,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case m:return c(t,e=e.get(null===a.key?r:a.key)||null,a,n);case f:return d(t,e=e.get(null===a.key?r:a.key)||null,a,n);case N:return y(e,t,r,a=(0,a._init)(a._payload),n)}if(D(a)||A(a))return u(t,e=e.get(r)||null,a,n,null);if("function"===typeof a.then)return y(e,t,r,Ji(a),n);if(a.$$typeof===w)return y(e,t,r,En(t,a),n);Xi(t,a)}return null}function v(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case m:e:{for(var b=d.key;null!==c;){if(c.key===b){if((b=d.type)===g){if(7===c.tag){r(l,c.sibling),(u=n(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===N&&Zi(b)===c.type){r(l,c.sibling),Qi(u=n(c,d.props),d),u.return=l,l=u;break e}r(l,c);break}t(l,c),c=c.sibling}d.type===g?((u=za(d.props.children,l.mode,u,d.key)).return=l,l=u):(Qi(u=Ba(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case f:e:{for(b=d.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){r(l,c.sibling),(u=n(c,d.children||[])).return=l,l=u;break e}r(l,c);break}t(l,c),c=c.sibling}(u=Ua(d,l.mode,u)).return=l,l=u}return o(l);case N:return v(l,c,d=(b=d._init)(d._payload),u)}if(D(d))return function(n,i,o,l){for(var c=null,d=null,u=i,m=i=0,f=null;null!==u&&m<o.length;m++){u.index>m?(f=u,u=null):f=u.sibling;var g=p(n,u,o[m],l);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(n,u),i=s(g,i,m),null===d?c=g:d.sibling=g,d=g,u=f}if(m===o.length)return r(n,u),nn&&Xa(n,m),c;if(null===u){for(;m<o.length;m++)null!==(u=h(n,o[m],l))&&(i=s(u,i,m),null===d?c=u:d.sibling=u,d=u);return nn&&Xa(n,m),c}for(u=a(u);m<o.length;m++)null!==(f=y(u,n,m,o[m],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?m:f.key),i=s(f,i,m),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(n,e)}),nn&&Xa(n,m),c}(l,c,d,u);if(A(d)){if("function"!==typeof(b=A(d)))throw Error(i(150));return function(n,o,l,c){if(null==l)throw Error(i(151));for(var d=null,u=null,m=o,f=o=0,g=null,v=l.next();null!==m&&!v.done;f++,v=l.next()){m.index>f?(g=m,m=null):g=m.sibling;var b=p(n,m,v.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(n,m),o=s(b,o,f),null===u?d=b:u.sibling=b,u=b,m=g}if(v.done)return r(n,m),nn&&Xa(n,f),d;if(null===m){for(;!v.done;f++,v=l.next())null!==(v=h(n,v.value,c))&&(o=s(v,o,f),null===u?d=v:u.sibling=v,u=v);return nn&&Xa(n,f),d}for(m=a(m);!v.done;f++,v=l.next())null!==(v=y(m,n,f,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?f:v.key),o=s(v,o,f),null===u?d=v:u.sibling=v,u=v);return e&&m.forEach(function(e){return t(n,e)}),nn&&Xa(n,f),d}(l,c,d=b.call(d),u)}if("function"===typeof d.then)return v(l,c,Ji(d),u);if(d.$$typeof===w)return v(l,c,En(l,d),u);Xi(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(r(l,c.sibling),(u=n(c,d)).return=l,l=u):(r(l,c),(u=Va(d,l.mode,u)).return=l,l=u),o(l)):r(l,c)}return function(e,t,r,a){try{Ki=0;var n=v(e,t,r,a);return $i=null,n}catch(i){if(i===qn||i===Yn)throw i;var s=Fa(29,i,null,e.mode);return s.lanes=a,s.return=e,s}}}var to=eo(!0),ro=eo(!1),ao=B(null),no=null;function so(e){var t=e.alternate;V(co,1&co.current),V(ao,e),null===no&&(null===t||null!==ps.current||null!==t.memoizedState)&&(no=e)}function io(e){if(22===e.tag){if(V(co,co.current),V(ao,e),null===no){var t=e.alternate;null!==t&&null!==t.memoizedState&&(no=e)}}else oo()}function oo(){V(co,co.current),V(ao,ao.current)}function lo(e){z(ao),no===e&&(no=null),z(co)}var co=B(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||gu(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,r,a){r=null===(r=r(a,t=e.memoizedState))||void 0===r?t:h({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var po={enqueueSetState:function(e,t,r){e=e._reactInternals;var a=Mc(),n=ns(a);n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=ss(e,n,a))&&(Rc(t,e,a),is(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=Mc(),n=ns(a);n.tag=1,n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=ss(e,n,a))&&(Rc(t,e,a),is(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mc(),a=ns(r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=ss(e,a,r))&&(Rc(t,e,r),is(t,e,r))}};function mo(e,t,r,a,n,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Kr(r,a)||!Kr(n,s))}function fo(e,t,r,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t){var r=t;if("ref"in t)for(var a in r={},t)"ref"!==a&&(r[a]=t[a]);if(e=e.defaultProps)for(var n in r===t&&(r=h({},r)),e)void 0===r[n]&&(r[n]=e[n]);return r}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function bo(e){console.error(e)}function xo(e){yo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function So(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function ko(e,t,r){return(r=ns(r)).tag=3,r.payload={element:null},r.callback=function(){wo(e,t)},r}function jo(e){return(e=ns(e)).tag=3,e}function _o(e,t,r,a){var n=r.type.getDerivedStateFromError;if("function"===typeof n){var s=a.value;e.payload=function(){return n(s)},e.callback=function(){So(t,r,a)}}var i=r.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){So(t,r,a),"function"!==typeof n&&(null===jc?jc=new Set([this]):jc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var No=Error(i(461)),Eo=!1;function Co(e,t,r,a){t.child=null===e?ro(t,null,r,a):to(t,e.child,r,a)}function Po(e,t,r,a,n){r=r.render;var s=t.ref;if("ref"in a){var i={};for(var o in a)"ref"!==o&&(i[o]=a[o])}else i=a;return _n(t),a=Ts(e,t,r,i,s,n),o=Fs(),null===e||Eo?(nn&&o&&en(t),t.flags|=1,Co(e,t,a,n),t.child):(Rs(e,t,n),Ko(e,t,n))}function Ao(e,t,r,a,n){if(null===e){var s=r.type;return"function"!==typeof s||Ra(s)||void 0!==s.defaultProps||null!==r.compare?((e=Ba(r.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,To(e,t,s,a,n))}if(s=e.child,!Jo(e,n)){var i=s.memoizedProps;if((r=null!==(r=r.compare)?r:Kr)(i,a)&&e.ref===t.ref)return Ko(e,t,n)}return t.flags|=1,(e=Oa(s,a)).ref=t.ref,e.return=t,t.child=e}function To(e,t,r,a,n){if(null!==e){var s=e.memoizedProps;if(Kr(s,a)&&e.ref===t.ref){if(Eo=!1,t.pendingProps=a=s,!Jo(e,n))return t.lanes=e.lanes,Ko(e,t,n);0!==(131072&e.flags)&&(Eo=!0)}}return Fo(e,t,r,a,n)}function Io(e,t,r){var a=t.pendingProps,n=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode){if(0!==(128&t.flags)){if(a=null!==s?s.baseLanes|r:r,null!==e){for(n=t.child=e.child,s=0;null!==n;)s=s|n.lanes|n.childLanes,n=n.sibling;t.childLanes=s&~a}else t.childLanes=0,t.child=null;return Do(e,t,a,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,Do(e,t,null!==s?s.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hn(0,null!==s?s.cachePool:null),null!==s?fs(t,s):gs(),io(t)}else null!==s?(Hn(0,s.cachePool),fs(t,s),oo(),t.memoizedState=null):(null!==e&&Hn(0,null),gs(),oo());return Co(e,t,n,r),t.child}function Do(e,t,r,a){var n=Un();return n=null===n?null:{parent:In._currentValue,pool:n},t.memoizedState={baseLanes:r,cachePool:n},null!==e&&Hn(0,null),gs(),io(t),null!==e&&kn(e,t,a,!0),null}function Mo(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(i(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Fo(e,t,r,a,n){return _n(t),r=Ts(e,t,r,a,void 0,n),a=Fs(),null===e||Eo?(nn&&a&&en(t),t.flags|=1,Co(e,t,r,n),t.child):(Rs(e,t,n),Ko(e,t,n))}function Ro(e,t,r,a,n,s){return _n(t),t.updateQueue=null,r=Ds(t,a,r,n),Is(e),a=Fs(),null===e||Eo?(nn&&a&&en(t),t.flags|=1,Co(e,t,r,s),t.child):(Rs(e,t,s),Ko(e,t,s))}function Oo(e,t,r,a,n){if(_n(t),null===t.stateNode){var s=Da,i=r.contextType;"object"===typeof i&&null!==i&&(s=Nn(i)),s=new r(a,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=po,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=a,s.state=t.memoizedState,s.refs={},rs(t),i=r.contextType,s.context="object"===typeof i&&null!==i?Nn(i):Da,s.state=t.memoizedState,"function"===typeof(i=r.getDerivedStateFromProps)&&(ho(t,r,i,a),s.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(i=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&po.enqueueReplaceState(s,s.state,null),ds(t,a,s,n),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=go(r,o);s.props=l;var c=s.context,d=r.contextType;i=Da,"object"===typeof d&&null!==d&&(i=Nn(d));var u=r.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==i)&&fo(t,s,a,i),ts=!1;var h=t.memoizedState;s.state=h,ds(t,a,s,n),cs(),c=t.memoizedState,o||h!==c||ts?("function"===typeof u&&(ho(t,r,u,a),c=t.memoizedState),(l=ts||mo(t,r,l,a,h,c,i))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=i,a=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,as(e,t),d=go(r,i=t.memoizedProps),s.props=d,u=t.pendingProps,h=s.context,c=r.contextType,l=Da,"object"===typeof c&&null!==c&&(l=Nn(c)),(c="function"===typeof(o=r.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==u||h!==l)&&fo(t,s,a,l),ts=!1,h=t.memoizedState,s.state=h,ds(t,a,s,n),cs();var p=t.memoizedState;i!==u||h!==p||ts||null!==e&&null!==e.dependencies&&jn(e.dependencies)?("function"===typeof o&&(ho(t,r,o,a),p=t.memoizedState),(d=ts||mo(t,r,d,a,h,p,l)||null!==e&&null!==e.dependencies&&jn(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(a,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),s.props=a,s.state=p,s.context=l,a=d):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Mo(e,t),a=0!==(128&t.flags),s||a?(s=t.stateNode,r=a&&"function"!==typeof r.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&a?(t.child=to(t,e.child,null,n),t.child=to(t,null,r,n)):Co(e,t,r,n),t.memoizedState=s.state,e=t.child):e=Ko(e,t,n),e}function Lo(e,t,r,a){return pn(),t.flags|=256,Co(e,t,r,a),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zo(e){return{baseLanes:e,cachePool:Gn()}}function Vo(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=gc),e}function Uo(e,t,r){var a,n=t.pendingProps,s=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),a&&(s=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(nn){if(s?so(t):oo(),nn){var l,c=an;if(l=c){e:{for(l=c,c=on;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Ka?{id:Ja,overflow:Qa}:null,retryLane:536870912,hydrationErrors:null},(l=Fa(18,null,null,0)).stateNode=c,l.return=t,t.child=l,rn=t,an=null,l=!0):l=!1}l||cn(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gu(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=n.children,n=n.fallback,s?(oo(),c=Go({mode:"hidden",children:c},s=t.mode),n=za(n,s,r,null),c.return=t,n.return=t,c.sibling=n,t.child=c,(s=t.child).memoizedState=zo(r),s.childLanes=Vo(e,a,r),t.memoizedState=Bo,n):(so(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=qo(e,t,r)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),s=n.fallback,c=t.mode,n=Go({mode:"visible",children:n.children},c),(s=za(s,c,r,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,to(t,e.child,null,r),(n=t.child).memoizedState=zo(r),n.childLanes=Vo(e,a,r),t.memoizedState=Bo,t=s);else if(so(t),gu(c)){if(a=c.nextSibling&&c.nextSibling.dataset)var d=a.dgst;a=d,(n=Error(i(419))).stack="",n.digest=a,fn({value:n,source:null,stack:null}),t=qo(e,t,r)}else if(Eo||kn(e,t,r,!1),a=0!==(r&e.childLanes),Eo||a){if(null!==(a=ac)&&(0!==(n=0!==((n=0!==(42&(n=r&-r))?1:Ce(n))&(a.suspendedLanes|r))?0:n)&&n!==l.retryLane))throw l.retryLane=n,Aa(e,n),Rc(a,e,n),No;"$?"===c.data||Yc(),t=qo(e,t,r)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,an=yu(c.nextSibling),rn=t,nn=!0,sn=null,on=!1,null!==e&&(Ya[$a++]=Ja,Ya[$a++]=Qa,Ya[$a++]=Ka,Ja=e.id,Qa=e.overflow,Ka=t),(t=Ho(t,n.children)).flags|=4096);return t}return s?(oo(),s=n.fallback,c=t.mode,d=(l=e.child).sibling,(n=Oa(l,{mode:"hidden",children:n.children})).subtreeFlags=65011712&l.subtreeFlags,null!==d?s=Oa(d,s):(s=za(s,c,r,null)).flags|=2,s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,null===(c=e.child.memoizedState)?c=zo(r):(null!==(l=c.cachePool)?(d=In._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Gn(),c={baseLanes:c.baseLanes|r,cachePool:l}),s.memoizedState=c,s.childLanes=Vo(e,a,r),t.memoizedState=Bo,n):(so(t),e=(r=e.child).sibling,(r=Oa(r,{mode:"visible",children:n.children})).return=t,r.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=r,t.memoizedState=null,r)}function Ho(e,t){return(t=Go({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Go(e,t){return(e=Fa(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qo(e,t,r){return to(t,e.child,null,r),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,r){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),wn(e.return,t,r)}function Yo(e,t,r,a,n){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=r,s.tailMode=n)}function $o(e,t,r){var a=t.pendingProps,n=a.revealOrder,s=a.tail;if(Co(e,t,a.children,r),0!==(2&(a=co.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,r,t);else if(19===e.tag)Wo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(V(co,a),n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===uo(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Yo(t,!1,n,r,s);break;case"backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===uo(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Yo(t,!0,r,null,s);break;case"together":Yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ko(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(kn(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Oa(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Oa(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Jo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!jn(e))}function Qo(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Eo=!0;else{if(!Jo(e,r)&&0===(128&t.flags))return Eo=!1,function(e,t,r){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),bn(0,In,e.memoizedState.cache),pn();break;case 27:case 5:$(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:bn(0,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(so(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Uo(e,t,r):(so(t),null!==(e=Ko(e,t,r))?e.sibling:null);so(t);break;case 19:var n=0!==(128&e.flags);if((a=0!==(r&t.childLanes))||(kn(e,t,r,!1),a=0!==(r&t.childLanes)),n){if(a)return $o(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),V(co,co.current),a)break;return null;case 22:case 23:return t.lanes=0,Io(e,t,r);case 24:bn(0,In,e.memoizedState.cache)}return Ko(e,t,r)}(e,t,r);Eo=0!==(131072&e.flags)}else Eo=!1,nn&&0!==(1048576&t.flags)&&Za(t,Wa,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,n=a._init;if(a=n(a._payload),t.type=a,"function"!==typeof a){if(void 0!==a&&null!==a){if((n=a.$$typeof)===S){t.tag=11,t=Po(null,t,a,e,r);break e}if(n===_){t.tag=14,t=Ao(null,t,a,e,r);break e}}throw t=I(a)||a,Error(i(306,t,""))}Ra(a)?(e=go(a,e),t.tag=1,t=Oo(null,t,a,e,r)):(t.tag=0,t=Fo(null,t,a,e,r))}return t;case 0:return Fo(e,t,t.type,t.pendingProps,r);case 1:return Oo(e,t,a=t.type,n=go(a,t.pendingProps),r);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(i(387));a=t.pendingProps;var s=t.memoizedState;n=s.element,as(e,t),ds(t,a,null,r);var o=t.memoizedState;if(a=o.cache,bn(0,In,a),a!==s.cache&&Sn(t,[In],r,!0),cs(),a=o.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Lo(e,t,a,r);break e}if(a!==n){fn(n=ka(Error(i(424)),t)),t=Lo(e,t,a,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(an=yu(e.firstChild),rn=t,nn=!0,sn=null,on=!0,r=ro(t,null,a,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(pn(),a===n){t=Ko(e,t,r);break e}Co(e,t,a,r)}t=t.child}return t;case 26:return Mo(e,t),null===e?(r=Cu(t.type,null,t.pendingProps,null))?t.memoizedState=r:nn||(r=t.type,e=t.pendingProps,(a=au(G.current).createElement(r))[Ie]=t,a[De]=e,eu(a,r,e),qe(a),t.stateNode=a):t.memoizedState=Cu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&nn&&(a=t.stateNode=xu(t.type,t.pendingProps,G.current),rn=t,on=!0,n=an,pu(t.type)?(vu=n,an=yu(a.firstChild)):an=n),Co(e,t,t.pendingProps.children,r),Mo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&nn&&((n=a=an)&&(null!==(a=function(e,t,r,a){for(;1===e.nodeType;){var n=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==n.rel||e.getAttribute("href")!==(null==n.href||""===n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===s)return e}if(null===(e=yu(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,on))?(t.stateNode=a,rn=t,an=yu(a.firstChild),on=!1,n=!0):n=!1),n||cn(t)),$(t),n=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,a=s.children,iu(n,s)?a=null:null!==o&&iu(n,o)&&(t.flags|=32),null!==t.memoizedState&&(n=Ts(e,t,Ms,null,null,r),$u._currentValue=n),Mo(e,t),Co(e,t,a,r),t.child;case 6:return null===e&&nn&&((e=r=an)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=yu(e.nextSibling)))return null}return e}(r,t.pendingProps,on))?(t.stateNode=r,rn=t,an=null,e=!0):e=!1),e||cn(t)),null;case 13:return Uo(e,t,r);case 4:return W(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=to(t,null,a,r):Co(e,t,a,r),t.child;case 11:return Po(e,t,t.type,t.pendingProps,r);case 7:return Co(e,t,t.pendingProps,r),t.child;case 8:case 12:return Co(e,t,t.pendingProps.children,r),t.child;case 10:return a=t.pendingProps,bn(0,t.type,a.value),Co(e,t,a.children,r),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,_n(t),a=a(n=Nn(n)),t.flags|=1,Co(e,t,a,r),t.child;case 14:return Ao(e,t,t.type,t.pendingProps,r);case 15:return To(e,t,t.type,t.pendingProps,r);case 19:return $o(e,t,r);case 31:return a=t.pendingProps,r=t.mode,a={mode:a.mode,children:a.children},null===e?((r=Go(a,r)).ref=t.ref,t.child=r,r.return=t,t=r):((r=Oa(e.child,a)).ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return Io(e,t,r);case 24:return _n(t),a=Nn(In),null===e?(null===(n=Un())&&(n=ac,s=Dn(),n.pooledCache=s,s.refCount++,null!==s&&(n.pooledCacheLanes|=r),n=s),t.memoizedState={parent:a,cache:n},rs(t),bn(0,In,n)):(0!==(e.lanes&r)&&(as(e,t),ds(t,null,null,r),cs()),n=e.memoizedState,s=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=n),bn(0,In,a)):(a=s.cache,bn(0,In,a),a!==n.cache&&Sn(t,[In],r,!0))),Co(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Xo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Vu(t)){if(null!==(t=ao.current)&&((4194048&sc)===sc?null!==no:(62914560&sc)!==sc&&0===(536870912&sc)||t!==no))throw Xn=$n,Wn;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!nn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;null!==r;)null!==r.alternate&&(a=r),r=r.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,a=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=65011712&n.subtreeFlags,a|=65011712&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function al(e,t,r){var a=t.pendingProps;switch(tn(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return r=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),xn(In),Y(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hn(t)?Xo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mn())),rl(t),null;case 26:return r=t.memoizedState,null===e?(Xo(t),null!==r?(rl(t),Zo(t,r)):(rl(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Xo(t),rl(t),Zo(t,r)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==a&&Xo(t),rl(t),t.flags&=-16777217),null;case 27:K(t),r=G.current;var n=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Xo(t);else{if(!a){if(null===t.stateNode)throw Error(i(166));return rl(t),null}e=U.current,hn(t)?dn(t):(e=xu(n,a,r),t.stateNode=e,Xo(t))}return rl(t),null;case 5:if(K(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Xo(t);else{if(!a){if(null===t.stateNode)throw Error(i(166));return rl(t),null}if(e=U.current,hn(t))dn(t);else{switch(n=au(G.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=n.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof a.is?n.createElement("select",{is:a.is}):n.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e="string"===typeof a.is?n.createElement(r,{is:a.is}):n.createElement(r)}}e[Ie]=t,e[De]=a;e:for(n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&27!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;null===n.sibling;){if(null===n.return||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(eu(e,r,a),r){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xo(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&Xo(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(i(166));if(e=G.current,hn(t)){if(e=t.stateNode,r=t.memoizedProps,a=null,null!==(n=rn))switch(n.tag){case 27:case 5:a=n.memoizedProps}e[Ie]=t,(e=!!(e.nodeValue===r||null!==a&&!0===a.suppressHydrationWarning||Jd(e.nodeValue,r)))||cn(t)}else(e=au(e).createTextNode(a))[Ie]=t,t.stateNode=e}return rl(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(n=hn(t),null!==a&&null!==a.dehydrated){if(null===e){if(!n)throw Error(i(318));if(!(n=null!==(n=t.memoizedState)?n.dehydrated:null))throw Error(i(317));n[Ie]=t}else pn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),n=!1}else n=mn(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==a,e=null!==e&&null!==e.memoizedState,r){n=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(n=a.alternate.memoizedState.cachePool.pool);var s=null;null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(s=a.memoizedState.cachePool.pool),s!==n&&(a.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),el(t,t.updateQueue),rl(t),null;case 4:return Y(),null===e&&zd(t.stateNode.containerInfo),rl(t),null;case 10:return xn(t.type),rl(t),null;case 19:if(z(co),null===(n=t.memoizedState))return rl(t),null;if(a=0!==(128&t.flags),null===(s=n.rendering))if(a)tl(n,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=uo(e))){for(t.flags|=128,tl(n,!1),e=s.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)La(r,e),r=r.sibling;return V(co,1&co.current|2),t.child}e=e.sibling}null!==n.tail&&te()>Sc&&(t.flags|=128,a=!0,tl(n,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=uo(s))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate&&!nn)return rl(t),null}else 2*te()-n.renderingStartTime>Sc&&536870912!==r&&(t.flags|=128,a=!0,tl(n,!1),t.lanes=4194304);n.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=n.last)?e.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=te(),t.sibling=null,e=co.current,V(co,a?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return lo(t),ys(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&r)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(r=t.updateQueue)&&el(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==r&&(t.flags|=2048),null!==e&&z(Vn),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xn(In),rl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function nl(e,t){switch(tn(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xn(In),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(co),null;case 4:return Y(),null;case 10:return xn(t.type),null;case 22:case 23:return lo(t),ys(),null!==e&&z(Vn),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xn(In),null;default:return null}}function sl(e,t){switch(tn(t),t.tag){case 3:xn(In),Y();break;case 26:case 27:case 5:K(t);break;case 4:Y();break;case 13:lo(t);break;case 19:z(co);break;case 10:xn(t.type);break;case 22:case 23:lo(t),ys(),null!==e&&z(Vn);break;case 24:xn(In)}}function il(e,t){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var n=a.next;r=n;do{if((r.tag&e)===e){a=void 0;var s=r.create,i=r.inst;a=s(),i.destroy=a}r=r.next}while(r!==n)}}catch(o){dd(t,t.return,o)}}function ol(e,t,r){try{var a=t.updateQueue,n=null!==a?a.lastEffect:null;if(null!==n){var s=n.next;a=s;do{if((a.tag&e)===e){var i=a.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,n=t;var l=r,c=o;try{c()}catch(d){dd(n,l,d)}}}a=a.next}while(a!==s)}}catch(d){dd(t,t.return,d)}}function ll(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{hs(t,r)}catch(a){dd(e,e.return,a)}}}function cl(e,t,r){r.props=go(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(a){dd(e,t,a)}}function dl(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"===typeof r?e.refCleanup=r(a):r.current=a}}catch(n){dd(e,t,n)}}function ul(e,t){var r=e.ref,a=e.refCleanup;if(null!==r)if("function"===typeof a)try{a()}catch(n){dd(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(s){dd(e,t,s)}else r.current=null}function hl(e){var t=e.type,r=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&a.focus();break e;case"img":r.src?a.src=r.src:r.srcSet&&(a.srcset=r.srcSet)}}catch(n){dd(e,e.return,n)}}function pl(e,t,r){try{var a=e.stateNode;!function(e,t,r,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,s=null,o=null,l=null,c=null,d=null,u=null;for(m in r){var h=r[m];if(r.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:a.hasOwnProperty(m)||Xd(e,t,m,null,a,h)}}for(var p in a){var m=a[p];if(h=r[p],a.hasOwnProperty(p)&&(null!=m||null!=h))switch(p){case"type":s=m;break;case"name":n=m;break;case"checked":d=m;break;case"defaultChecked":u=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:m!==h&&Xd(e,t,p,m,a,h)}}return void gt(e,o,l,c,d,u,s,n);case"select":for(s in m=o=l=p=null,r)if(c=r[s],r.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":m=c;default:a.hasOwnProperty(s)||Xd(e,t,s,null,a,c)}for(n in a)if(s=a[n],c=r[n],a.hasOwnProperty(n)&&(null!=s||null!=c))switch(n){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Xd(e,t,n,s,a,c)}return t=l,r=o,a=m,void(null!=p?bt(e,!!r,p,!1):!!a!==!!r&&(null!=t?bt(e,!!r,t,!0):bt(e,!!r,r?[]:"",!1)));case"textarea":for(l in m=p=null,r)if(n=r[l],r.hasOwnProperty(l)&&null!=n&&!a.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xd(e,t,l,null,a,n)}for(o in a)if(n=a[o],s=r[o],a.hasOwnProperty(o)&&(null!=n||null!=s))switch(o){case"value":p=n;break;case"defaultValue":m=n;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=n)throw Error(i(91));break;default:n!==s&&Xd(e,t,o,n,a,s)}return void xt(e,p,m);case"option":for(var f in r)if(p=r[f],r.hasOwnProperty(f)&&null!=p&&!a.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Xd(e,t,f,null,a,p);for(c in a)if(p=a[c],m=r[c],a.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Xd(e,t,c,p,a,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)p=r[g],r.hasOwnProperty(g)&&null!=p&&!a.hasOwnProperty(g)&&Xd(e,t,g,null,a,p);for(d in a)if(p=a[d],m=r[d],a.hasOwnProperty(d)&&p!==m&&(null!=p||null!=m))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:Xd(e,t,d,p,a,m)}return;default:if(Nt(t)){for(var y in r)p=r[y],r.hasOwnProperty(y)&&void 0!==p&&!a.hasOwnProperty(y)&&Zd(e,t,y,void 0,a,p);for(u in a)p=a[u],m=r[u],!a.hasOwnProperty(u)||p===m||void 0===p&&void 0===m||Zd(e,t,u,p,a,m);return}}for(var v in r)p=r[v],r.hasOwnProperty(v)&&null!=p&&!a.hasOwnProperty(v)&&Xd(e,t,v,null,a,p);for(h in a)p=a[h],m=r[h],!a.hasOwnProperty(h)||p===m||null==p&&null==m||Xd(e,t,h,p,a,m)}(a,e.type,r,t),a[De]=t}catch(n){dd(e,e.return,n)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pu(e.type)||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Qd));else if(4!==a&&(27===a&&pu(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,r),e=e.sibling;null!==e;)gl(e,t,r),e=e.sibling}function yl(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==a&&(27===a&&pu(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(yl(e,t,r),e=e.sibling;null!==e;)yl(e,t,r),e=e.sibling}function vl(e){var t=e.stateNode,r=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);eu(t,a,r),t[Ie]=e,t[De]=r}catch(s){dd(e,e.return,s)}}var bl=!1,xl=!1,wl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,kl=null;function jl(e,t,r){var a=r.flags;switch(r.tag){case 0:case 11:case 15:Ol(e,r),4&a&&il(5,r);break;case 1:if(Ol(e,r),4&a)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(i){dd(r,r.return,i)}else{var n=go(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){dd(r,r.return,o)}}64&a&&ll(r),512&a&&dl(r,r.return);break;case 3:if(Ol(e,r),64&a&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{hs(e,t)}catch(i){dd(r,r.return,i)}}break;case 27:null===t&&4&a&&vl(r);case 26:case 5:Ol(e,r),null===t&&4&a&&hl(r),512&a&&dl(r,r.return);break;case 12:Ol(e,r);break;case 13:Ol(e,r),4&a&&Al(e,r),64&a&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$?"!==e.data||"complete"===r.readyState)t();else{var a=function(){t(),r.removeEventListener("DOMContentLoaded",a)};r.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,r=md.bind(null,r))));break;case 22:if(!(a=null!==r.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,n=bl;var s=xl;bl=a,(xl=t)&&!s?Bl(e,r,0!==(8772&r.subtreeFlags)):Ol(e,r),bl=n,xl=s}break;case 30:break;default:Ol(e,r)}}function _l(e){var t=e.alternate;null!==t&&(e.alternate=null,_l(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nl=null,El=!1;function Cl(e,t,r){for(r=r.child;null!==r;)Pl(e,t,r),r=r.sibling}function Pl(e,t,r){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,r)}catch(s){}switch(r.tag){case 26:xl||ul(r,t),Cl(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:xl||ul(r,t);var a=Nl,n=El;pu(r.type)&&(Nl=r.stateNode,El=!1),Cl(e,t,r),wu(r.stateNode),Nl=a,El=n;break;case 5:xl||ul(r,t);case 6:if(a=Nl,n=El,Nl=null,Cl(e,t,r),El=n,null!==(Nl=a))if(El)try{(9===Nl.nodeType?Nl.body:"HTML"===Nl.nodeName?Nl.ownerDocument.body:Nl).removeChild(r.stateNode)}catch(i){dd(r,t,i)}else try{Nl.removeChild(r.stateNode)}catch(i){dd(r,t,i)}break;case 18:null!==Nl&&(El?(mu(9===(e=Nl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Eh(e)):mu(Nl,r.stateNode));break;case 4:a=Nl,n=El,Nl=r.stateNode.containerInfo,El=!0,Cl(e,t,r),Nl=a,El=n;break;case 0:case 11:case 14:case 15:xl||ol(2,r,t),xl||ol(4,r,t),Cl(e,t,r);break;case 1:xl||(ul(r,t),"function"===typeof(a=r.stateNode).componentWillUnmount&&cl(r,t,a)),Cl(e,t,r);break;case 21:Cl(e,t,r);break;case 22:xl=(a=xl)||null!==r.memoizedState,Cl(e,t,r),xl=a;break;default:Cl(e,t,r)}}function Al(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Eh(e)}catch(r){dd(t,t.return,r)}}function Tl(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var a=fd.bind(null,e,t);r.has(t)||(r.add(t),t.then(a,a))})}function Il(e,t){var r=t.deletions;if(null!==r)for(var a=0;a<r.length;a++){var n=r[a],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pu(l.type)){Nl=l.stateNode,El=!1;break e}break;case 5:Nl=l.stateNode,El=!1;break e;case 3:case 4:Nl=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Nl)throw Error(i(160));Pl(s,o,n),Nl=null,El=!1,null!==(s=n.alternate)&&(s.return=null),n.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ml(t,e),t=t.sibling}var Dl=null;function Ml(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Il(t,e),Fl(e),4&a&&(ol(3,e,e.return),il(3,e),ol(5,e,e.return));break;case 1:Il(t,e),Fl(e),512&a&&(xl||null===r||ul(r,r.return)),64&a&&bl&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?a:r.concat(a))));break;case 26:var n=Dl;if(Il(t,e),Fl(e),512&a&&(xl||null===r||ul(r,r.return)),4&a){var s=null!==r?r.memoizedState:null;if(a=e.memoizedState,null===r)if(null===a)if(null===e.stateNode){e:{a=e.type,r=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":(!(s=n.getElementsByTagName("title")[0])||s[Be]||s[Ie]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=n.createElement(a),n.head.insertBefore(s,n.querySelector("head > title"))),eu(s,a,r),s[Ie]=e,qe(s),a=s;break e;case"link":var o=Bu("link","href",n).get(a+(r.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&s.getAttribute("rel")===(null==r.rel?null:r.rel)&&s.getAttribute("title")===(null==r.title?null:r.title)&&s.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(l,1);break t}eu(s=n.createElement(a),a,r),n.head.appendChild(s);break;case"meta":if(o=Bu("meta","content",n).get(a+(r.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&s.getAttribute("name")===(null==r.name?null:r.name)&&s.getAttribute("property")===(null==r.property?null:r.property)&&s.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&s.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(l,1);break t}eu(s=n.createElement(a),a,r),n.head.appendChild(s);break;default:throw Error(i(468,a))}s[Ie]=e,qe(s),a=s}e.stateNode=a}else zu(n,e.type,e.stateNode);else e.stateNode=Mu(n,a,e.memoizedProps);else s!==a?(null===s?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):s.count--,null===a?zu(n,e.type,e.stateNode):Mu(n,a,e.memoizedProps)):null===a&&null!==e.stateNode&&pl(e,e.memoizedProps,r.memoizedProps)}break;case 27:Il(t,e),Fl(e),512&a&&(xl||null===r||ul(r,r.return)),null!==r&&4&a&&pl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Il(t,e),Fl(e),512&a&&(xl||null===r||ul(r,r.return)),32&e.flags){n=e.stateNode;try{St(n,"")}catch(m){dd(e,e.return,m)}}4&a&&null!=e.stateNode&&pl(e,n=e.memoizedProps,null!==r?r.memoizedProps:n),1024&a&&(wl=!0);break;case 6:if(Il(t,e),Fl(e),4&a){if(null===e.stateNode)throw Error(i(162));a=e.memoizedProps,r=e.stateNode;try{r.nodeValue=a}catch(m){dd(e,e.return,m)}}break;case 3:if(Lu=null,n=Dl,Dl=ju(t.containerInfo),Il(t,e),Dl=n,Fl(e),4&a&&null!==r&&r.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(m){dd(e,e.return,m)}wl&&(wl=!1,Rl(e));break;case 4:a=Dl,Dl=ju(e.stateNode.containerInfo),Il(t,e),Fl(e),Dl=a;break;case 12:default:Il(t,e),Fl(e);break;case 13:Il(t,e),Fl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(wc=te()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Tl(e,a)));break;case 22:n=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,d=bl,u=xl;if(bl=d||n,xl=u||c,Il(t,e),xl=u,bl=d,Fl(e),8192&a)e:for(t=e.stateNode,t._visibility=n?-2&t._visibility:1|t._visibility,n&&(null===r||c||bl||xl||Ll(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(s=c.stateNode,n)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){dd(c,c.return,m)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=n?"":c.memoizedProps}catch(m){dd(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(r=a.retryQueue)&&(a.retryQueue=null,Tl(e,r))));break;case 19:Il(t,e),Fl(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Tl(e,a)));case 30:case 21:}}function Fl(e){var t=e.flags;if(2&t){try{for(var r,a=e.return;null!==a;){if(ml(a)){r=a;break}a=a.return}if(null==r)throw Error(i(160));switch(r.tag){case 27:var n=r.stateNode;yl(e,fl(e),n);break;case 5:var s=r.stateNode;32&r.flags&&(St(s,""),r.flags&=-33),yl(e,fl(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;gl(e,fl(e),o);break;default:throw Error(i(161))}}catch(l){dd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ol(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)jl(e,t.alternate,t),t=t.sibling}function Ll(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Ll(t);break;case 1:ul(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&cl(t,t.return,r),Ll(t);break;case 27:wu(t.stateNode);case 26:case 5:ul(t,t.return),Ll(t);break;case 22:null===t.memoizedState&&Ll(t);break;default:Ll(t)}e=e.sibling}}function Bl(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,n=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Bl(n,s,r),il(4,s);break;case 1:if(Bl(n,s,r),"function"===typeof(n=(a=s).stateNode).componentDidMount)try{n.componentDidMount()}catch(c){dd(a,a.return,c)}if(null!==(n=(a=s).updateQueue)){var o=a.stateNode;try{var l=n.shared.hiddenCallbacks;if(null!==l)for(n.shared.hiddenCallbacks=null,n=0;n<l.length;n++)us(l[n],o)}catch(c){dd(a,a.return,c)}}r&&64&i&&ll(s),dl(s,s.return);break;case 27:vl(s);case 26:case 5:Bl(n,s,r),r&&null===a&&4&i&&hl(s),dl(s,s.return);break;case 12:Bl(n,s,r);break;case 13:Bl(n,s,r),r&&4&i&&Al(n,s);break;case 22:null===s.memoizedState&&Bl(n,s,r),dl(s,s.return);break;case 30:break;default:Bl(n,s,r)}t=t.sibling}}function zl(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Mn(r))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mn(e))}function Ul(e,t,r,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,r,a),t=t.sibling}function Hl(e,t,r,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,r,a),2048&n&&il(9,t);break;case 1:case 13:default:Ul(e,t,r,a);break;case 3:Ul(e,t,r,a),2048&n&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mn(e)));break;case 12:if(2048&n){Ul(e,t,r,a),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){dd(t,t.return,l)}}else Ul(e,t,r,a);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Ul(e,t,r,a):ql(e,t):2&s._visibility?Ul(e,t,r,a):(s._visibility|=2,Gl(e,t,r,a,0!==(10256&t.subtreeFlags))),2048&n&&zl(i,t);break;case 24:Ul(e,t,r,a),2048&n&&Vl(t.alternate,t)}}function Gl(e,t,r,a,n){for(n=n&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,i=t,o=r,l=a,c=i.flags;switch(i.tag){case 0:case 11:case 15:Gl(s,i,o,l,n),il(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?Gl(s,i,o,l,n):ql(s,i):(d._visibility|=2,Gl(s,i,o,l,n)),n&&2048&c&&zl(i.alternate,i);break;case 24:Gl(s,i,o,l,n),n&&2048&c&&Vl(i.alternate,i);break;default:Gl(s,i,o,l,n)}t=t.sibling}}function ql(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,a=t,n=a.flags;switch(a.tag){case 22:ql(r,a),2048&n&&zl(a.alternate,a);break;case 24:ql(r,a),2048&n&&Vl(a.alternate,a);break;default:ql(r,a)}t=t.sibling}}var Wl=8192;function Yl(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 26:Yl(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,r){if(null===Uu)throw Error(i(475));var a=Uu;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var n=Pu(r.href),s=e.querySelector(Au(n));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(a.count++,a=Gu.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=s,void qe(s);s=e.ownerDocument||e,r=Tu(r),(n=Su.get(n))&&Ru(r,n),qe(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),eu(s,"link",r),t.instance=s}null===a.stylesheets&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(a.count++,t=Gu.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Yl(e);break;case 3:case 4:var t=Dl;Dl=ju(e.stateNode.containerInfo),Yl(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Yl(e),Wl=t):Yl(e))}}function Kl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];kl=a,Zl(a,e)}Kl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:Jl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Jl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Jl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];kl=a,Zl(a,e)}Kl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Xl(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==kl;){var r=kl;switch(r.tag){case 0:case 11:case 15:ol(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var a=r.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Mn(r.memoizedState.cache)}if(null!==(a=r.child))a.return=r,kl=a;else e:for(r=e;null!==kl;){var n=(a=kl).sibling,s=a.return;if(_l(a),a===r){kl=null;break e}if(null!==n){n.return=s,kl=n;break e}kl=s}}}var ec={getCacheForType:function(e){var t=Nn(In),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},tc="function"===typeof WeakMap?WeakMap:Map,rc=0,ac=null,nc=null,sc=0,ic=0,oc=null,lc=!1,cc=!1,dc=!1,uc=0,hc=0,pc=0,mc=0,fc=0,gc=0,yc=0,vc=null,bc=null,xc=!1,wc=0,Sc=1/0,kc=null,jc=null,_c=0,Nc=null,Ec=null,Cc=0,Pc=0,Ac=null,Tc=null,Ic=0,Dc=null;function Mc(){if(0!==(2&rc)&&0!==sc)return sc&-sc;if(null!==M.T){return 0!==On?On:Pd()}return Ae()}function Fc(){0===gc&&(gc=0===(536870912&sc)||nn?Se():536870912);var e=ao.current;return null!==e&&(e.flags|=32),gc}function Rc(e,t,r){(e!==ac||2!==ic&&9!==ic)&&null===e.cancelPendingCommit||(Hc(e,0),zc(e,sc,gc,!1)),_e(e,r),0!==(2&rc)&&e===ac||(e===ac&&(0===(2&rc)&&(mc|=r),4===hc&&zc(e,sc,gc,!1)),Sd(e))}function Oc(e,t,r){if(0!==(6&rc))throw Error(i(327));for(var a=!r&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),n=a?function(e,t){var r=rc;rc|=2;var a=qc(),n=Wc();ac!==e||sc!==t?(kc=null,Sc=te()+500,Hc(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==ic&&null!==nc){t=nc;var s=oc;t:switch(ic){case 1:ic=0,oc=null,Zc(e,t,s,1);break;case 2:case 9:if(Kn(s)){ic=0,oc=null,Xc(t);break}t=function(){2!==ic&&9!==ic||ac!==e||(ic=7),Sd(e)},s.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:Kn(s)?(ic=0,oc=null,Xc(t)):(ic=0,oc=null,Zc(e,t,s,7));break;case 5:var o=null;switch(nc.tag){case 26:o=nc.memoizedState;case 5:case 27:var l=nc;if(!o||Vu(o)){ic=0,oc=null;var c=l.sibling;if(null!==c)nc=c;else{var d=l.return;null!==d?(nc=d,ed(d)):nc=null}break t}}ic=0,oc=null,Zc(e,t,s,5);break;case 6:ic=0,oc=null,Zc(e,t,s,6);break;case 8:Uc(),hc=6;break e;default:throw Error(i(462))}}Jc();break}catch(u){Gc(e,u)}return vn=yn=null,M.H=a,M.A=n,rc=r,null!==nc?0:(ac=null,sc=0,Ea(),hc)}(e,t):$c(e,t,!0),s=a;;){if(0===n){cc&&!a&&zc(e,t,0,!1);break}if(r=e.current.alternate,!s||Bc(r)){if(2===n){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;n=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=$c(l,o,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=s,mc|=s,n=4;break e}s=bc,bc=n,null!==s&&(null===bc?bc=s:bc.push.apply(bc,s))}n=o}if(s=!1,2!==n)continue}}if(1===n){Hc(e,0),zc(e,t,0,!0);break}e:{switch(a=e,s=n){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:zc(a,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(n=wc+300-te())){if(zc(a,t,gc,!lc),0!==be(a,0,!0))break e;a.timeoutHandle=lu(Lc.bind(null,a,r,bc,kc,xc,t,gc,mc,yc,lc,s,2,-0,0),n)}else Lc(a,r,bc,kc,xc,t,gc,mc,yc,lc,s,0,-0,0)}break}n=$c(e,t,!1),s=!1}Sd(e)}function Lc(e,t,r,a,n,s,o,l,c,d,u,h,p,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Uu={stylesheets:null,count:0,unsuspend:Hu},$l(t),null!==(h=function(){if(null===Uu)throw Error(i(475));var e=Uu;return e.stylesheets&&0===e.count&&Wu(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&Wu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=h(rd.bind(null,e,t,s,r,a,n,o,l,c,u,1,p,m)),void zc(e,s,o,!d);rd(e,t,s,r,a,n,o,l,c)}function Bc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var a=0;a<r.length;a++){var n=r[a],s=n.getSnapshot;n=n.value;try{if(!$r(s(),n))return!1}catch(i){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,r,a){t&=~fc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var s=31-pe(n),i=1<<s;a[s]=-1,n&=~i}0!==r&&Ne(e,r,t)}function Vc(){return 0!==(6&rc)||(kd(0,!1),!1)}function Uc(){if(null!==nc){if(0===ic)var e=nc.return;else vn=yn=null,Os(e=nc),$i=null,Ki=0,e=nc;for(;null!==e;)sl(e.alternate,e),e=e.return;nc=null}}function Hc(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,cu(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Uc(),ac=e,nc=r=Oa(e.current,null),sc=t,ic=0,oc=null,lc=!1,cc=xe(e,t),dc=!1,yc=gc=fc=mc=pc=hc=0,bc=vc=null,xc=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var n=31-pe(a),s=1<<n;t|=e[n],a&=~s}return uc=t,Ea(),r}function Gc(e,t){bs=null,M.H=Gi,t===qn||t===Yn?(t=Zn(),ic=3):t===Wn?(t=Zn(),ic=4):ic=t===No?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===nc&&(hc=1,wo(e,ka(t,e.current)))}function qc(){var e=M.H;return M.H=Gi,null===e?Gi:e}function Wc(){var e=M.A;return M.A=ec,e}function Yc(){hc=4,lc||(4194048&sc)!==sc&&null!==ao.current||(cc=!0),0===(134217727&pc)&&0===(134217727&mc)||null===ac||zc(ac,sc,gc,!1)}function $c(e,t,r){var a=rc;rc|=2;var n=qc(),s=Wc();ac===e&&sc===t||(kc=null,Hc(e,t)),t=!1;var i=hc;e:for(;;)try{if(0!==ic&&null!==nc){var o=nc,l=oc;switch(ic){case 8:Uc(),i=6;break e;case 3:case 2:case 9:case 6:null===ao.current&&(t=!0);var c=ic;if(ic=0,oc=null,Zc(e,o,l,c),r&&cc){i=0;break e}break;default:c=ic,ic=0,oc=null,Zc(e,o,l,c)}}Kc(),i=hc;break}catch(d){Gc(e,d)}return t&&e.shellSuspendCounter++,vn=yn=null,rc=a,M.H=n,M.A=s,null===nc&&(ac=null,sc=0,Ea()),i}function Kc(){for(;null!==nc;)Qc(nc)}function Jc(){for(;null!==nc&&!Z();)Qc(nc)}function Qc(e){var t=Qo(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?ed(e):nc=t}function Xc(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Ro(r,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=Ro(r,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Os(t);default:sl(r,t),t=Qo(r,t=nc=La(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?ed(e):nc=t}function Zc(e,t,r,a){vn=yn=null,Os(t),$i=null,Ki=0;var n=t.return;try{if(function(e,t,r,a,n){if(r.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=r.alternate)&&kn(t,r,n,!0),null!==(r=ao.current)){switch(r.tag){case 13:return null===no?Yc():null===r.alternate&&0===hc&&(hc=3),r.flags&=-257,r.flags|=65536,r.lanes=n,a===$n?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([a]):t.add(a),ud(e,a,n)),!1;case 22:return r.flags|=65536,a===$n?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([a]):r.add(a),ud(e,a,n)),!1}throw Error(i(435,r.tag))}return ud(e,a,n),Yc(),!1}if(nn)return null!==(t=ao.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==ln&&fn(ka(e=Error(i(422),{cause:a}),r))):(a!==ln&&fn(ka(t=Error(i(423),{cause:a}),r)),(e=e.current.alternate).flags|=65536,n&=-n,e.lanes|=n,a=ka(a,r),os(e,n=ko(e.stateNode,a,n)),4!==hc&&(hc=2)),!1;var s=Error(i(520),{cause:a});if(s=ka(s,r),null===vc?vc=[s]:vc.push(s),4!==hc&&(hc=2),null===t)return!0;a=ka(a,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=n&-n,r.lanes|=e,os(r,e=ko(r.stateNode,a,e)),!1;case 1:if(t=r.type,s=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===jc||!jc.has(s))))return r.flags|=65536,n&=-n,r.lanes|=n,_o(n=jo(n),e,r,a),os(r,n),!1}r=r.return}while(null!==r);return!1}(e,n,t,r,sc))return hc=1,wo(e,ka(r,e.current)),void(nc=null)}catch(s){if(null!==n)throw nc=n,s;return hc=1,wo(e,ka(r,e.current)),void(nc=null)}32768&t.flags?(nn||1===a?e=!0:cc||0!==(536870912&sc)?e=!1:(lc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=ao.current)&&13===a.tag&&(a.flags|=16384))),td(t,e)):ed(t)}function ed(e){var t=e;do{if(0!==(32768&t.flags))return void td(t,lc);e=t.return;var r=al(t.alternate,t,uc);if(null!==r)return void(nc=r);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===hc&&(hc=5)}function td(e,t){do{var r=nl(e.alternate,e);if(null!==r)return r.flags&=32767,void(nc=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=r}while(null!==e);hc=6,nc=null}function rd(e,t,r,a,n,s,o,l,c){e.cancelPendingCommit=null;do{od()}while(0!==_c);if(0!==(6&rc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,function(e,t,r,a,n,s){var i=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=i&~r;0<r;){var d=31-pe(r),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var p=h[d];null!==p&&(p.lane&=-536870913)}r&=~u}0!==a&&Ne(e,a,0),0!==s&&0===n&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,r,s|=Na,o,l,c),e===ac&&(nc=ac=null,sc=0),Ec=t,Nc=e,Cc=r,Pc=s,Ac=n,Tc=a,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(se,function(){return ld(),null})):(e.callbackNode=null,e.callbackPriority=0),a=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||a){a=M.T,M.T=null,n=F.p,F.p=2,o=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,tu=rh,ea(e=Zr(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(a&&0!==a.rangeCount){r=a.anchorNode;var n=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{r.nodeType,s.nodeType}catch(g){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==r||0!==n&&3!==h.nodeType||(l=o+n),h!==s||0!==a&&3!==h.nodeType||(c=o+a),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===r&&++d===n&&(l=o),p===s&&++u===a&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ru={focusedElem:e,selectionRange:r},rh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(s=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,r=t,n=s.memoizedProps,s=s.memoizedState,a=r.stateNode;try{var f=go(r.type,n,(r.elementType,r.type));e=a.getSnapshotBeforeUpdate(f,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(y){dd(r,r.return,y)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))fu(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{rc=o,F.p=n,M.T=a}}_c=1,ad(),nd(),sd()}}function ad(){if(1===_c){_c=0;var e=Nc,t=Ec,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=M.T,M.T=null;var a=F.p;F.p=2;var n=rc;rc|=4;try{Ml(t,e);var s=ru,i=Zr(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&Xr(o.ownerDocument.documentElement,o)){if(null!==l&&ea(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var p=h.getSelection(),m=o.textContent.length,f=Math.min(l.start,m),g=void 0===l.end?f:Math.min(l.end,m);!p.extend&&f>g&&(i=g,g=f,f=i);var y=Qr(o,f),v=Qr(o,g);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=u.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),f>g?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(u=[],p=o;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var x=u[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}rh=!!tu,ru=tu=null}finally{rc=n,F.p=a,M.T=r}}e.current=t,_c=2}}function nd(){if(2===_c){_c=0;var e=Nc,t=Ec,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=M.T,M.T=null;var a=F.p;F.p=2;var n=rc;rc|=4;try{jl(e,t.alternate,t)}finally{rc=n,F.p=a,M.T=r}}_c=3}}function sd(){if(4===_c||3===_c){_c=0,ee();var e=Nc,t=Ec,r=Cc,a=Tc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?_c=5:(_c=0,Ec=Nc=null,id(e,e.pendingLanes));var n=e.pendingLanes;if(0===n&&(jc=null),Pe(r),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==a){t=M.T,n=F.p,F.p=2,M.T=null;try{for(var s=e.onRecoverableError,i=0;i<a.length;i++){var o=a[i];s(o.value,{componentStack:o.stack})}}finally{M.T=t,F.p=n}}0!==(3&Cc)&&od(),Sd(e),n=e.pendingLanes,0!==(4194090&r)&&0!==(42&n)?e===Dc?Ic++:(Ic=0,Dc=e):Ic=0,kd(0,!1)}}function id(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Mn(t)))}function od(e){return ad(),nd(),sd(),ld()}function ld(){if(5!==_c)return!1;var e=Nc,t=Pc;Pc=0;var r=Pe(Cc),a=M.T,n=F.p;try{F.p=32>r?32:r,M.T=null,r=Ac,Ac=null;var s=Nc,o=Cc;if(_c=0,Ec=Nc=null,Cc=0,0!==(6&rc))throw Error(i(331));var l=rc;if(rc|=4,Ql(s.current),Hl(s,s.current,o,r),rc=l,kd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,s)}catch(c){}return!0}finally{F.p=n,M.T=a,id(e,t)}}function cd(e,t,r){t=ka(r,t),null!==(e=ss(e,t=ko(e.stateNode,t,2),2))&&(_e(e,2),Sd(e))}function dd(e,t,r){if(3===e.tag)cd(e,e,r);else for(;null!==t;){if(3===t.tag){cd(t,e,r);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===jc||!jc.has(a))){e=ka(r,e),null!==(a=ss(t,r=jo(2),2))&&(_o(r,a,t,e),_e(a,2),Sd(a));break}}t=t.return}}function ud(e,t,r){var a=e.pingCache;if(null===a){a=e.pingCache=new tc;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(r)||(dc=!0,n.add(r),e=hd.bind(null,e,t,r),t.then(e,e))}function hd(e,t,r){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ac===e&&(sc&r)===r&&(4===hc||3===hc&&(62914560&sc)===sc&&300>te()-wc?0===(2&rc)&&Hc(e,0):fc|=r,yc===sc&&(yc=0)),Sd(e)}function pd(e,t){0===t&&(t=ke()),null!==(e=Aa(e,t))&&(_e(e,t),Sd(e))}function md(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),pd(e,r)}function fd(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;null!==n&&(r=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==a&&a.delete(t),pd(e,r)}var gd=null,yd=null,vd=!1,bd=!1,xd=!1,wd=0;function Sd(e){e!==yd&&null===e.next&&(null===yd?gd=yd=e:yd=yd.next=e),bd=!0,vd||(vd=!0,uu(function(){0!==(6&rc)?Q(ae,jd):_d()}))}function kd(e,t){if(!xd&&bd){xd=!0;do{for(var r=!1,a=gd;null!==a;){if(!t)if(0!==e){var n=a.pendingLanes;if(0===n)var s=0;else{var i=a.suspendedLanes,o=a.pingedLanes;s=(1<<31-pe(42|e)+1)-1,s=201326741&(s&=n&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(r=!0,Cd(a,s))}else s=sc,0===(3&(s=be(a,a===ac?s:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||xe(a,s)||(r=!0,Cd(a,s));a=a.next}}while(r);xd=!1}}function jd(){_d()}function _d(){bd=vd=!1;var e=0;0!==wd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ou&&(ou=e,!0);return ou=null,!1}()&&(e=wd),wd=0);for(var t=te(),r=null,a=gd;null!==a;){var n=a.next,s=Nd(a,t);0===s?(a.next=null,null===r?gd=n:r.next=n,null===n&&(yd=r)):(r=a,(0!==e||0!==(3&s))&&(bd=!0)),a=n}kd(e,!1)}function Nd(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-pe(s),o=1<<i,l=n[i];-1===l?0!==(o&r)&&0===(o&a)||(n[i]=we(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(r=sc,r=be(e,e===(t=ac)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===r||e===t&&(2===ic||9===ic)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&X(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||xe(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==a&&X(a),Pe(r)){case 2:case 8:r=ne;break;case 32:default:r=se;break;case 268435456:r=oe}return a=Ed.bind(null,e),r=Q(r,a),e.callbackPriority=t,e.callbackNode=r,t}return null!==a&&null!==a&&X(a),e.callbackPriority=2,e.callbackNode=null,2}function Ed(e,t){if(0!==_c&&5!==_c)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(od()&&e.callbackNode!==r)return null;var a=sc;return 0===(a=be(e,e===ac?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Oc(e,a,t),Nd(e,te()),null!=e.callbackNode&&e.callbackNode===r?Ed.bind(null,e):null)}function Cd(e,t){if(od())return null;Oc(e,t,!0)}function Pd(){return 0===wd&&(wd=Se()),wd}function Ad(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Td(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Id=0;Id<xa.length;Id++){var Dd=xa[Id];wa(Dd.toLowerCase(),"on"+(Dd[0].toUpperCase()+Dd.slice(1)))}wa(ha,"onAnimationEnd"),wa(pa,"onAnimationIteration"),wa(ma,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(fa,"onTransitionRun"),wa(ga,"onTransitionStart"),wa(ya,"onTransitionCancel"),wa(va,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),$e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$e("onBeforeInput",["compositionend","keypress","textInput","paste"]),$e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Md));function Rd(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&n.isPropagationStopped())break e;s=o,n.currentTarget=c;try{s(n)}catch(d){yo(d)}n.currentTarget=null,s=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&n.isPropagationStopped())break e;s=o,n.currentTarget=c;try{s(n)}catch(d){yo(d)}n.currentTarget=null,s=l}}}}function Od(e,t){var r=t[Fe];void 0===r&&(r=t[Fe]=new Set);var a=e+"__bubble";r.has(a)||(Vd(t,e,2,!1),r.add(a))}function Ld(e,t,r){var a=0;t&&(a|=4),Vd(r,e,a,t)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function zd(e){if(!e[Bd]){e[Bd]=!0,We.forEach(function(t){"selectionchange"!==t&&(Fd.has(t)||Ld(t,!1,e),Ld(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bd]||(t[Bd]=!0,Ld("selectionchange",!1,t))}}function Vd(e,t,r,a){switch(ch(t)){case 2:var n=ah;break;case 8:n=nh;break;default:n=sh}r=n.bind(null,t,r,e),n=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Ud(e,t,r,a,n){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var o=a.stateNode.containerInfo;if(o===n)break;if(4===i)for(i=a.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===n)return;i=i.return}for(;null!==o;){if(null===(i=Ve(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){a=s=i;continue e}o=o.parentNode}}a=a.return}Rt(function(){var a=s,n=Tt(r),i=[];e:{var o=ba.get(e);if(void 0!==o){var c=Zt,d=e;switch(e){case"keypress":if(0===qt(r))break e;case"keydown":case"keyup":c=mr;break;case"focusin":d="focus",c=sr;break;case"focusout":d="blur",c=sr;break;case"beforeblur":case"afterblur":c=sr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=nr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=gr;break;case ha:case pa:case ma:c=ir;break;case va:c=yr;break;case"scroll":case"scrollend":c=tr;break;case"wheel":c=vr;break;case"copy":case"cut":case"paste":c=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=fr;break;case"toggle":case"beforetoggle":c=br}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),p=u?null!==o?o+"Capture":null:o;u=[];for(var m,f=a;null!==f;){var g=f;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===p||null!=(g=Ot(f,p))&&u.push(Hd(f,g,m)),h)break;f=f.return}0<u.length&&(o=new c(o,d,null,r,n),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===At||!(d=r.relatedTarget||r.fromElement)||!Ve(d)&&!d[Me])&&(c||o)&&(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=a,null!==(d=(d=r.relatedTarget||r.toElement)?Ve(d):null)&&(h=l(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=a),c!==d)){if(u=ar,g="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=fr,g="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==c?o:He(c),m=null==d?o:He(d),(o=new u(g,f+"leave",c,r,n)).target=h,o.relatedTarget=m,g=null,Ve(n)===a&&((u=new u(p,f+"enter",d,r,n)).target=m,u.relatedTarget=h,g=u),h=g,c&&d)e:{for(p=d,f=0,m=u=c;m;m=qd(m))f++;for(m=0,g=p;g;g=qd(g))m++;for(;0<f-m;)u=qd(u),f--;for(;0<m-f;)p=qd(p),m--;for(;f--;){if(u===p||null!==p&&u===p.alternate)break e;u=qd(u),p=qd(p)}u=null}else u=null;null!==c&&Wd(i,o,c,u,!1),null!==d&&null!==h&&Wd(i,h,d,u,!0)}if("select"===(c=(o=a?He(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Or;else if(Tr(o))if(Lr)y=Yr;else{y=qr;var v=Gr}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?a&&Nt(a.elementType)&&(y=Or):y=Wr;switch(y&&(y=y(e,a))?Ir(i,y,r,n):(v&&v(e,o,a),"focusout"===e&&a&&"number"===o.type&&null!=a.memoizedProps.value&&vt(o,"number",o.value)),v=a?He(a):window,e){case"focusin":(Tr(v)||"true"===v.contentEditable)&&(ra=v,aa=a,na=null);break;case"focusout":na=aa=ra=null;break;case"mousedown":sa=!0;break;case"contextmenu":case"mouseup":case"dragend":sa=!1,ia(i,r,n);break;case"selectionchange":if(ta)break;case"keydown":case"keyup":ia(i,r,n)}var b;if(wr)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Pr?Er(e,r)&&(x="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(x="onCompositionStart");x&&(jr&&"ko"!==r.locale&&(Pr||"onCompositionStart"!==x?"onCompositionEnd"===x&&Pr&&(b=Gt()):(Ut="value"in(Vt=n)?Vt.value:Vt.textContent,Pr=!0)),0<(v=Gd(a,x)).length&&(x=new lr(x,e,null,r,n),i.push({event:x,listeners:v}),b?x.data=b:null!==(b=Cr(r))&&(x.data=b))),(b=kr?function(e,t){switch(e){case"compositionend":return Cr(t);case"keypress":return 32!==t.which?null:(Nr=!0,_r);case"textInput":return(e=t.data)===_r&&Nr?null:e;default:return null}}(e,r):function(e,t){if(Pr)return"compositionend"===e||!wr&&Er(e,t)?(e=Gt(),Ht=Ut=Vt=null,Pr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(x=Gd(a,"onBeforeInput")).length&&(v=new lr("onBeforeInput","beforeinput",null,r,n),i.push({event:v,listeners:x}),v.data=b)),function(e,t,r,a,n){if("submit"===t&&r&&r.stateNode===n){var s=Ad((n[De]||null).action),i=a.submitter;i&&null!==(t=(t=i[De]||null)?Ad(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new Zt("action","action",null,a,n);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==wd){var e=i?Td(n,i):new FormData(n);Ai(r,{pending:!0,data:e,method:n.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=i?Td(n,i):new FormData(n),Ai(r,{pending:!0,data:e,method:n.method,action:s},s,e))},currentTarget:n}]})}}(i,e,a,r,n)}Rd(i,t)})}function Hd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gd(e,t){for(var r=t+"Capture",a=[];null!==e;){var n=e,s=n.stateNode;if(5!==(n=n.tag)&&26!==n&&27!==n||null===s||(null!=(n=Ot(e,r))&&a.unshift(Hd(e,n,s)),null!=(n=Ot(e,t))&&a.push(Hd(e,n,s))),3===e.tag)return a;e=e.return}return[]}function qd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wd(e,t,r,a,n){for(var s=t._reactName,i=[];null!==r&&r!==a;){var o=r,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===a)break;5!==o&&26!==o&&27!==o||null===c||(l=c,n?null!=(c=Ot(r,s))&&i.unshift(Hd(r,c,l)):n||null!=(c=Ot(r,s))&&i.push(Hd(r,c,l))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Yd=/\r\n?/g,$d=/\u0000|\uFFFD/g;function Kd(e){return("string"===typeof e?e:""+e).replace(Yd,"\n").replace($d,"")}function Jd(e,t){return t=Kd(t),Kd(e)===t}function Qd(){}function Xd(e,t,r,a,n,s){switch(r){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||St(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&St(e,""+a);break;case"className":rt(e,"class",a);break;case"tabIndex":rt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,r,a);break;case"style":_t(e,a,s);break;case"data":if("object"!==t){rt(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(r);break}a=Pt(""+a),e.setAttribute(r,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===r?("input"!==t&&Xd(e,t,"name",n.name,n,null),Xd(e,t,"formEncType",n.formEncType,n,null),Xd(e,t,"formMethod",n.formMethod,n,null),Xd(e,t,"formTarget",n.formTarget,n,null)):(Xd(e,t,"encType",n.encType,n,null),Xd(e,t,"method",n.method,n,null),Xd(e,t,"target",n.target,n,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(r);break}a=Pt(""+a),e.setAttribute(r,a);break;case"onClick":null!=a&&(e.onclick=Qd);break;case"onScroll":null!=a&&Od("scroll",e);break;case"onScrollEnd":null!=a&&Od("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(i(61));if(null!=(r=a.__html)){if(null!=n.children)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}r=Pt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(r,""+a):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===a?e.setAttribute(r,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(r,a):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(r,a):e.removeAttribute(r);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(r):e.setAttribute(r,a);break;case"popover":Od("beforetoggle",e),Od("toggle",e),tt(e,"popover",a);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":tt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&tt(e,r=Et.get(r)||r,a)}}function Zd(e,t,r,a,n,s){switch(r){case"style":_t(e,a,s);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(i(61));if(null!=(r=a.__html)){if(null!=n.children)throw Error(i(60));e.innerHTML=r}}break;case"children":"string"===typeof a?St(e,a):("number"===typeof a||"bigint"===typeof a)&&St(e,""+a);break;case"onScroll":null!=a&&Od("scroll",e);break;case"onScrollEnd":null!=a&&Od("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Qd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ye.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(n=r.endsWith("Capture"),t=r.slice(2,n?r.length-7:void 0),"function"===typeof(s=null!=(s=e[De]||null)?s[r]:null)&&e.removeEventListener(t,s,n),"function"!==typeof a)?r in e?e[r]=a:!0===a?e.setAttribute(r,""):tt(e,r,a):("function"!==typeof s&&null!==s&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,a,n)))}}function eu(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Od("error",e),Od("load",e);var a,n=!1,s=!1;for(a in r)if(r.hasOwnProperty(a)){var o=r[a];if(null!=o)switch(a){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Xd(e,t,a,o,r,null)}}return s&&Xd(e,t,"srcSet",r.srcSet,r,null),void(n&&Xd(e,t,"src",r.src,r,null));case"input":Od("invalid",e);var l=a=o=s=null,c=null,d=null;for(n in r)if(r.hasOwnProperty(n)){var u=r[n];if(null!=u)switch(n){case"name":s=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":a=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:Xd(e,t,n,u,r,null)}}return yt(e,a,l,c,d,o,s,!1),void ut(e);case"select":for(s in Od("invalid",e),n=o=a=null,r)if(r.hasOwnProperty(s)&&null!=(l=r[s]))switch(s){case"value":a=l;break;case"defaultValue":o=l;break;case"multiple":n=l;default:Xd(e,t,s,l,r,null)}return t=a,r=o,e.multiple=!!n,void(null!=t?bt(e,!!n,t,!1):null!=r&&bt(e,!!n,r,!0));case"textarea":for(o in Od("invalid",e),a=s=n=null,r)if(r.hasOwnProperty(o)&&null!=(l=r[o]))switch(o){case"value":n=l;break;case"defaultValue":s=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Xd(e,t,o,l,r,null)}return wt(e,n,s,a),void ut(e);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(n=r[c]))if("selected"===c)e.selected=n&&"function"!==typeof n&&"symbol"!==typeof n;else Xd(e,t,c,n,r,null);return;case"dialog":Od("beforetoggle",e),Od("toggle",e),Od("cancel",e),Od("close",e);break;case"iframe":case"object":Od("load",e);break;case"video":case"audio":for(n=0;n<Md.length;n++)Od(Md[n],e);break;case"image":Od("error",e),Od("load",e);break;case"details":Od("toggle",e);break;case"embed":case"source":case"link":Od("error",e),Od("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in r)if(r.hasOwnProperty(d)&&null!=(n=r[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Xd(e,t,d,n,r,null)}return;default:if(Nt(t)){for(u in r)r.hasOwnProperty(u)&&(void 0!==(n=r[u])&&Zd(e,t,u,n,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(n=r[l])&&Xd(e,t,l,n,r,null))}var tu=null,ru=null;function au(e){return 9===e.nodeType?e:e.ownerDocument}function nu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function su(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function iu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ou=null;var lu="function"===typeof setTimeout?setTimeout:void 0,cu="function"===typeof clearTimeout?clearTimeout:void 0,du="function"===typeof Promise?Promise:void 0,uu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof du?function(e){return du.resolve(null).then(e).catch(hu)}:lu;function hu(e){setTimeout(function(){throw e})}function pu(e){return"head"===e}function mu(e,t){var r=t,a=0,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&8===s.nodeType)if("/$"===(r=s.data)){if(0<a&&8>a){r=a;var i=e.ownerDocument;if(1&r&&wu(i.documentElement),2&r&&wu(i.body),4&r)for(wu(r=i.head),i=r.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Be]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||r.removeChild(i),i=o}}if(0===n)return e.removeChild(s),void Eh(t);n--}else"$"===r||"$?"===r||"$!"===r?n++:a=r.charCodeAt(0)-48;else a=0;r=s}while(r);Eh(t)}function fu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":fu(r),ze(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function gu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vu=null;function bu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function xu(e,t,r){switch(t=au(r),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function wu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var Su=new Map,ku=new Set;function ju(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var _u=F.d;F.d={f:function(){var e=_u.f(),t=Vc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Ii(t):_u.r(e)},D:function(e){_u.D(e),Eu("dns-prefetch",e,null)},C:function(e,t){_u.C(e,t),Eu("preconnect",e,t)},L:function(e,t,r){_u.L(e,t,r);var a=Nu;if(a&&e&&t){var n='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&r&&r.imageSrcSet?(n+='[imagesrcset="'+ft(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(n+='[imagesizes="'+ft(r.imageSizes)+'"]')):n+='[href="'+ft(e)+'"]';var s=n;switch(t){case"style":s=Pu(e);break;case"script":s=Iu(e)}Su.has(s)||(e=h({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),Su.set(s,e),null!==a.querySelector(n)||"style"===t&&a.querySelector(Au(s))||"script"===t&&a.querySelector(Du(s))||(eu(t=a.createElement("link"),"link",e),qe(t),a.head.appendChild(t)))}},m:function(e,t){_u.m(e,t);var r=Nu;if(r&&e){var a=t&&"string"===typeof t.as?t.as:"script",n='link[rel="modulepreload"][as="'+ft(a)+'"][href="'+ft(e)+'"]',s=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Iu(e)}if(!Su.has(s)&&(e=h({rel:"modulepreload",href:e},t),Su.set(s,e),null===r.querySelector(n))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Du(s)))return}eu(a=r.createElement("link"),"link",e),qe(a),r.head.appendChild(a)}}},X:function(e,t){_u.X(e,t);var r=Nu;if(r&&e){var a=Ge(r).hoistableScripts,n=Iu(e),s=a.get(n);s||((s=r.querySelector(Du(n)))||(e=h({src:e,async:!0},t),(t=Su.get(n))&&Ou(e,t),qe(s=r.createElement("script")),eu(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}},S:function(e,t,r){_u.S(e,t,r);var a=Nu;if(a&&e){var n=Ge(a).hoistableStyles,s=Pu(e);t=t||"default";var i=n.get(s);if(!i){var o={loading:0,preload:null};if(i=a.querySelector(Au(s)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Su.get(s))&&Ru(e,r);var l=i=a.createElement("link");qe(l),eu(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Fu(i,t,a)}i={type:"stylesheet",instance:i,count:1,state:o},n.set(s,i)}}},M:function(e,t){_u.M(e,t);var r=Nu;if(r&&e){var a=Ge(r).hoistableScripts,n=Iu(e),s=a.get(n);s||((s=r.querySelector(Du(n)))||(e=h({src:e,async:!0,type:"module"},t),(t=Su.get(n))&&Ou(e,t),qe(s=r.createElement("script")),eu(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}}};var Nu="undefined"===typeof document?null:document;function Eu(e,t,r){var a=Nu;if(a&&"string"===typeof t&&t){var n=ft(t);n='link[rel="'+e+'"][href="'+n+'"]',"string"===typeof r&&(n+='[crossorigin="'+r+'"]'),ku.has(n)||(ku.add(n),e={rel:e,crossOrigin:r,href:t},null===a.querySelector(n)&&(eu(t=a.createElement("link"),"link",e),qe(t),a.head.appendChild(t)))}}function Cu(e,t,r,a){var n,s,o,l,c=(c=G.current)?ju(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Pu(r.href),(a=(r=Ge(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},r.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Pu(r.href);var d=Ge(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Au(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Su.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Su.set(e,r),d||(n=c,s=e,o=r,l=u.state,n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),eu(s,"link",o),qe(s),n.head.appendChild(s))))),t&&null===a)throw Error(i(528,""));return u}if(t&&null!==a)throw Error(i(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Iu(r),(a=(r=Ge(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},r.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Pu(e){return'href="'+ft(e)+'"'}function Au(e){return'link[rel="stylesheet"]['+e+"]"}function Tu(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Iu(e){return'[src="'+ft(e)+'"]'}function Du(e){return"script[async]"+e}function Mu(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+ft(r.href)+'"]');if(a)return t.instance=a,qe(a),a;var n=h({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return qe(a=(e.ownerDocument||e).createElement("style")),eu(a,"style",n),Fu(a,r.precedence,e),t.instance=a;case"stylesheet":n=Pu(r.href);var s=e.querySelector(Au(n));if(s)return t.state.loading|=4,t.instance=s,qe(s),s;a=Tu(r),(n=Su.get(n))&&Ru(a,n),qe(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),eu(s,"link",a),t.state.loading|=4,Fu(s,r.precedence,e),t.instance=s;case"script":return s=Iu(r.src),(n=e.querySelector(Du(s)))?(t.instance=n,qe(n),n):(a=r,(n=Su.get(s))&&Ou(a=h({},r),n),qe(n=(e=e.ownerDocument||e).createElement("script")),eu(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Fu(a,r.precedence,e));return t.instance}function Fu(e,t,r){for(var a=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,s=n,i=0;i<a.length;i++){var o=a[i];if(o.dataset.precedence===t)s=o;else if(s!==n)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Ru(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ou(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Lu=null;function Bu(e,t,r){if(null===Lu){var a=new Map,n=Lu=new Map;n.set(r,a)}else(a=(n=Lu).get(r))||(a=new Map,n.set(r,a));if(a.has(e))return a;for(a.set(e,null),r=r.getElementsByTagName(e),n=0;n<r.length;n++){var s=r[n];if(!(s[Be]||s[Ie]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=a.get(i);o?o.push(s):a.set(i,[s])}}return a}function zu(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function Vu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Uu=null;function Hu(){}function Gu(){if(this.count--,0===this.count)if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var qu=null;function Wu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,qu=new Map,t.forEach(Yu,e),qu=null,Gu.call(e))}function Yu(e,t){if(!(4&t.state.loading)){var r=qu.get(e);if(r)var a=r.get(null);else{r=new Map,qu.set(e,r);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<n.length;s++){var i=n[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(r.set(i.dataset.precedence,i),a=i)}a&&r.set(null,a)}i=(n=t.instance).getAttribute("data-precedence"),(s=r.get(i)||a)===a&&r.set(null,n),r.set(i,n),this.count++,a=Gu.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),s?s.parentNode.insertBefore(n,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(n,e.firstChild),t.state.loading|=4}}var $u={$$typeof:w,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Ku(e,t,r,a,n,s,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=je(0),this.hiddenUpdates=je(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Ju(e,t,r,a,n,s,i,o,l,c,d,u){return e=new Ku(e,t,r,i,o,l,c,u),t=1,!0===s&&(t|=24),s=Fa(3,null,null,t),e.current=s,s.stateNode=e,(t=Dn()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:r,cache:t},rs(s),e}function Qu(e){return e?e=Da:Da}function Xu(e,t,r,a,n,s){n=Qu(n),null===a.context?a.context=n:a.pendingContext=n,(a=ns(t)).payload={element:r},null!==(s=void 0===s?null:s)&&(a.callback=s),null!==(r=ss(e,a,t))&&(Rc(r,0,t),is(r,e,t))}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function eh(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function th(e){if(13===e.tag){var t=Aa(e,67108864);null!==t&&Rc(t,0,67108864),eh(e,67108864)}}var rh=!0;function ah(e,t,r,a){var n=M.T;M.T=null;var s=F.p;try{F.p=2,sh(e,t,r,a)}finally{F.p=s,M.T=n}}function nh(e,t,r,a){var n=M.T;M.T=null;var s=F.p;try{F.p=8,sh(e,t,r,a)}finally{F.p=s,M.T=n}}function sh(e,t,r,a){if(rh){var n=ih(a);if(null===n)Ud(e,t,a,oh,r),vh(e,a);else if(function(e,t,r,a,n){switch(t){case"focusin":return uh=bh(uh,e,t,r,a,n),!0;case"dragenter":return hh=bh(hh,e,t,r,a,n),!0;case"mouseover":return ph=bh(ph,e,t,r,a,n),!0;case"pointerover":var s=n.pointerId;return mh.set(s,bh(mh.get(s)||null,e,t,r,a,n)),!0;case"gotpointercapture":return s=n.pointerId,fh.set(s,bh(fh.get(s)||null,e,t,r,a,n)),!0}return!1}(n,e,t,r,a))a.stopPropagation();else if(vh(e,a),4&t&&-1<yh.indexOf(e)){for(;null!==n;){var s=Ue(n);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=ve(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-pe(i);o.entanglements[1]|=l,i&=~l}Sd(s),0===(6&rc)&&(Sc=te()+500,kd(0,!1))}}break;case 13:null!==(o=Aa(s,2))&&Rc(o,0,2),Vc(),eh(s,2)}if(null===(s=ih(a))&&Ud(e,t,a,oh,r),s===n)break;n=s}null!==n&&a.stopPropagation()}else Ud(e,t,a,null,r)}}function ih(e){return lh(e=Tt(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ae:return 2;case ne:return 8;case se:case ie:return 32;case oe:return 268435456;default:return 32}default:return 32}}var dh=!1,uh=null,hh=null,ph=null,mh=new Map,fh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":uh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(t.pointerId)}}function bh(e,t,r,a,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},null!==t&&(null!==(t=Ue(t))&&th(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function xh(e){var t=Ve(e.target);if(null!==t){var r=l(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void function(e,t){var r=F.p;try{return F.p=e,t()}finally{F.p=r}}(e.priority,function(){if(13===r.tag){var e=Mc();e=Ce(e);var t=Aa(r,e);null!==t&&Rc(t,0,e),eh(r,e)}})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=ih(e.nativeEvent);if(null!==r)return null!==(t=Ue(r))&&th(t),e.blockedOn=r,!1;var a=new(r=e.nativeEvent).constructor(r.type,r);At=a,r.target.dispatchEvent(a),At=null,t.shift()}return!0}function Sh(e,t,r){wh(e)&&r.delete(t)}function kh(){dh=!1,null!==uh&&wh(uh)&&(uh=null),null!==hh&&wh(hh)&&(hh=null),null!==ph&&wh(ph)&&(ph=null),mh.forEach(Sh),fh.forEach(Sh)}function jh(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kh)))}var _h=null;function Nh(e){_h!==e&&(_h=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){_h===e&&(_h=null);for(var t=0;t<e.length;t+=3){var r=e[t],a=e[t+1],n=e[t+2];if("function"!==typeof a){if(null===lh(a||r))continue;break}var s=Ue(r);null!==s&&(e.splice(t,3),t-=3,Ai(s,{pending:!0,data:n,method:r.method,action:a},a,n))}}))}function Eh(e){function t(t){return jh(t,e)}null!==uh&&jh(uh,e),null!==hh&&jh(hh,e),null!==ph&&jh(ph,e),mh.forEach(t),fh.forEach(t);for(var r=0;r<gh.length;r++){var a=gh[r];a.blockedOn===e&&(a.blockedOn=null)}for(;0<gh.length&&null===(r=gh[0]).blockedOn;)xh(r),null===r.blockedOn&&gh.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<r.length;a+=3){var n=r[a],s=r[a+1],i=n[De]||null;if("function"===typeof s)i||Nh(r);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(n=s,i=s[De]||null)o=i.formAction;else if(null!==lh(n))continue}else o=i.action;"function"===typeof o?r[a+1]=o:(r.splice(a,3),a-=3),Nh(r)}}}function Ch(e){this._internalRoot=e}function Ph(e){this._internalRoot=e}Ph.prototype.render=Ch.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Xu(t.current,Mc(),e,t,null,null)},Ph.prototype.unmount=Ch.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xu(e.current,2,null,e,null,null),Vc(),t[Me]=null}},Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gh.length&&0!==t&&t<gh[r].priority;r++);gh.splice(r,0,e),0===r&&xh(e)}};var Ah=n.version;if("19.1.1"!==Ah)throw Error(i(527,Ah,"19.1.1"));F.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,a=t;;){var n=r.return;if(null===n)break;var s=n.alternate;if(null===s){if(null!==(a=n.return)){r=a;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===r)return d(n),e;if(s===a)return d(n),t;s=s.sibling}throw Error(i(188))}if(r.return!==a.return)r=n,a=s;else{for(var o=!1,c=n.child;c;){if(c===r){o=!0,r=n,a=s;break}if(c===a){o=!0,a=n,r=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===r){o=!0,r=s,a=n;break}if(c===a){o=!0,a=s,r=n;break}c=c.sibling}if(!o)throw Error(i(189))}}if(r.alternate!==a)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Th={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{de=Ih.inject(Th),ue=Ih}catch(Mh){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var r=!1,a="",n=vo,s=bo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(n=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Ju(e,1,!1,null,0,r,a,n,s,l,0,null),e[Me]=t.current,zd(e),new Ch(t)},t.hydrateRoot=function(e,t,r){if(!o(e))throw Error(i(299));var a=!1,n="",s=vo,l=bo,c=xo,d=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(n=r.identifierPrefix),void 0!==r.onUncaughtError&&(s=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(d=r.formState)),(t=Ju(e,1,!0,t,0,a,n,s,l,c,0,d)).context=Qu(null),r=t.current,(n=ns(a=Ce(a=Mc()))).callback=null,ss(r,n,a),r=a,t.current.lanes=r,_e(t,r),Sd(t),e[Me]=t.current,zd(e),new Ph(t)},t.version="19.1.1"},43:(e,t,r)=>{"use strict";e.exports=r(288)},131:(e,t,r)=>{"use strict";r.d(t,{v:()=>o});var a=r(43);const n=e=>{let t;const r=new Set,a=(e,a)=>{const n="function"===typeof e?e(t):e;if(!Object.is(n,t)){const e=t;t=(null!=a?a:"object"!==typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,s={setState:a,getState:n,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(a,n,s);return s},s=e=>e;const i=e=>{const t=(e=>e?n(e):n)(e),r=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;const r=a.useSyncExternalStore(e.subscribe,a.useCallback(()=>t(e.getState()),[e,t]),a.useCallback(()=>t(e.getInitialState()),[e,t]));return a.useDebugValue(r),r}(t,e);return Object.assign(r,t),r},o=e=>e?i(e):i},210:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(r(829)),s=a(r(736));class i{constructor(e){let{headers:t={},schema:r,fetch:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=a}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new n.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:a=!1,count:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;let o;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;r||a?(o=r?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,Array.isArray(r)?"{".concat(r.join(","),"}"):"".concat(r)]}).forEach(e=>{let[t,r]=e;l.searchParams.append(t,r)})):(o="POST",c=t);const d=new Headers(this.headers);return n&&d.set("Prefer","count=".concat(n)),new s.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}}t.default=i},286:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(r(630)),s=a(r(611));t.default=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,a,n;let i=null,o=null,l=null,c=e.status,d=e.statusText;if(e.ok){if("HEAD"!==this.method){const r=await e.text();""===r||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?r:JSON.parse(r))}const n=null===(r=this.headers.get("Prefer"))||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),s=null===(a=e.headers.get("content-range"))||void 0===a?void 0:a.split("/");n&&s&&s.length>1&&(l=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:"Results contain ".concat(o.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,d="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(o=[],i=null,c=200,d="OK")}catch(u){404===e.status&&""===t?(c=204,d="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(n=null===i||void 0===i?void 0:i.details)||void 0===n?void 0:n.includes("0 rows"))&&(i=null,c=200,d="OK"),i&&this.shouldThrowOnError)throw new s.default(i)}return{error:i,data:o,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,a;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(r=null===e||void 0===e?void 0:e.stack)&&void 0!==r?r:""),hint:"",code:"".concat(null!==(a=null===e||void 0===e?void 0:e.code)&&void 0!==a?a:"")},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,f(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function j(e,t,a,n,s,i){return a=i.ref,{$$typeof:r,type:e,key:t,ref:void 0!==a?a:null,props:i}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var N=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(){}function P(e,t,n,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case r:case a:d=!0;break;case h:return P((d=e._init)(e._payload),t,n,s,i)}}if(d)return i=i(e),d=""===s?"."+E(e,0):s,w(i)?(n="",null!=d&&(n=d.replace(N,"$&/")+"/"),P(i,t,n,"",function(e){return e})):null!=i&&(_(i)&&(l=i,c=n+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(N,"$&/")+"/")+d,i=j(l.type,c,void 0,0,0,l.props)),t.push(i)),1;d=0;var u,m=""===s?".":s+":";if(w(e))for(var f=0;f<e.length;f++)d+=P(s=e[f],t,n,o=m+E(s,f),i);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(s=e.next()).done;)d+=P(s=s.value,t,n,o=m+E(s,f++),i);else if("object"===o){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function A(e,t,r){if(null==e)return e;var a=[],n=0;return P(e,a,"","",function(e){return t.call(r,e,n++)}),a}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:A,forEach:function(e,t,r){A(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=n,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=f({},e.props),n=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(n=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(a[s]=t[s]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];a.children=i}return j(e.type,n,void 0,0,0,a)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,r){var a,n={},s=null;if(null!=t)for(a in void 0!==t.key&&(s=""+t.key),t)k.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(n[a]=t[a]);var i=arguments.length-2;if(1===i)n.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];n.children=o}if(e&&e.defaultProps)for(a in i=e.defaultProps)void 0===n[a]&&(n[a]=i[a]);return j(e,s,void 0,0,0,n)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,r={};S.T=r;try{var a=e(),n=S.S;null!==n&&n(r,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(D,I)}catch(s){I(s)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,r){return S.H.useActionState(e,t,r)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,r){var a=S.H;if("function"===typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return a.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,r){return S.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return S.H.useReducer(e,t,r)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return S.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.1"},302:function(module,exports,__webpack_require__){var factory;"undefined"!==typeof document&&"undefined"!==typeof navigator&&(factory=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var r,a,n=e.length;for(r=0;r<n;r+=1)for(var s in a=e[r].prototype)Object.prototype.hasOwnProperty.call(a,s)&&(t.prototype[s]=a[s])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(e,t){var r,a=0,n=[];switch(e){case"int16":case"uint8c":r=1;break;default:r=1.1}for(a=0;a<t;a+=1)n.push(r);return n}return"function"===typeof Uint8ClampedArray&&"function"===typeof Float32Array?function(t,r){return"float32"===t?new Float32Array(r):"int16"===t?new Int16Array(r):"uint8c"===t?new Uint8ClampedArray(r):e(t,r)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=t.length;for(e=0;e<r;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===_typeof$6(e)&&e.length){var t,r=createSizedArray(e.length),a=e.length;for(t=0;t<a;t+=1)r[t]=Math.abs(e[t]);return r}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){_shouldRoundValues=!!e}function bmRnd(e){return _shouldRoundValues?Math.round(e):e}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,r,a){this.type=e,this.currentTime=t,this.totalTime=r,this.direction=a<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,r,a){this.type=e,this.currentLoop=r,this.totalLoops=t,this.direction=a<0?-1:1}function BMSegmentStartEvent(e,t,r){this.type=e,this.firstFrame=t,this.totalFrames=r}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t}var createElementID=function(){var e=0;return function(){return idPrefix$1+"__lottie_element_"+(e+=1)}}();function HSVtoRGB(e,t,r){var a,n,s,i,o,l,c,d;switch(l=r*(1-t),c=r*(1-(o=6*e-(i=Math.floor(6*e)))*t),d=r*(1-(1-o)*t),i%6){case 0:a=r,n=d,s=l;break;case 1:a=c,n=r,s=l;break;case 2:a=l,n=r,s=d;break;case 3:a=l,n=c,s=r;break;case 4:a=d,n=l,s=r;break;case 5:a=r,n=l,s=c}return[a,n,s]}function RGBtoHSV(e,t,r){var a,n=Math.max(e,t,r),s=Math.min(e,t,r),i=n-s,o=0===n?0:i/n,l=n/255;switch(n){case s:a=0;break;case e:a=t-r+i*(t<r?6:0),a/=6*i;break;case t:a=r-e+2*i,a/=6*i;break;case r:a=e-t+4*i,a/=6*i}return[a,o,l]}function addSaturationToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[1]+=t,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[2]+=t,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[0]+=t/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var e,t,r=[];for(e=0;e<256;e+=1)t=e.toString(16),r[e]=1===t.length?"0"+t:t;return function(e,t,a){return e<0&&(e=0),t<0&&(t=0),a<0&&(a=0),"#"+r[e]+r[t]+r[a]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e},getIdPrefix=function(){return idPrefix$1};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(e)}var dataManager=function(){var e,t,r=1,a=[],n={onmessage:function(){},postMessage:function(t){e({data:t})}},s={postMessage:function(e){n.onmessage({data:e})}};function i(){t||(t=function(t){if(window.Worker&&window.Blob&&getWebWorker()){var r=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"}),a=URL.createObjectURL(r);return new Worker(a)}return e=t,n}(function(e){if(s.dataManager||(s.dataManager=function(){function e(n,s){var i,o,l,c,u,h,p=n.length;for(o=0;o<p;o+=1)if("ks"in(i=n[o])&&!i.completed){if(i.completed=!0,i.hasMask){var m=i.masksProperties;for(c=m.length,l=0;l<c;l+=1)if(m[l].pt.k.i)a(m[l].pt.k);else for(h=m[l].pt.k.length,u=0;u<h;u+=1)m[l].pt.k[u].s&&a(m[l].pt.k[u].s[0]),m[l].pt.k[u].e&&a(m[l].pt.k[u].e[0])}0===i.ty?(i.layers=t(i.refId,s),e(i.layers,s)):4===i.ty?r(i.shapes):5===i.ty&&d(i)}}function t(e,t){var r=function(e,t){for(var r=0,a=t.length;r<a;){if(t[r].id===e)return t[r];r+=1}return null}(e,t);return r?r.layers.__used?JSON.parse(JSON.stringify(r.layers)):(r.layers.__used=!0,r.layers):null}function r(e){var t,n,s;for(t=e.length-1;t>=0;t-=1)if("sh"===e[t].ty)if(e[t].ks.k.i)a(e[t].ks.k);else for(s=e[t].ks.k.length,n=0;n<s;n+=1)e[t].ks.k[n].s&&a(e[t].ks.k[n].s[0]),e[t].ks.k[n].e&&a(e[t].ks.k[n].e[0]);else"gr"===e[t].ty&&r(e[t].it)}function a(e){var t,r=e.i.length;for(t=0;t<r;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function n(e,t){var r=t?t.split("."):[100,100,100];return e[0]>r[0]||!(r[0]>e[0])&&(e[1]>r[1]||!(r[1]>e[1])&&(e[2]>r[2]||!(r[2]>e[2])&&null))}var s=function(){var e=[4,4,14];function t(e){var t=e.t.d;e.t.d={k:[{s:t,t:0}]}}function r(e){var r,a=e.length;for(r=0;r<a;r+=1)5===e[r].ty&&t(e[r])}return function(t){if(n(e,t.v)&&(r(t.layers),t.assets)){var a,s=t.assets.length;for(a=0;a<s;a+=1)t.assets[a].layers&&r(t.assets[a].layers)}}}(),i=function(){var e=[4,7,99];return function(t){if(t.chars&&!n(e,t.v)){var a,s=t.chars.length;for(a=0;a<s;a+=1){var i=t.chars[a];i.data&&i.data.shapes&&(r(i.data.shapes),i.data.ip=0,i.data.op=99999,i.data.st=0,i.data.sr=1,i.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},t.chars[a].t||(i.data.shapes.push({ty:"no"}),i.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),o=function(){var e=[5,7,15];function t(e){var t=e.t.p;"number"===typeof t.a&&(t.a={a:0,k:t.a}),"number"===typeof t.p&&(t.p={a:0,k:t.p}),"number"===typeof t.r&&(t.r={a:0,k:t.r})}function r(e){var r,a=e.length;for(r=0;r<a;r+=1)5===e[r].ty&&t(e[r])}return function(t){if(n(e,t.v)&&(r(t.layers),t.assets)){var a,s=t.assets.length;for(a=0;a<s;a+=1)t.assets[a].layers&&r(t.assets[a].layers)}}}(),l=function(){var e=[4,1,9];function t(e){var r,a,n,s=e.length;for(r=0;r<s;r+=1)if("gr"===e[r].ty)t(e[r].it);else if("fl"===e[r].ty||"st"===e[r].ty)if(e[r].c.k&&e[r].c.k[0].i)for(n=e[r].c.k.length,a=0;a<n;a+=1)e[r].c.k[a].s&&(e[r].c.k[a].s[0]/=255,e[r].c.k[a].s[1]/=255,e[r].c.k[a].s[2]/=255,e[r].c.k[a].s[3]/=255),e[r].c.k[a].e&&(e[r].c.k[a].e[0]/=255,e[r].c.k[a].e[1]/=255,e[r].c.k[a].e[2]/=255,e[r].c.k[a].e[3]/=255);else e[r].c.k[0]/=255,e[r].c.k[1]/=255,e[r].c.k[2]/=255,e[r].c.k[3]/=255}function r(e){var r,a=e.length;for(r=0;r<a;r+=1)4===e[r].ty&&t(e[r].shapes)}return function(t){if(n(e,t.v)&&(r(t.layers),t.assets)){var a,s=t.assets.length;for(a=0;a<s;a+=1)t.assets[a].layers&&r(t.assets[a].layers)}}}(),c=function(){var e=[4,4,18];function t(e){var r,a,n;for(r=e.length-1;r>=0;r-=1)if("sh"===e[r].ty)if(e[r].ks.k.i)e[r].ks.k.c=e[r].closed;else for(n=e[r].ks.k.length,a=0;a<n;a+=1)e[r].ks.k[a].s&&(e[r].ks.k[a].s[0].c=e[r].closed),e[r].ks.k[a].e&&(e[r].ks.k[a].e[0].c=e[r].closed);else"gr"===e[r].ty&&t(e[r].it)}function r(e){var r,a,n,s,i,o,l=e.length;for(a=0;a<l;a+=1){if((r=e[a]).hasMask){var c=r.masksProperties;for(s=c.length,n=0;n<s;n+=1)if(c[n].pt.k.i)c[n].pt.k.c=c[n].cl;else for(o=c[n].pt.k.length,i=0;i<o;i+=1)c[n].pt.k[i].s&&(c[n].pt.k[i].s[0].c=c[n].cl),c[n].pt.k[i].e&&(c[n].pt.k[i].e[0].c=c[n].cl)}4===r.ty&&t(r.shapes)}}return function(t){if(n(e,t.v)&&(r(t.layers),t.assets)){var a,s=t.assets.length;for(a=0;a<s;a+=1)t.assets[a].layers&&r(t.assets[a].layers)}}}();function d(e){0===e.t.a.length&&e.t.p}var u={completeData:function(r){r.__complete||(l(r),s(r),i(r),o(r),c(r),e(r.layers,r.assets),function(r,a){if(r){var n=0,s=r.length;for(n=0;n<s;n+=1)1===r[n].t&&(r[n].data.layers=t(r[n].data.refId,a),e(r[n].data.layers,a))}}(r.chars,r.assets),r.__complete=!0)}};return u.checkColors=l,u.checkChars=i,u.checkPathProperties=o,u.checkShapes=c,u.completeLayers=e,u}()),s.assetLoader||(s.assetLoader=function(){function e(e){var t=e.getResponseHeader("content-type");return t&&"json"===e.responseType&&-1!==t.indexOf("json")||e.response&&"object"===_typeof$5(e.response)?e.response:e.response&&"string"===typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}return{load:function(t,r,a,n){var s,i=new XMLHttpRequest;try{i.responseType="json"}catch(o){}i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status)s=e(i),a(s);else try{s=e(i),a(s)}catch(o){n&&n(o)}};try{i.open(["G","E","T"].join(""),t,!0)}catch(l){i.open(["G","E","T"].join(""),r+"/"+t,!0)}i.send()}}}()),"loadAnimation"===e.data.type)s.assetLoader.load(e.data.path,e.data.fullPath,function(t){s.dataManager.completeData(t),s.postMessage({id:e.data.id,payload:t,status:"success"})},function(){s.postMessage({id:e.data.id,status:"error"})});else if("complete"===e.data.type){var t=e.data.animation;s.dataManager.completeData(t),s.postMessage({id:e.data.id,payload:t,status:"success"})}else"loadData"===e.data.type&&s.assetLoader.load(e.data.path,e.data.fullPath,function(t){s.postMessage({id:e.data.id,payload:t,status:"success"})},function(){s.postMessage({id:e.data.id,status:"error"})})}),t.onmessage=function(e){var t=e.data,r=t.id,n=a[r];a[r]=null,"success"===t.status?n.onComplete(t.payload):n.onError&&n.onError()})}function o(e,t){var n="processId_"+(r+=1);return a[n]={onComplete:e,onError:t},n}return{loadAnimation:function(e,r,a){i();var n=o(r,a);t.postMessage({type:"loadAnimation",path:e,fullPath:window.location.origin+window.location.pathname,id:n})},loadData:function(e,r,a){i();var n=o(r,a);t.postMessage({type:"loadData",path:e,fullPath:window.location.origin+window.location.pathname,id:n})},completeAnimation:function(e,r,a){i();var n=o(r,a);t.postMessage({type:"complete",animation:e,id:n})}}}(),ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function a(e,t,r){var a="";if(e.e)a=e.p;else if(t){var n=e.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),a=t+n}else a=r,a+=e.u?e.u:"",a+=e.p;return a}function n(e){var t=0,r=setInterval(function(){(e.getBBox().width||t>500)&&(this._imageLoaded(),clearInterval(r)),t+=1}.bind(this),50)}function s(e){var t={assetData:e},r=a(e,this.assetsPath,this.path);return dataManager.loadData(r,function(e){t.img=e,this._footageLoaded()}.bind(this),function(){t.img={},this._footageLoaded()}.bind(this)),t}function i(){this._imageLoaded=t.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=n.bind(this),this.createFootageData=s.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return i.prototype={loadAssets:function(e,t){var r;this.imagesLoadedCb=t;var a=e.length;for(r=0;r<a;r+=1)e[r].layers||(e[r].t&&"seq"!==e[r].t?3===e[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[r]))):(this.totalImages+=1,this.images.push(this._createImageData(e[r]))))},setAssetsPath:function(e){this.assetsPath=e||""},setPath:function(e){this.path=e||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(e){for(var t=0,r=this.images.length;t<r;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}return null},createImgData:function(t){var r=a(t,this.assetsPath,this.path),n=createTag("img");n.crossOrigin="anonymous",n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){s.img=e,this._imageLoaded()}.bind(this),!1),n.src=r;var s={img:n,assetData:t};return s},createImageData:function(t){var r=a(t,this.assetsPath,this.path),n=createNS("image");isSafari?this.testImageLoaded(n):n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){s.img=e,this._imageLoaded()}.bind(this),!1),n.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this._elementHelper.append?this._elementHelper.append(n):this._elementHelper.appendChild(n);var s={img:n,assetData:t};return s},imageLoaded:t,footageLoaded:r,setCacheType:function(e,t){"svg"===e?(this._elementHelper=t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},i}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var r=this._cbs[e],a=0;a<r.length;a+=1)r[a](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var r=0,a=this._cbs[e].length;r<a;)this._cbs[e][r]===t&&(this._cbs[e].splice(r,1),r-=1,a-=1),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var markerParser=function(){function e(e){for(var t,r=e.split("\r\n"),a={},n=0,s=0;s<r.length;s+=1)2===(t=r[s].split(":")).length&&(a[t[0]]=t[1].trim(),n+=1);if(0===n)throw new Error;return a}return function(t){for(var r=[],a=0;a<t.length;a+=1){var n=t[a],s={time:n.tm,duration:n.dr};try{s.payload=JSON.parse(t[a].cm)}catch(i){try{s.payload=e(t[a].cm)}catch(o){s.payload={name:t[a].cm}}}r.push(s)}return r}}(),ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,r=this.compositions.length;t<r;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),renderers={},registerRenderer=function(e,t){renderers[e]=t};function getRenderer(e){return renderers[e]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var e in renderers)if(renderers[e])return e;return""}function _typeof$4(e){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var r=getRenderer(t);this.renderer=new r(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&"object"!==_typeof$4(t)&&(t=JSON.parse(t));var r={wrapper:e,animationData:t},a=e.attributes;r.path=a.getNamedItem("data-animation-path")?a.getNamedItem("data-animation-path").value:a.getNamedItem("data-bm-path")?a.getNamedItem("data-bm-path").value:a.getNamedItem("bm-path")?a.getNamedItem("bm-path").value:"",r.animType=a.getNamedItem("data-anim-type")?a.getNamedItem("data-anim-type").value:a.getNamedItem("data-bm-type")?a.getNamedItem("data-bm-type").value:a.getNamedItem("bm-type")?a.getNamedItem("bm-type").value:a.getNamedItem("data-bm-renderer")?a.getNamedItem("data-bm-renderer").value:a.getNamedItem("bm-renderer")?a.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var n=a.getNamedItem("data-anim-loop")?a.getNamedItem("data-anim-loop").value:a.getNamedItem("data-bm-loop")?a.getNamedItem("data-bm-loop").value:a.getNamedItem("bm-loop")?a.getNamedItem("bm-loop").value:"";"false"===n?r.loop=!1:"true"===n?r.loop=!0:""!==n&&(r.loop=parseInt(n,10));var s=a.getNamedItem("data-anim-autoplay")?a.getNamedItem("data-anim-autoplay").value:a.getNamedItem("data-bm-autoplay")?a.getNamedItem("data-bm-autoplay").value:!a.getNamedItem("bm-autoplay")||a.getNamedItem("bm-autoplay").value;r.autoplay="false"!==s,r.name=a.getNamedItem("data-name")?a.getNamedItem("data-name").value:a.getNamedItem("data-bm-name")?a.getNamedItem("data-bm-name").value:a.getNamedItem("bm-name")?a.getNamedItem("bm-name").value:"","false"===(a.getNamedItem("data-anim-prerender")?a.getNamedItem("data-anim-prerender").value:a.getNamedItem("data-bm-prerender")?a.getNamedItem("data-bm-prerender").value:a.getNamedItem("bm-prerender")?a.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),r.path?this.setParams(r):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,r,a=this.animationData.layers,n=a.length,s=e.layers,i=s.length;for(r=0;r<i;r+=1)for(t=0;t<n;){if(a[t].id===s[r].id){a[t]=s[r];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(n=e.assets.length,t=0;t<n;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,t){var r="number"===typeof e?e:void 0,a="number"===typeof t?t:void 0;this.renderer.updateContainerSize(r,a)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,r=0;r<this.markers.length;r+=1)if((t=this.markers[r]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,r){if(!r||this.name===r){var a=Number(e);if(isNaN(a)){var n=this.getMarkerData(e);n&&this.goToAndStop(n.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,r){if(!r||this.name===r){var a=Number(e);if(isNaN(a)){var n=this.getMarkerData(e);n&&(n.duration?this.playSegments([n.time,n.time+n.duration],!0):this.goToAndStop(n.time,!0))}else this.goToAndStop(a,t,r);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,r=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(r=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),r&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?r=e:this.currentRawFrame+this.firstFrame>t&&(r=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"===_typeof$4(e[0])){var r,a=e.length;for(r=0;r<a;r+=1)this.segments.push(e[r])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(e){this.loop=e},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),t=this.assetsPath+r}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,r=this.assets.length;t<r;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,r){try{this.renderer.getElementByPath(e).updateDocumentData(t,r)}catch(a){}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var e={},t=[],r=0,a=0,n=0,s=!0,i=!1;function o(e){for(var r=0,n=e.target;r<a;)t[r].animation===n&&(t.splice(r,1),r-=1,a-=1,n.isPaused||d()),r+=1}function l(e,r){if(!e)return null;for(var n=0;n<a;){if(t[n].elem===e&&null!==t[n].elem)return t[n].animation;n+=1}var s=new AnimationItem;return u(s,e),s.setData(e,r),s}function c(){n+=1,m()}function d(){n-=1}function u(e,r){e.addEventListener("destroy",o),e.addEventListener("_active",c),e.addEventListener("_idle",d),t.push({elem:r,animation:e}),a+=1}function h(e){var o,l=e-r;for(o=0;o<a;o+=1)t[o].animation.advanceTime(l);r=e,n&&!i?window.requestAnimationFrame(h):s=!0}function p(e){r=e,window.requestAnimationFrame(h)}function m(){!i&&n&&s&&(window.requestAnimationFrame(p),s=!1)}return e.registerAnimation=l,e.loadAnimation=function(e){var t=new AnimationItem;return u(t,null),t.setParams(e),t},e.setSpeed=function(e,r){var n;for(n=0;n<a;n+=1)t[n].animation.setSpeed(e,r)},e.setDirection=function(e,r){var n;for(n=0;n<a;n+=1)t[n].animation.setDirection(e,r)},e.play=function(e){var r;for(r=0;r<a;r+=1)t[r].animation.play(e)},e.pause=function(e){var r;for(r=0;r<a;r+=1)t[r].animation.pause(e)},e.stop=function(e){var r;for(r=0;r<a;r+=1)t[r].animation.stop(e)},e.togglePause=function(e){var r;for(r=0;r<a;r+=1)t[r].animation.togglePause(e)},e.searchAnimations=function(e,t,r){var a,n=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),s=n.length;for(a=0;a<s;a+=1)r&&n[a].setAttribute("data-bm-type",r),l(n[a],e);if(t&&0===s){r||(r="svg");var i=document.getElementsByTagName("body")[0];i.innerText="";var o=createTag("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",r),i.appendChild(o),l(o,e)}},e.resize=function(){var e;for(e=0;e<a;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,r,n){var s;for(s=0;s<a;s+=1)t[s].animation.goToAndStop(e,r,n)},e.destroy=function(e){var r;for(r=a-1;r>=0;r-=1)t[r].animation.destroy(e)},e.freeze=function(){i=!0},e.unfreeze=function(){i=!1,m()},e.setVolume=function(e,r){var n;for(n=0;n<a;n+=1)t[n].animation.setVolume(e,r)},e.mute=function(e){var r;for(r=0;r<a;r+=1)t[r].animation.mute(e)},e.unmute=function(e){var r;for(r=0;r<a;r+=1)t[r].animation.unmute(e)},e.getRegisteredAnimations=function(){var e,r=t.length,a=[];for(e=0;e<r;e+=1)a.push(t[e].animation);return a},e}(),BezierFactory=function(){var e={getBezierEasing:function(e,r,a,n,s){var i=s||("bez_"+e+"_"+r+"_"+a+"_"+n).replace(/\./g,"p");if(t[i])return t[i];var o=new d([e,r,a,n]);return t[i]=o,o}},t={},r=11,a=1/(r-1),n="function"===typeof Float32Array;function s(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function o(e){return 3*e}function l(e,t,r){return((s(t,r)*e+i(t,r))*e+o(t))*e}function c(e,t,r){return 3*s(t,r)*e*e+2*i(t,r)*e+o(t)}function d(e){this._p=e,this._mSampleValues=n?new Float32Array(r):new Array(r),this._precomputed=!1,this.get=this.get.bind(this)}return d.prototype={get:function(e){var t=this._p[0],r=this._p[1],a=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),t===r&&a===n?e:0===e?0:1===e?1:l(this._getTForX(e),r,n)},_precompute:function(){var e=this._p[0],t=this._p[1],r=this._p[2],a=this._p[3];this._precomputed=!0,e===t&&r===a||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],n=0;n<r;++n)this._mSampleValues[n]=l(n*a,e,t)},_getTForX:function(e){for(var t=this._p[0],n=this._p[2],s=this._mSampleValues,i=0,o=1,d=r-1;o!==d&&s[o]<=e;++o)i+=a;var u=i+(e-s[--o])/(s[o+1]-s[o])*a,h=c(u,t,n);return h>=.001?function(e,t,r,a){for(var n=0;n<4;++n){var s=c(t,r,a);if(0===s)return t;t-=(l(t,r,a)-e)/s}return t}(e,u,t,n):0===h?u:function(e,t,r,a,n){var s,i,o=0;do{(s=l(i=t+(r-t)/2,a,n)-e)>0?r=i:t=i}while(Math.abs(s)>1e-7&&++o<10);return i}(e,i,i+a,t,n)}},e}(),pooling={double:function(e){return e.concat(createSizedArray(e.length))}},poolFactory=function(e,t,r){var a=0,n=e,s=createSizedArray(n);return{newElement:function(){return a?s[a-=1]:t()},release:function(e){a===n&&(s=pooling.double(s),n*=2),r&&r(e),s[a]=e,a+=1}}},bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(e){var t,r=e.lengths.length;for(t=0;t<r;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0});function bezFunction(){var e=Math;function t(e,t,r,a,n,s){var i=e*a+t*n+r*s-n*a-s*e-r*t;return i>-.001&&i<.001}var r=function(e,t,r,a){var n,s,i,o,l,c,d=getDefaultCurveSegments(),u=0,h=[],p=[],m=bezierLengthPool.newElement();for(i=r.length,n=0;n<d;n+=1){for(l=n/(d-1),c=0,s=0;s<i;s+=1)o=bmPow(1-l,3)*e[s]+3*bmPow(1-l,2)*l*r[s]+3*(1-l)*bmPow(l,2)*a[s]+bmPow(l,3)*t[s],h[s]=o,null!==p[s]&&(c+=bmPow(h[s]-p[s],2)),p[s]=h[s];c&&(u+=c=bmSqrt(c)),m.percents[n]=l,m.lengths[n]=u}return m.addedLength=u,m};function a(e){this.segmentLength=0,this.points=new Array(e)}function n(e,t){this.partialLength=e,this.point=t}var s=function(){var e={};return function(r,s,i,o){var l=(r[0]+"_"+r[1]+"_"+s[0]+"_"+s[1]+"_"+i[0]+"_"+i[1]+"_"+o[0]+"_"+o[1]).replace(/\./g,"p");if(!e[l]){var c,d,u,h,p,m,f,g=getDefaultCurveSegments(),y=0,v=null;2===r.length&&(r[0]!==s[0]||r[1]!==s[1])&&t(r[0],r[1],s[0],s[1],r[0]+i[0],r[1]+i[1])&&t(r[0],r[1],s[0],s[1],s[0]+o[0],s[1]+o[1])&&(g=2);var b=new a(g);for(u=i.length,c=0;c<g;c+=1){for(f=createSizedArray(u),p=c/(g-1),m=0,d=0;d<u;d+=1)h=bmPow(1-p,3)*r[d]+3*bmPow(1-p,2)*p*(r[d]+i[d])+3*(1-p)*bmPow(p,2)*(s[d]+o[d])+bmPow(p,3)*s[d],f[d]=h,null!==v&&(m+=bmPow(f[d]-v[d],2));y+=m=bmSqrt(m),b.points[c]=new n(m,f),v=f}b.segmentLength=y,e[l]=b}return e[l]}}();function i(e,t){var r=t.percents,a=t.lengths,n=r.length,s=bmFloor((n-1)*e),i=e*t.addedLength,o=0;if(s===n-1||0===s||i===a[s])return r[s];for(var l=a[s]>i?-1:1,c=!0;c;)if(a[s]<=i&&a[s+1]>i?(o=(i-a[s])/(a[s+1]-a[s]),c=!1):s+=l,s<0||s>=n-1){if(s===n-1)return r[s];c=!1}return r[s]+(r[s+1]-r[s])*o}var o=createTypedArray("float32",8);return{getSegmentsLength:function(e){var t,a=segmentsLengthPool.newElement(),n=e.c,s=e.v,i=e.o,o=e.i,l=e._length,c=a.lengths,d=0;for(t=0;t<l-1;t+=1)c[t]=r(s[t],s[t+1],i[t],o[t+1]),d+=c[t].addedLength;return n&&l&&(c[t]=r(s[t],s[0],i[t],o[0]),d+=c[t].addedLength),a.totalLength=d,a},getNewSegment:function(t,r,a,n,s,l,c){s<0?s=0:s>1&&(s=1);var d,u=i(s,c),h=i(l=l>1?1:l,c),p=t.length,m=1-u,f=1-h,g=m*m*m,y=u*m*m*3,v=u*u*m*3,b=u*u*u,x=m*m*f,w=u*m*f+m*u*f+m*m*h,S=u*u*f+m*u*h+u*m*h,k=u*u*h,j=m*f*f,_=u*f*f+m*h*f+m*f*h,N=u*h*f+m*h*h+u*f*h,E=u*h*h,C=f*f*f,P=h*f*f+f*h*f+f*f*h,A=h*h*f+f*h*h+h*f*h,T=h*h*h;for(d=0;d<p;d+=1)o[4*d]=e.round(1e3*(g*t[d]+y*a[d]+v*n[d]+b*r[d]))/1e3,o[4*d+1]=e.round(1e3*(x*t[d]+w*a[d]+S*n[d]+k*r[d]))/1e3,o[4*d+2]=e.round(1e3*(j*t[d]+_*a[d]+N*n[d]+E*r[d]))/1e3,o[4*d+3]=e.round(1e3*(C*t[d]+P*a[d]+A*n[d]+T*r[d]))/1e3;return o},getPointInSegment:function(t,r,a,n,s,o){var l=i(s,o),c=1-l;return[e.round(1e3*(c*c*c*t[0]+(l*c*c+c*l*c+c*c*l)*a[0]+(l*l*c+c*l*l+l*c*l)*n[0]+l*l*l*r[0]))/1e3,e.round(1e3*(c*c*c*t[1]+(l*c*c+c*l*c+c*c*l)*a[1]+(l*l*c+c*l*l+l*c*l)*n[1]+l*l*l*r[1]))/1e3]},buildBezierData:s,pointOnLine2D:t,pointOnLine3D:function(r,a,n,s,i,o,l,c,d){if(0===n&&0===o&&0===d)return t(r,a,s,i,l,c);var u,h=e.sqrt(e.pow(s-r,2)+e.pow(i-a,2)+e.pow(o-n,2)),p=e.sqrt(e.pow(l-r,2)+e.pow(c-a,2)+e.pow(d-n,2)),m=e.sqrt(e.pow(l-s,2)+e.pow(c-i,2)+e.pow(d-o,2));return(u=h>p?h>m?h-p-m:m-p-h:m>p?m-p-h:p-h-m)>-1e-4&&u<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(e,t){var r,a=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var n,s,i,o,l,c,d,u,h,p=t.lastIndex,m=p,f=this.keyframes.length-1,g=!0;g;){if(n=this.keyframes[m],s=this.keyframes[m+1],m===f-1&&e>=s.t-a){n.h&&(n=s),p=0;break}if(s.t-a>e){p=m;break}m<f-1?m+=1:(p=0,g=!1)}i=this.keyframesMetadata[m]||{};var y,v=s.t-a,b=n.t-a;if(n.to){i.bezierData||(i.bezierData=bez.buildBezierData(n.s,s.s||n.e,n.to,n.ti));var x=i.bezierData;if(e>=v||e<b){var w=e>=v?x.points.length-1:0;for(l=x.points[w].point.length,o=0;o<l;o+=1)r[o]=x.points[w].point[o]}else{i.__fnct?h=i.__fnct:(h=BezierFactory.getBezierEasing(n.o.x,n.o.y,n.i.x,n.i.y,n.n).get,i.__fnct=h),c=h((e-b)/(v-b));var S,k=x.segmentLength*c,j=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastAddedLength:0;for(u=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastPoint:0,g=!0,d=x.points.length;g;){if(j+=x.points[u].partialLength,0===k||0===c||u===x.points.length-1){for(l=x.points[u].point.length,o=0;o<l;o+=1)r[o]=x.points[u].point[o];break}if(k>=j&&k<j+x.points[u+1].partialLength){for(S=(k-j)/x.points[u+1].partialLength,l=x.points[u].point.length,o=0;o<l;o+=1)r[o]=x.points[u].point[o]+(x.points[u+1].point[o]-x.points[u].point[o])*S;break}u<d-1?u+=1:g=!1}t._lastPoint=u,t._lastAddedLength=j-x.points[u].partialLength,t._lastKeyframeIndex=m}}else{var _,N,E,C,P;if(f=n.s.length,y=s.s||n.e,this.sh&&1!==n.h)e>=v?(r[0]=y[0],r[1]=y[1],r[2]=y[2]):e<=b?(r[0]=n.s[0],r[1]=n.s[1],r[2]=n.s[2]):quaternionToEuler(r,slerp(createQuaternion(n.s),createQuaternion(y),(e-b)/(v-b)));else for(m=0;m<f;m+=1)1!==n.h&&(e>=v?c=1:e<b?c=0:(n.o.x.constructor===Array?(i.__fnct||(i.__fnct=[]),i.__fnct[m]?h=i.__fnct[m]:(_=void 0===n.o.x[m]?n.o.x[0]:n.o.x[m],N=void 0===n.o.y[m]?n.o.y[0]:n.o.y[m],E=void 0===n.i.x[m]?n.i.x[0]:n.i.x[m],C=void 0===n.i.y[m]?n.i.y[0]:n.i.y[m],h=BezierFactory.getBezierEasing(_,N,E,C).get,i.__fnct[m]=h)):i.__fnct?h=i.__fnct:(_=n.o.x,N=n.o.y,E=n.i.x,C=n.i.y,h=BezierFactory.getBezierEasing(_,N,E,C).get,n.keyframeMetadata=h),c=h((e-b)/(v-b)))),y=s.s||n.e,P=1===n.h?n.s[m]:n.s[m]+(y[m]-n.s[m])*c,"multidimensional"===this.propType?r[m]=P:r=P}return t.lastIndex=p,r}function slerp(e,t,r){var a,n,s,i,o,l=[],c=e[0],d=e[1],u=e[2],h=e[3],p=t[0],m=t[1],f=t[2],g=t[3];return(n=c*p+d*m+u*f+h*g)<0&&(n=-n,p=-p,m=-m,f=-f,g=-g),1-n>1e-6?(a=Math.acos(n),s=Math.sin(a),i=Math.sin((1-r)*a)/s,o=Math.sin(r*a)/s):(i=1-r,o=r),l[0]=i*c+o*p,l[1]=i*d+o*m,l[2]=i*u+o*f,l[3]=i*h+o*g,l}function quaternionToEuler(e,t){var r=t[0],a=t[1],n=t[2],s=t[3],i=Math.atan2(2*a*s-2*r*n,1-2*a*a-2*n*n),o=Math.asin(2*r*a+2*n*s),l=Math.atan2(2*r*s-2*a*n,1-2*r*r-2*n*n);e[0]=i/degToRads,e[1]=o/degToRads,e[2]=l/degToRads}function createQuaternion(e){var t=e[0]*degToRads,r=e[1]*degToRads,a=e[2]*degToRads,n=Math.cos(t/2),s=Math.cos(r/2),i=Math.cos(a/2),o=Math.sin(t/2),l=Math.sin(r/2),c=Math.sin(a/2);return[o*l*i+n*s*c,o*s*i+n*l*c,n*l*i-o*s*c,n*s*i-o*l*c]}function getValueAtCurrentTime(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=r&&e>=r||this._caching.lastFrame<t&&e<t))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var a=this.interpolateValue(e,this._caching);this.pv=a}return this._caching.lastFrame=e,this.pv}function setVValue(e){var t;if("unidimensional"===this.propType)t=e*this.mult,mathAbs(this.v-t)>1e-5&&(this.v=t,this._mdf=!0);else for(var r=0,a=this.v.length;r<a;)t=e[r]*this.mult,mathAbs(this.v[r]-t)>1e-5&&(this.v[r]=t,this._mdf=!0),r+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e;this.lock=!0,this._mdf=this._isFirstFrame;var t=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)r=this.effectsSequence[e](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function ValueProperty(e,t,r,a){this.propType="unidimensional",this.mult=r||1,this.data=t,this.v=r?t.k*r:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=a,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(e,t,r,a){var n;this.propType="multidimensional",this.mult=r||1,this.data=t,this._mdf=!1,this.elem=e,this.container=a,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var s=t.k.length;for(this.v=createTypedArray("float32",s),this.pv=createTypedArray("float32",s),this.vel=createTypedArray("float32",s),n=0;n<s;n+=1)this.v[n]=t.k[n]*this.mult,this.pv[n]=t.k[n];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(e,t,r,a){this.propType="unidimensional",this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=t,this.mult=r||1,this.elem=e,this.container=a,this.comp=e.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(e,t,r,a){var n;this.propType="multidimensional";var s,i,o,l,c=t.k.length;for(n=0;n<c-1;n+=1)t.k[n].to&&t.k[n].s&&t.k[n+1]&&t.k[n+1].s&&(s=t.k[n].s,i=t.k[n+1].s,o=t.k[n].to,l=t.k[n].ti,(2===s.length&&(s[0]!==i[0]||s[1]!==i[1])&&bez.pointOnLine2D(s[0],s[1],i[0],i[1],s[0]+o[0],s[1]+o[1])&&bez.pointOnLine2D(s[0],s[1],i[0],i[1],i[0]+l[0],i[1]+l[1])||3===s.length&&(s[0]!==i[0]||s[1]!==i[1]||s[2]!==i[2])&&bez.pointOnLine3D(s[0],s[1],s[2],i[0],i[1],i[2],s[0]+o[0],s[1]+o[1],s[2]+o[2])&&bez.pointOnLine3D(s[0],s[1],s[2],i[0],i[1],i[2],i[0]+l[0],i[1]+l[1],i[2]+l[2]))&&(t.k[n].to=null,t.k[n].ti=null),s[0]===i[0]&&s[1]===i[1]&&0===o[0]&&0===o[1]&&0===l[0]&&0===l[1]&&(2===s.length||s[2]===i[2]&&0===o[2]&&0===l[2])&&(t.k[n].to=null,t.k[n].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=t,this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=e,this.container=a,this.comp=e.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var d=t.k[0].s.length;for(this.v=createTypedArray("float32",d),this.pv=createTypedArray("float32",d),n=0;n<d;n+=1)this.v[n]=initFrame,this.pv[n]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",d)},this.addEffect=addEffect}var PropertyFactory={getProp:function(e,t,r,a,n){var s;if(t.sid&&(t=e.globalData.slotManager.getProp(t)),t.k.length)if("number"===typeof t.k[0])s=new MultiDimensionalProperty(e,t,a,n);else switch(r){case 0:s=new KeyframedValueProperty(e,t,a,n);break;case 1:s=new KeyframedMultidimensionalProperty(e,t,a,n)}else s=new ValueProperty(e,t,a,n);return s.effectsSequence.length&&n.addDynamicProperty(s),s}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var r=0;r<t;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,r,a,n){var s;switch(this._length=Math.max(this._length,a+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o;break;default:s=[]}(!s[a]||s[a]&&!n)&&(s[a]=pointPool.newElement()),s[a][0]=e,s[a][1]=t},ShapePath.prototype.setTripleAt=function(e,t,r,a,n,s,i,o){this.setXYAt(e,t,"v",i,o),this.setXYAt(r,a,"o",i,o),this.setXYAt(n,s,"i",i,o)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,r=this.o,a=this.i,n=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],a[0][0],a[0][1],r[0][0],r[0][1],0,!1),n=1);var s,i=this._length-1,o=this._length;for(s=n;s<o;s+=1)e.setTripleAt(t[i][0],t[i][1],a[i][0],a[i][1],r[i][0],r[i][1],s,!1),i-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){var e=poolFactory(4,function(){return new ShapePath},function(e){var t,r=e._length;for(t=0;t<r;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1});return e.clone=function(t){var r,a=e.newElement(),n=void 0===t._length?t.v.length:t._length;for(a.setLength(n),a.c=t.c,r=0;r<n;r+=1)a.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],r);return a},e}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=function(){var e={newShapeCollection:function(){return t?a[t-=1]:new ShapeCollection},release:function(e){var n,s=e._length;for(n=0;n<s;n+=1)shapePool.release(e.shapes[n]);e._length=0,t===r&&(a=pooling.double(a),r*=2),a[t]=e,t+=1}},t=0,r=4,a=createSizedArray(r);return e}(),ShapePropertyFactory=function(){var e=-999999;function t(e,t,r){var a,n,s,i,o,l,c,d,u,h=r.lastIndex,p=this.keyframes;if(e<p[0].t-this.offsetTime)a=p[0].s[0],s=!0,h=0;else if(e>=p[p.length-1].t-this.offsetTime)a=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],s=!0;else{for(var m,f,g,y=h,v=p.length-1,b=!0;b&&(m=p[y],!((f=p[y+1]).t-this.offsetTime>e));)y<v-1?y+=1:b=!1;if(g=this.keyframesMetadata[y]||{},h=y,!(s=1===m.h)){if(e>=f.t-this.offsetTime)d=1;else if(e<m.t-this.offsetTime)d=0;else{var x;g.__fnct?x=g.__fnct:(x=BezierFactory.getBezierEasing(m.o.x,m.o.y,m.i.x,m.i.y).get,g.__fnct=x),d=x((e-(m.t-this.offsetTime))/(f.t-this.offsetTime-(m.t-this.offsetTime)))}n=f.s?f.s[0]:m.e[0]}a=m.s[0]}for(l=t._length,c=a.i[0].length,r.lastIndex=h,i=0;i<l;i+=1)for(o=0;o<c;o+=1)u=s?a.i[i][o]:a.i[i][o]+(n.i[i][o]-a.i[i][o])*d,t.i[i][o]=u,u=s?a.o[i][o]:a.o[i][o]+(n.o[i][o]-a.o[i][o])*d,t.o[i][o]=u,u=s?a.v[i][o]:a.v[i][o]+(n.v[i][o]-a.v[i][o])*d,t.v[i][o]=u}function r(){var t=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,a=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==e&&(n<r&&t<r||n>a&&t>a)||(this._caching.lastIndex=n<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function a(){this.paths=this.localShapeCollection}function n(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var r,a=e._length;for(r=0;r<a;r+=1)if(e.v[r][0]!==t.v[r][0]||e.v[r][1]!==t.v[r][1]||e.o[r][0]!==t.o[r][0]||e.o[r][1]!==t.o[r][1]||e.i[r][0]!==t.i[r][0]||e.i[r][1]!==t.i[r][1])return!1;return!0})(this.v,e)||(this.v=shapePool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function s(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e,t;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var r=this.effectsSequence.length;for(t=0;t<r;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function i(e,t,r){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===r?t.pt.k:t.ks.k;this.v=shapePool.clone(n),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=a,this.effectsSequence=[]}function o(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(t,n,s){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===s?n.pt.k:n.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var i=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,i),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=a,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[r.bind(this)]}i.prototype.interpolateShape=t,i.prototype.getValue=s,i.prototype.setVValue=n,i.prototype.addEffect=o,l.prototype.getValue=s,l.prototype.interpolateShape=t,l.prototype.setVValue=n,l.prototype.addEffect=o;var c=function(){var e=roundCorner;function t(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:a,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],r=this.p.v[1],a=this.s.v[0]/2,n=this.s.v[1]/2,s=3!==this.d,i=this.v;i.v[0][0]=t,i.v[0][1]=r-n,i.v[1][0]=s?t+a:t-a,i.v[1][1]=r,i.v[2][0]=t,i.v[2][1]=r+n,i.v[3][0]=s?t-a:t+a,i.v[3][1]=r,i.i[0][0]=s?t-a*e:t+a*e,i.i[0][1]=r-n,i.i[1][0]=s?t+a:t-a,i.i[1][1]=r-n*e,i.i[2][0]=s?t+a*e:t-a*e,i.i[2][1]=r+n,i.i[3][0]=s?t-a:t+a,i.i[3][1]=r+n*e,i.o[0][0]=s?t+a*e:t-a*e,i.o[0][1]=r-n,i.o[1][0]=s?t+a:t-a,i.o[1][1]=r+n*e,i.o[2][0]=s?t-a*e:t+a*e,i.o[2][1]=r+n,i.o[3][0]=s?t-a:t+a,i.o[3][1]=r-n*e}},extendPrototype([DynamicPropertyContainer],t),t}(),d=function(){function e(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:a,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,r,a,n=2*Math.floor(this.pt.v),s=2*Math.PI/n,i=!0,o=this.or.v,l=this.ir.v,c=this.os.v,d=this.is.v,u=2*Math.PI*o/(2*n),h=2*Math.PI*l/(2*n),p=-Math.PI/2;p+=this.r.v;var m=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<n;e+=1){r=i?c:d,a=i?u:h;var f=(t=i?o:l)*Math.cos(p),g=t*Math.sin(p),y=0===f&&0===g?0:g/Math.sqrt(f*f+g*g),v=0===f&&0===g?0:-f/Math.sqrt(f*f+g*g);f+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(f,g,f-y*a*r*m,g-v*a*r*m,f+y*a*r*m,g+v*a*r*m,e,!0),i=!i,p+=s*m}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),r=2*Math.PI/t,a=this.or.v,n=this.os.v,s=2*Math.PI*a/(4*t),i=.5*-Math.PI,o=3===this.data.d?-1:1;for(i+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var l=a*Math.cos(i),c=a*Math.sin(i),d=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),u=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-d*s*n*o,c-u*s*n*o,l+d*s*n*o,c+u*s*n*o,e,!0),i+=r*o}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),u=function(){function e(e,t){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],r=this.s.v[0]/2,a=this.s.v[1]/2,n=bmMin(r,a,this.r.v),s=n*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+r,t-a+n,e+r,t-a+n,e+r,t-a+s,0,!0),this.v.setTripleAt(e+r,t+a-n,e+r,t+a-s,e+r,t+a-n,1,!0),0!==n?(this.v.setTripleAt(e+r-n,t+a,e+r-n,t+a,e+r-s,t+a,2,!0),this.v.setTripleAt(e-r+n,t+a,e-r+s,t+a,e-r+n,t+a,3,!0),this.v.setTripleAt(e-r,t+a-n,e-r,t+a-n,e-r,t+a-s,4,!0),this.v.setTripleAt(e-r,t-a+n,e-r,t-a+s,e-r,t-a+n,5,!0),this.v.setTripleAt(e-r+n,t-a,e-r+n,t-a,e-r+s,t-a,6,!0),this.v.setTripleAt(e+r-n,t-a,e+r-s,t-a,e+r-n,t-a,7,!0)):(this.v.setTripleAt(e-r,t+a,e-r+s,t+a,e-r,t+a,2),this.v.setTripleAt(e-r,t-a,e-r,t-a+s,e-r,t-a,3))):(this.v.setTripleAt(e+r,t-a+n,e+r,t-a+s,e+r,t-a+n,0,!0),0!==n?(this.v.setTripleAt(e+r-n,t-a,e+r-n,t-a,e+r-s,t-a,1,!0),this.v.setTripleAt(e-r+n,t-a,e-r+s,t-a,e-r+n,t-a,2,!0),this.v.setTripleAt(e-r,t-a+n,e-r,t-a+n,e-r,t-a+s,3,!0),this.v.setTripleAt(e-r,t+a-n,e-r,t+a-s,e-r,t+a-n,4,!0),this.v.setTripleAt(e-r+n,t+a,e-r+n,t+a,e-r+s,t+a,5,!0),this.v.setTripleAt(e+r-n,t+a,e+r-s,t+a,e+r-n,t+a,6,!0),this.v.setTripleAt(e+r,t+a-n,e+r,t+a-n,e+r,t+a-s,7,!0)):(this.v.setTripleAt(e-r,t-a,e-r+s,t-a,e-r,t-a,1,!0),this.v.setTripleAt(e-r,t+a,e-r,t+a-s,e-r,t+a,2,!0),this.v.setTripleAt(e+r,t+a,e+r-s,t+a,e+r,t+a,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:a},extendPrototype([DynamicPropertyContainer],e),e}(),h={getShapeProp:function(e,t,r){var a;return 3===r||4===r?a=(3===r?t.pt:t.ks).k.length?new l(e,t,r):new i(e,t,r):5===r?a=new u(e,t):6===r?a=new c(e,t):7===r&&(a=new d(e,t)),a.k&&e.addDynamicProperty(a),a},getConstructorFunction:function(){return i},getKeyframedConstructorFunction:function(){return l}};return h}(),Matrix=function(){var e=Math.cos,t=Math.sin,r=Math.tan,a=Math.round;function n(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(r){if(0===r)return this;var a=e(r),n=t(r);return this._t(a,-n,0,0,n,a,0,0,0,0,1,0,0,0,0,1)}function i(r){if(0===r)return this;var a=e(r),n=t(r);return this._t(1,0,0,0,0,a,-n,0,0,n,a,0,0,0,0,1)}function o(r){if(0===r)return this;var a=e(r),n=t(r);return this._t(a,0,n,0,0,1,0,0,-n,0,a,0,0,0,0,1)}function l(r){if(0===r)return this;var a=e(r),n=t(r);return this._t(a,-n,0,0,n,a,0,0,0,0,1,0,0,0,0,1)}function c(e,t){return this._t(1,t,e,1,0,0)}function d(e,t){return this.shear(r(e),r(t))}function u(a,n){var s=e(n),i=t(n);return this._t(s,i,0,0,-i,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(a),1,0,0,0,0,1,0,0,0,0,1)._t(s,-i,0,0,i,s,0,0,0,0,1,0,0,0,0,1)}function h(e,t,r){return r||0===r||(r=1),1===e&&1===t&&1===r?this:this._t(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1)}function p(e,t,r,a,n,s,i,o,l,c,d,u,h,p,m,f){return this.props[0]=e,this.props[1]=t,this.props[2]=r,this.props[3]=a,this.props[4]=n,this.props[5]=s,this.props[6]=i,this.props[7]=o,this.props[8]=l,this.props[9]=c,this.props[10]=d,this.props[11]=u,this.props[12]=h,this.props[13]=p,this.props[14]=m,this.props[15]=f,this}function m(e,t,r){return r=r||0,0!==e||0!==t||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1):this}function f(e,t,r,a,n,s,i,o,l,c,d,u,h,p,m,f){var g=this.props;if(1===e&&0===t&&0===r&&0===a&&0===n&&1===s&&0===i&&0===o&&0===l&&0===c&&1===d&&0===u)return g[12]=g[12]*e+g[15]*h,g[13]=g[13]*s+g[15]*p,g[14]=g[14]*d+g[15]*m,g[15]*=f,this._identityCalculated=!1,this;var y=g[0],v=g[1],b=g[2],x=g[3],w=g[4],S=g[5],k=g[6],j=g[7],_=g[8],N=g[9],E=g[10],C=g[11],P=g[12],A=g[13],T=g[14],I=g[15];return g[0]=y*e+v*n+b*l+x*h,g[1]=y*t+v*s+b*c+x*p,g[2]=y*r+v*i+b*d+x*m,g[3]=y*a+v*o+b*u+x*f,g[4]=w*e+S*n+k*l+j*h,g[5]=w*t+S*s+k*c+j*p,g[6]=w*r+S*i+k*d+j*m,g[7]=w*a+S*o+k*u+j*f,g[8]=_*e+N*n+E*l+C*h,g[9]=_*t+N*s+E*c+C*p,g[10]=_*r+N*i+E*d+C*m,g[11]=_*a+N*o+E*u+C*f,g[12]=P*e+A*n+T*l+I*h,g[13]=P*t+A*s+T*c+I*p,g[14]=P*r+A*i+T*d+I*m,g[15]=P*a+A*o+T*u+I*f,this._identityCalculated=!1,this}function g(e){var t=e.props;return this.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function y(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function b(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t];return e}function x(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function w(e,t,r){return{x:e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}}function S(e,t,r){return e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12]}function k(e,t,r){return e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13]}function j(e,t,r){return e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}function _(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,r=-this.props[1]/e,a=-this.props[4]/e,n=this.props[0]/e,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,i=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,o=new Matrix;return o.props[0]=t,o.props[1]=r,o.props[4]=a,o.props[5]=n,o.props[12]=s,o.props[13]=i,o}function N(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function E(e){var t,r=e.length,a=[];for(t=0;t<r;t+=1)a[t]=N(e[t]);return a}function C(e,t,r){var a=createTypedArray("float32",6);if(this.isIdentity())a[0]=e[0],a[1]=e[1],a[2]=t[0],a[3]=t[1],a[4]=r[0],a[5]=r[1];else{var n=this.props[0],s=this.props[1],i=this.props[4],o=this.props[5],l=this.props[12],c=this.props[13];a[0]=e[0]*n+e[1]*i+l,a[1]=e[0]*s+e[1]*o+c,a[2]=t[0]*n+t[1]*i+l,a[3]=t[0]*s+t[1]*o+c,a[4]=r[0]*n+r[1]*i+l,a[5]=r[0]*s+r[1]*o+c}return a}function P(e,t,r){return this.isIdentity()?[e,t,r]:[e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]]}function A(e,t){if(this.isIdentity())return e+","+t;var r=this.props;return Math.round(100*(e*r[0]+t*r[4]+r[12]))/100+","+Math.round(100*(e*r[1]+t*r[5]+r[13]))/100}function T(){for(var e=0,t=this.props,r="matrix3d(";e<16;)r+=a(1e4*t[e])/1e4,r+=15===e?")":",",e+=1;return r}function I(e){return e<1e-6&&e>0||e>-1e-6&&e<0?a(1e4*e)/1e4:e}function D(){var e=this.props;return"matrix("+I(e[0])+","+I(e[1])+","+I(e[4])+","+I(e[5])+","+I(e[12])+","+I(e[13])+")"}return function(){this.reset=n,this.rotate=s,this.rotateX=i,this.rotateY=o,this.rotateZ=l,this.skew=d,this.skewFromAxis=u,this.shear=c,this.scale=h,this.setTransform=p,this.translate=m,this.transform=f,this.multiply=g,this.applyToPoint=w,this.applyToX=S,this.applyToY=k,this.applyToZ=j,this.applyToPointArray=P,this.applyToTriplePoints=C,this.applyToPointStringified=A,this.toCSS=T,this.to2dCSS=D,this.clone=b,this.cloneFromProps=x,this.equals=v,this.inversePoints=E,this.inversePoint=N,this.getInverseMatrix=_,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(e)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(e){setLocationHref(e)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"===typeof e)switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!==typeof navigator}function installPlugin(e,t){"expressions"===e&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),r=0;r<t.length;r+=1){var a=t[r].split("=");if(decodeURIComponent(a[0])==e)return decodeURIComponent(a[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&__webpack_require__.amdO}catch(err){}var ShapeModifiers=function(){var e={},t={};return e.registerModifier=function(e,r){t[e]||(t[e]=r)},e.getModifier=function(e,r,a){return new t[e](r,a)},e}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,r,a,n){var s=[];t<=1?s.push({s:e,e:t}):e>=1?s.push({s:e-1,e:t-1}):(s.push({s:e,e:1}),s.push({s:0,e:t-1}));var i,o,l=[],c=s.length;for(i=0;i<c;i+=1){var d,u;(o=s[i]).e*n<a||o.s*n>a+r||(d=o.s*n<=a?0:(o.s*n-a)/r,u=o.e*n>=a+r?1:(o.e*n-a)/r,l.push([d,u]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,r=e.length;for(t=0;t<r;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,r,a,n;if(this._mdf||e){var s=this.o.v%360/360;if(s<0&&(s+=1),(t=this.s.v>1?1+s:this.s.v<0?0+s:this.s.v+s)>(r=this.e.v>1?1+s:this.e.v<0?0+s:this.e.v+s)){var i=t;t=r,r=i}t=1e-4*Math.round(1e4*t),r=1e-4*Math.round(1e4*r),this.sValue=t,this.eValue=r}else t=this.sValue,r=this.eValue;var o,l,c,d,u,h=this.shapes.length,p=0;if(r===t)for(n=0;n<h;n+=1)this.shapes[n].localShapeCollection.releaseShapes(),this.shapes[n].shape._mdf=!0,this.shapes[n].shape.paths=this.shapes[n].localShapeCollection,this._mdf&&(this.shapes[n].pathsData.length=0);else if(1===r&&0===t||0===r&&1===t){if(this._mdf)for(n=0;n<h;n+=1)this.shapes[n].pathsData.length=0,this.shapes[n].shape._mdf=!0}else{var m,f,g=[];for(n=0;n<h;n+=1)if((m=this.shapes[n]).shape._mdf||this._mdf||e||2===this.m){if(l=(a=m.shape.paths)._length,u=0,!m.shape._mdf&&m.pathsData.length)u=m.totalShapeLength;else{for(c=this.releasePathsData(m.pathsData),o=0;o<l;o+=1)d=bez.getSegmentsLength(a.shapes[o]),c.push(d),u+=d.totalLength;m.totalShapeLength=u,m.pathsData=c}p+=u,m.shape._mdf=!0}else m.shape.paths=m.localShapeCollection;var y,v=t,b=r,x=0;for(n=h-1;n>=0;n-=1)if((m=this.shapes[n]).shape._mdf){for((f=m.localShapeCollection).releaseShapes(),2===this.m&&h>1?(y=this.calculateShapeEdges(t,r,m.totalShapeLength,x,p),x+=m.totalShapeLength):y=[[v,b]],l=y.length,o=0;o<l;o+=1){v=y[o][0],b=y[o][1],g.length=0,b<=1?g.push({s:m.totalShapeLength*v,e:m.totalShapeLength*b}):v>=1?g.push({s:m.totalShapeLength*(v-1),e:m.totalShapeLength*(b-1)}):(g.push({s:m.totalShapeLength*v,e:m.totalShapeLength}),g.push({s:0,e:m.totalShapeLength*(b-1)}));var w=this.addShapes(m,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(m.shape.paths.shapes[m.shape.paths._length-1].c){var S=w.pop();this.addPaths(w,f),w=this.addShapes(m,g[1],S)}else this.addPaths(w,f),w=this.addShapes(m,g[1]);this.addPaths(w,f)}}m.shape.paths=f}}},TrimModifier.prototype.addPaths=function(e,t){var r,a=e.length;for(r=0;r<a;r+=1)t.addShape(e[r])},TrimModifier.prototype.addSegment=function(e,t,r,a,n,s,i){n.setXYAt(t[0],t[1],"o",s),n.setXYAt(r[0],r[1],"i",s+1),i&&n.setXYAt(e[0],e[1],"v",s),n.setXYAt(a[0],a[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,r,a){t.setXYAt(e[1],e[5],"o",r),t.setXYAt(e[2],e[6],"i",r+1),a&&t.setXYAt(e[0],e[4],"v",r),t.setXYAt(e[3],e[7],"v",r+1)},TrimModifier.prototype.addShapes=function(e,t,r){var a,n,s,i,o,l,c,d,u=e.pathsData,h=e.shape.paths.shapes,p=e.shape.paths._length,m=0,f=[],g=!0;for(r?(o=r._length,d=r._length):(r=shapePool.newElement(),o=0,d=0),f.push(r),a=0;a<p;a+=1){for(l=u[a].lengths,r.c=h[a].c,s=h[a].c?l.length:l.length+1,n=1;n<s;n+=1)if(m+(i=l[n-1]).addedLength<t.s)m+=i.addedLength,r.c=!1;else{if(m>t.e){r.c=!1;break}t.s<=m&&t.e>=m+i.addedLength?(this.addSegment(h[a].v[n-1],h[a].o[n-1],h[a].i[n],h[a].v[n],r,o,g),g=!1):(c=bez.getNewSegment(h[a].v[n-1],h[a].v[n],h[a].o[n-1],h[a].i[n],(t.s-m)/i.addedLength,(t.e-m)/i.addedLength,l[n-1]),this.addSegmentFromArray(c,r,o,g),g=!1,r.c=!1),m+=i.addedLength,o+=1}if(h[a].c&&l.length){if(i=l[n-1],m<=t.e){var y=l[n-1].addedLength;t.s<=m&&t.e>=m+y?(this.addSegment(h[a].v[n-1],h[a].o[n-1],h[a].i[0],h[a].v[0],r,o,g),g=!1):(c=bez.getNewSegment(h[a].v[n-1],h[a].v[0],h[a].o[n-1],h[a].i[0],(t.s-m)/y,(t.e-m)/y,l[n-1]),this.addSegmentFromArray(c,r,o,g),g=!1,r.c=!1)}else r.c=!1;m+=i.addedLength,o+=1}if(r._length&&(r.setXYAt(r.v[d][0],r.v[d][1],"i",d),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),m>t.e)break;a<p-1&&(r=shapePool.newElement(),g=!0,f.push(r),o=0)}return f},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var r=t/100,a=[0,0],n=e._length,s=0;for(s=0;s<n;s+=1)a[0]+=e.v[s][0],a[1]+=e.v[s][1];a[0]/=n,a[1]/=n;var i,o,l,c,d,u,h=shapePool.newElement();for(h.c=e.c,s=0;s<n;s+=1)i=e.v[s][0]+(a[0]-e.v[s][0])*r,o=e.v[s][1]+(a[1]-e.v[s][1])*r,l=e.o[s][0]+(a[0]-e.o[s][0])*-r,c=e.o[s][1]+(a[1]-e.o[s][1])*-r,d=e.i[s][0]+(a[0]-e.i[s][0])*-r,u=e.i[s][1]+(a[1]-e.i[s][1])*-r,h.setTripleAt(i,o,l,c,d,u,s);return h},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,r,a,n,s,i,o=this.shapes.length,l=this.amount.v;if(0!==l)for(r=0;r<o;r+=1){if(i=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||e)for(i.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,n=s.shape.paths._length,a=0;a<n;a+=1)i.addShape(this.processPath(t[a],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function t(e,t,r){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var a,n=t.or.k.length;for(a=0;a<n;a+=1)t.or.k[a].to=null,t.or.k[a].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var r;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var a,n;if(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(a=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),n=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(a=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),n=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(a=this.p.pv,n=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){a=[],n=[];var s=this.px,i=this.py;s._caching.lastFrame+s.offsetTime<=s.keyframes[0].t?(a[0]=s.getValueAtTime((s.keyframes[0].t+.01)/r,0),a[1]=i.getValueAtTime((i.keyframes[0].t+.01)/r,0),n[0]=s.getValueAtTime(s.keyframes[0].t/r,0),n[1]=i.getValueAtTime(i.keyframes[0].t/r,0)):s._caching.lastFrame+s.offsetTime>=s.keyframes[s.keyframes.length-1].t?(a[0]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/r,0),a[1]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/r,0),n[0]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/r,0),n[1]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/r,0)):(a=[s.pv,i.pv],n[0]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/r,s.offsetTime),n[1]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/r,i.offsetTime))}else a=n=e;this.v.rotate(-Math.atan2(a[1]-n[1],a[0]-n[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,r,a){return new t(e,r,a)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(e,t){return 1e5*Math.abs(e-t)<=Math.min(Math.abs(e),Math.abs(t))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,t,r){return e*(1-r)+t*r}function lerpPoint(e,t,r){return[lerp(e[0],t[0],r),lerp(e[1],t[1],r)]}function quadRoots(e,t,r){if(0===e)return[];var a=t*t-4*e*r;if(a<0)return[];var n=-t/(2*e);if(0===a)return[n];var s=Math.sqrt(a)/(2*e);return[n-s,n+s]}function polynomialCoefficients(e,t,r,a){return[3*t-e-3*r+a,3*e-6*t+3*r,-3*e+3*t,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,t,r,a,n){n&&pointEqual(e,t)&&(t=lerpPoint(e,a,1/3)),n&&pointEqual(r,a)&&(r=lerpPoint(e,a,2/3));var s=polynomialCoefficients(e[0],t[0],r[0],a[0]),i=polynomialCoefficients(e[1],t[1],r[1],a[1]);this.a=[s[0],i[0]],this.b=[s[1],i[1]],this.c=[s[2],i[2]],this.d=[s[3],i[3]],this.points=[e,t,r,a]}function extrema(e,t){var r=e.points[0][t],a=e.points[e.points.length-1][t];if(r>a){var n=a;a=r,r=n}for(var s=quadRoots(3*e.a[t],2*e.b[t],e.c[t]),i=0;i<s.length;i+=1)if(s[i]>0&&s[i]<1){var o=e.point(s[i])[t];o<r?r=o:o>a&&(a=o)}return{min:r,max:a}}function intersectData(e,t,r){var a=e.boundingBox();return{cx:a.cx,cy:a.cy,width:a.width,height:a.height,bez:e,t:(t+r)/2,t1:t,t2:r}}function splitData(e){var t=e.bez.split(.5);return[intersectData(t[0],e.t1,e.t),intersectData(t[1],e.t,e.t2)]}function boxIntersect(e,t){return 2*Math.abs(e.cx-t.cx)<e.width+t.width&&2*Math.abs(e.cy-t.cy)<e.height+t.height}function intersectsImpl(e,t,r,a,n,s){if(boxIntersect(e,t))if(r>=s||e.width<=a&&e.height<=a&&t.width<=a&&t.height<=a)n.push([e.t,t.t]);else{var i=splitData(e),o=splitData(t);intersectsImpl(i[0],o[0],r+1,a,n,s),intersectsImpl(i[0],o[1],r+1,a,n,s),intersectsImpl(i[1],o[0],r+1,a,n,s),intersectsImpl(i[1],o[1],r+1,a,n,s)}}function crossProduct(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function lineIntersection(e,t,r,a){var n=[e[0],e[1],1],s=[t[0],t[1],1],i=[r[0],r[1],1],o=[a[0],a[1],1],l=crossProduct(crossProduct(n,s),crossProduct(i,o));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(e,t,r){return[e[0]+Math.cos(t)*r,e[1]-Math.sin(t)*r]}function pointDistance(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function pointEqual(e,t){return floatEqual(e[0],t[0])&&floatEqual(e[1],t[1])}function ZigZagModifier(){}function setPoint(e,t,r,a,n,s,i){var o=r-Math.PI/2,l=r+Math.PI/2,c=t[0]+Math.cos(r)*a*n,d=t[1]-Math.sin(r)*a*n;e.setTripleAt(c,d,c+Math.cos(o)*s,d-Math.sin(o)*s,c+Math.cos(l)*i,d-Math.sin(l)*i,e.length())}function getPerpendicularVector(e,t){var r=[t[0]-e[0],t[1]-e[1]],a=.5*-Math.PI;return[Math.cos(a)*r[0]-Math.sin(a)*r[1],Math.sin(a)*r[0]+Math.cos(a)*r[1]]}function getProjectingAngle(e,t){var r=0===t?e.length()-1:t-1,a=(t+1)%e.length(),n=getPerpendicularVector(e.v[r],e.v[a]);return Math.atan2(0,1)-Math.atan2(n[1],n[0])}function zigZagCorner(e,t,r,a,n,s,i){var o=getProjectingAngle(t,r),l=t.v[r%t._length],c=t.v[0===r?t._length-1:r-1],d=t.v[(r+1)%t._length],u=2===s?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,h=2===s?Math.sqrt(Math.pow(l[0]-d[0],2)+Math.pow(l[1]-d[1],2)):0;setPoint(e,t.v[r%t._length],o,i,a,h/(2*(n+1)),u/(2*(n+1)),s)}function zigZagSegment(e,t,r,a,n,s){for(var i=0;i<a;i+=1){var o=(i+1)/(a+1),l=2===n?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,c=t.normalAngle(o);setPoint(e,t.point(o),c,s,r,l/(2*(a+1)),l/(2*(a+1)),n),s=-s}return s}function linearOffset(e,t,r){var a=Math.atan2(t[0]-e[0],t[1]-e[1]);return[polarOffset(e,a,r),polarOffset(t,a,r)]}function offsetSegment(e,t){var r,a,n,s,i,o,l;r=(l=linearOffset(e.points[0],e.points[1],t))[0],a=l[1],n=(l=linearOffset(e.points[1],e.points[2],t))[0],s=l[1],i=(l=linearOffset(e.points[2],e.points[3],t))[0],o=l[1];var c=lineIntersection(r,a,n,s);null===c&&(c=a);var d=lineIntersection(i,o,n,s);return null===d&&(d=i),new PolynomialBezier(r,c,d,o)}function joinLines(e,t,r,a,n){var s=t.points[3],i=r.points[0];if(3===a)return s;if(pointEqual(s,i))return s;if(2===a){var o=-t.tangentAngle(1),l=-r.tangentAngle(0)+Math.PI,c=lineIntersection(s,polarOffset(s,o+Math.PI/2,100),i,polarOffset(i,o+Math.PI/2,100)),d=c?pointDistance(c,s):pointDistance(s,i)/2,u=polarOffset(s,o,2*d*roundCorner);return e.setXYAt(u[0],u[1],"o",e.length()-1),u=polarOffset(i,l,2*d*roundCorner),e.setTripleAt(i[0],i[1],i[0],i[1],u[0],u[1],e.length()),i}var h=lineIntersection(pointEqual(s,t.points[2])?t.points[0]:t.points[2],s,i,pointEqual(i,r.points[1])?r.points[3]:r.points[1]);return h&&pointDistance(h,s)<n?(e.setTripleAt(h[0],h[1],h[0],h[1],h[0],h[1],e.length()),h):s}function getIntersection(e,t){var r=e.intersections(t);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(e,t){var r=e.slice(),a=t.slice(),n=getIntersection(e[e.length-1],t[0]);return n&&(r[e.length-1]=e[e.length-1].split(n[0])[0],a[0]=t[0].split(n[1])[1]),e.length>1&&t.length>1&&(n=getIntersection(e[0],t[t.length-1]))?[[e[0].split(n[0])[0]],[t[t.length-1].split(n[1])[1]]]:[r,a]}function pruneIntersections(e){for(var t,r=1;r<e.length;r+=1)t=pruneSegmentIntersection(e[r-1],e[r]),e[r-1]=t[0],e[r]=t[1];return e.length>1&&(t=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function offsetSegmentSplit(e,t){var r,a,n,s,i=e.inflectionPoints();if(0===i.length)return[offsetSegment(e,t)];if(1===i.length||floatEqual(i[1],1))return r=(n=e.split(i[0]))[0],a=n[1],[offsetSegment(r,t),offsetSegment(a,t)];r=(n=e.split(i[0]))[0];var o=(i[1]-i[0])/(1-i[0]);return s=(n=n[1].split(o))[0],a=n[1],[offsetSegment(r,t),offsetSegment(s,t),offsetSegment(a,t)]}function OffsetPathModifier(){}function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],r="normal",a="normal",n=t.length,s=0;s<n;s+=1)switch(t[s].toLowerCase()){case"italic":a="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:a,weight:e.fWeight||r}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,r,a,n,s){var i=s?-1:1,o=a.s.v[0]+(1-a.s.v[0])*(1-n),l=a.s.v[1]+(1-a.s.v[1])*(1-n);e.translate(a.p.v[0]*i*n,a.p.v[1]*i*n,a.p.v[2]),t.translate(-a.a.v[0],-a.a.v[1],a.a.v[2]),t.rotate(-a.r.v*i*n),t.translate(a.a.v[0],a.a.v[1],a.a.v[2]),r.translate(-a.a.v[0],-a.a.v[1],a.a.v[2]),r.scale(s?1/o:o,s?1/l:l),r.translate(a.a.v[0],a.a.v[1],a.a.v[2])},RepeaterModifier.prototype.init=function(e,t,r,a){for(this.elem=e,this.arr=t,this.pos=r,this.elemsData=a,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[r]);r>0;)r-=1,this._elements.unshift(t[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var r,a=e.length;for(r=0;r<a;r+=1)e[r]._render=t,"gr"===e[r].ty&&this.changeGroupRender(e[r].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,r,a,n,s,i=!1;if(this._mdf||e){var o,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),i=!0}for(s=0,a=0;a<=this._groups.length-1;a+=1){if(o=s<l,this._groups[a]._render=o,this.changeGroupRender(this._groups[a].it,o),!o){var d=this.elemsData[a].it,u=d[d.length-1];0!==u.transform.op.v?(u.transform.op._mdf=!0,u.transform.op.v=0):u.transform.op._mdf=!1}s+=1}this._currentCopies=l;var h=this.o.v,p=h%1,m=h>0?Math.floor(h):Math.ceil(h),f=this.pMatrix.props,g=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var v,b,x=0;if(h>0){for(;x<m;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),x+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),x+=p)}else if(h<0){for(;x>m;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),x-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),x-=p)}for(a=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,s=this._currentCopies;s;){if(b=(r=(t=this.elemsData[a].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(a/(this._currentCopies-1)),0!==x){for((0!==a&&1===n||a!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),v=0;v<b;v+=1)r[v]=this.matrix.props[v];this.matrix.reset()}else for(this.matrix.reset(),v=0;v<b;v+=1)r[v]=this.matrix.props[v];x+=1,s-=1,a+=n}}else for(s=this._currentCopies,a=0,n=1;s;)r=(t=this.elemsData[a].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,s-=1,a+=n;return i},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var r,a=shapePool.newElement();a.c=e.c;var n,s,i,o,l,c,d,u,h,p,m,f,g=e._length,y=0;for(r=0;r<g;r+=1)n=e.v[r],i=e.o[r],s=e.i[r],n[0]===i[0]&&n[1]===i[1]&&n[0]===s[0]&&n[1]===s[1]?0!==r&&r!==g-1||e.c?(o=0===r?e.v[g-1]:e.v[r-1],c=(l=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(l/2,t)/l:0,d=m=n[0]+(o[0]-n[0])*c,u=f=n[1]-(n[1]-o[1])*c,h=d-(d-n[0])*roundCorner,p=u-(u-n[1])*roundCorner,a.setTripleAt(d,u,h,p,m,f,y),y+=1,o=r===g-1?e.v[0]:e.v[r+1],c=(l=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(l/2,t)/l:0,d=h=n[0]+(o[0]-n[0])*c,u=p=n[1]+(o[1]-n[1])*c,m=d-(d-n[0])*roundCorner,f=u-(u-n[1])*roundCorner,a.setTripleAt(d,u,h,p,m,f,y),y+=1):(a.setTripleAt(n[0],n[1],i[0],i[1],s[0],s[1],y),y+=1):(a.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],y),y+=1);return a},RoundCornersModifier.prototype.processShapes=function(e){var t,r,a,n,s,i,o=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;r<o;r+=1){if(i=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||e)for(i.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,n=s.shape.paths._length,a=0;a<n;a+=1)i.addShape(this.processPath(t[a],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,r=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(r<0)return[];var a=Math.sqrt(r);return floatZero(a)?a>0&&a<1?[t]:[]:[t-a,t+a].filter(function(e){return e>0&&e<1})},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],e),r=lerpPoint(this.points[1],this.points[2],e),a=lerpPoint(this.points[2],this.points[3],e),n=lerpPoint(t,r,e),s=lerpPoint(r,a,e),i=lerpPoint(n,s,e);return[new PolynomialBezier(this.points[0],t,n,i,!0),new PolynomialBezier(i,s,a,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}},PolynomialBezier.prototype.intersections=function(e,t,r){void 0===t&&(t=2),void 0===r&&(r=7);var a=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,t,a,r),a},PolynomialBezier.shapeSegment=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[t],e.o[t],e.i[r],e.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[r],e.i[r],e.o[t],e.v[t],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,t.s,0,null,this),this.frequency=PropertyFactory.getProp(e,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,t.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(e,t,r,a){var n=e._length,s=shapePool.newElement();if(s.c=e.c,e.c||(n-=1),0===n)return s;var i=-1,o=PolynomialBezier.shapeSegment(e,0);zigZagCorner(s,e,0,t,r,a,i);for(var l=0;l<n;l+=1)i=zigZagSegment(s,o,t,r,a,-i),o=l!==n-1||e.c?PolynomialBezier.shapeSegment(e,(l+1)%n):null,zigZagCorner(s,e,l+1,t,r,a,i);return s},ZigZagModifier.prototype.processShapes=function(e){var t,r,a,n,s,i,o=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),d=this.pointsType.v;if(0!==l)for(r=0;r<o;r+=1){if(i=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||e)for(i.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,n=s.shape.paths._length,a=0;a<n;a+=1)i.addShape(this.processPath(t[a],l,c,d));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(e,t,r,a){var n=shapePool.newElement();n.c=e.c;var s,i,o,l=e.length();e.c||(l-=1);var c=[];for(s=0;s<l;s+=1)o=PolynomialBezier.shapeSegment(e,s),c.push(offsetSegmentSplit(o,t));if(!e.c)for(s=l-1;s>=0;s-=1)o=PolynomialBezier.shapeSegmentInverted(e,s),c.push(offsetSegmentSplit(o,t));c=pruneIntersections(c);var d=null,u=null;for(s=0;s<c.length;s+=1){var h=c[s];for(u&&(d=joinLines(n,u,h[0],r,a)),u=h[h.length-1],i=0;i<h.length;i+=1)o=h[i],d&&pointEqual(o.points[0],d)?n.setXYAt(o.points[1][0],o.points[1][1],"o",n.length()-1):n.setTripleAt(o.points[0][0],o.points[0][1],o.points[1][0],o.points[1][1],o.points[0][0],o.points[0][1],n.length()),n.setTripleAt(o.points[3][0],o.points[3][1],o.points[3][0],o.points[3][1],o.points[2][0],o.points[2][1],n.length()),d=o.points[3]}return c.length&&joinLines(n,u,c[0][0],r,a),n},OffsetPathModifier.prototype.processShapes=function(e){var t,r,a,n,s,i,o=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,d=this.lineJoin;if(0!==l)for(r=0;r<o;r+=1){if(i=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||e)for(i.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,n=s.shape.paths._length,a=0;a<n;a+=1)i.addShape(this.processPath(t[a],l,d,c));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var e={w:0,size:0,shapes:[],data:{shapes:[]}},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=127988,a=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function n(e,t){var r=createTag("span");r.setAttribute("aria-hidden",!0),r.style.fontFamily=t;var a=createTag("span");a.innerText="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(a),document.body.appendChild(r);var n=a.offsetWidth;return a.style.fontFamily=function(e){var t,r=e.split(","),a=r.length,n=[];for(t=0;t<a;t+=1)"sans-serif"!==r[t]&&"monospace"!==r[t]&&n.push(r[t]);return n.join(",")}(e)+", "+t,{node:a,w:n,parent:r}}function s(e,t){var r,a=document.body&&t?"svg":"canvas",n=getFontProperties(e);if("svg"===a){var s=createNS("text");s.style.fontSize="100px",s.setAttribute("font-family",e.fFamily),s.setAttribute("font-style",n.style),s.setAttribute("font-weight",n.weight),s.textContent="1",e.fClass?(s.style.fontFamily="inherit",s.setAttribute("class",e.fClass)):s.style.fontFamily=e.fFamily,t.appendChild(s),r=s}else{var i=new OffscreenCanvas(500,500).getContext("2d");i.font=n.style+" "+n.weight+" 100px "+e.fFamily,r=i}return{measureText:function(e){return"svg"===a?(r.textContent=e,r.getComputedTextLength()):r.measureText(e).width}}}function i(e){var t=0,r=e.charCodeAt(0);if(r>=55296&&r<=56319){var a=e.charCodeAt(1);a>=56320&&a<=57343&&(t=1024*(r-55296)+a-56320+65536)}return t}function o(e){var t=i(e);return t>=127462&&t<=127487}var l=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};l.isModifier=function(e,t){var r=e.toString(16)+t.toString(16);return-1!==a.indexOf(r)},l.isZeroWidthJoiner=function(e){return 8205===e},l.isFlagEmoji=function(e){return o(e.substr(0,2))&&o(e.substr(2,2))},l.isRegionalCode=o,l.isCombinedCharacter=function(e){return-1!==t.indexOf(e)},l.isRegionalFlag=function(e,t){var a=i(e.substr(t,2));if(a!==r)return!1;var n=0;for(t+=2;n<5;){if((a=i(e.substr(t,2)))<917601||a>917626)return!1;n+=1,t+=2}return 917631===i(e.substr(t,2))},l.isVariationSelector=function(e){return 65039===e},l.BLACK_FLAG_CODE_POINT=r;var c={addChars:function(e){if(e){var t;this.chars||(this.chars=[]);var r,a,n=e.length,s=this.chars.length;for(t=0;t<n;t+=1){for(r=0,a=!1;r<s;)this.chars[r].style===e[t].style&&this.chars[r].fFamily===e[t].fFamily&&this.chars[r].ch===e[t].ch&&(a=!0),r+=1;a||(this.chars.push(e[t]),s+=1)}}},addFonts:function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);if(!document.body)return this.isLoaded=!0,e.list.forEach(function(e){e.helper=s(e),e.cache={}}),void(this.fonts=e.list);var r,a=e.list,i=a.length,o=i;for(r=0;r<i;r+=1){var l,c,d=!0;if(a[r].loaded=!1,a[r].monoCase=n(a[r].fFamily,"monospace"),a[r].sansCase=n(a[r].fFamily,"sans-serif"),a[r].fPath){if("p"===a[r].fOrigin||3===a[r].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+a[r].fFamily+'"], style[f-origin="3"][f-family="'+a[r].fFamily+'"]')).length>0&&(d=!1),d){var u=createTag("style");u.setAttribute("f-forigin",a[r].fOrigin),u.setAttribute("f-origin",a[r].origin),u.setAttribute("f-family",a[r].fFamily),u.type="text/css",u.innerText="@font-face {font-family: "+a[r].fFamily+"; font-style: normal; src: url('"+a[r].fPath+"');}",t.appendChild(u)}}else if("g"===a[r].fOrigin||1===a[r].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(a[r].fPath)&&(d=!1);if(d){var h=createTag("link");h.setAttribute("f-forigin",a[r].fOrigin),h.setAttribute("f-origin",a[r].origin),h.type="text/css",h.rel="stylesheet",h.href=a[r].fPath,document.body.appendChild(h)}}else if("t"===a[r].fOrigin||2===a[r].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)a[r].fPath===l[c].src&&(d=!1);if(d){var p=createTag("link");p.setAttribute("f-forigin",a[r].fOrigin),p.setAttribute("f-origin",a[r].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",a[r].fPath),t.appendChild(p)}}}else a[r].loaded=!0,o-=1;a[r].helper=s(a[r],t),a[r].cache={},this.fonts.push(a[r])}0===o?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,r,a){for(var n=0,s=this.chars.length;n<s;){if(this.chars[n].ch===t&&this.chars[n].style===r&&this.chars[n].fFamily===a)return this.chars[n];n+=1}return("string"===typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,r,a)),e},getFontByName:function(e){for(var t=0,r=this.fonts.length;t<r;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},measureText:function(e,t,r){var a=this.getFontByName(t),n=e;if(!a.cache[n]){var s=a.helper;if(" "===e){var i=s.measureText("|"+e+"|"),o=s.measureText("||");a.cache[n]=(i-o)/100}else a.cache[n]=s.measureText(e)/100}return a.cache[n]*r},checkLoadedFonts:function(){var e,t,r,a=this.fonts.length,n=a;for(e=0;e<a;e+=1)this.fonts[e].loaded?n-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,r=this.fonts[e].monoCase.w,t.offsetWidth!==r?(n-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,r=this.fonts[e].sansCase.w,t.offsetWidth!==r&&(n-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return l.prototype=c,l}();function SlotManager(e){this.animationData=e}function slotFactory(e){return new SlotManager(e)}function RenderableElement(){}SlotManager.prototype.getProp=function(e){return this.animationData.slots&&this.animationData.slots[e.sid]?Object.assign(e,this.animationData.slots[e.sid].p):e},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var e={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(t){return e[t]||""}}();function SliderEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function AngleEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function ColorEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function PointEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function LayerIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function MaskIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function CheckboxEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var r,a=e.ef||[];this.effectElements=[];var n,s=a.length;for(r=0;r<s;r+=1)n=new GroupEffect(a[r],t),this.effectElements.push(n)}function GroupEffect(e,t){this.init(e,t)}function BaseElement(){}function FrameElement(){}function FootageElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,r)}function AudioElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,r),this._isPlaying=!1,this._canPlay=!1;var a=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(a),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){var r;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var a,n=this.data.ef.length,s=this.data.ef;for(r=0;r<n;r+=1){switch(a=null,s[r].ty){case 0:a=new SliderEffect(s[r],t,this);break;case 1:a=new AngleEffect(s[r],t,this);break;case 2:a=new ColorEffect(s[r],t,this);break;case 3:a=new PointEffect(s[r],t,this);break;case 4:case 7:a=new CheckboxEffect(s[r],t,this);break;case 10:a=new LayerIndexEffect(s[r],t,this);break;case 11:a=new MaskIndexEffect(s[r],t,this);break;case 5:a=new EffectsManager(s[r],t,this);break;default:a=new NoValueEffect(s[r],t,this)}a&&this.effectElements.push(a)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var t=e("layer"),r=e("effects"),a=e("shape"),n=e("text"),s=e("comp");this.layerInterface=t(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var i=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(i),0===this.data.ty||this.data.xt?this.compInterface=s(this):4===this.data.ty?(this.layerInterface.shapeInterface=a(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=n(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,r){this.globalData=t,this.comp=r,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var r,a=this.dynamicProperties.length;for(r=0;r<a;r+=1)(t||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var t=e("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(e){var t,r,a=this.layers.length;for(this.completeLayers=!0,t=a-1;t>=0;t-=1)this.elements[t]||(r=this.layers[t]).ip-r.st<=e-this.layers[t].st&&r.op-r.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:default:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var r,a=e.length,n=this.layers.length;for(t=0;t<a;t+=1)for(r=0;r<n;){if(this.layers[r].id===e[t].id){this.layers[r]=e[t];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,r){for(var a=this.elements,n=this.layers,s=0,i=n.length;s<i;)n[s].ind==t&&(a[s]&&!0!==a[s]?(r.push(a[s]),a[s].setAsParent(),void 0!==n[s].parent?this.buildElementParenting(e,n[s].parent,r):e.setHierarchy(r)):(this.buildItem(s),this.addPendingElement(e))),s+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length;for(t=0;t<r;t+=1)if(e[t].xt){var a=this.createComp(e[t]);a.initExpressions(),this.globalData.projectInterface.registerComposition(a)}},BaseRenderer.prototype.getElementById=function(e){var t,r=this.elements.length;for(t=0;t<r;t+=1)if(this.elements[t].data.ind===e)return this.elements[t];return null},BaseRenderer.prototype.getElementByPath=function(e){var t,r=e.shift();if("number"===typeof r)t=this.elements[r];else{var a,n=this.elements.length;for(a=0;a<n;a+=1)if(this.elements[a].data.nm===r){t=this.elements[a];break}}return 0===e.length?t:t.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(e),this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(e,t,r){this.data=e,this.element=t,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var a,n,s=this.globalData.defs,i=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(i),this.solidPath="";var o,l,c,d,u,h,p=this.masksProperties,m=0,f=[],g=createElementID(),y="clipPath",v="clip-path";for(a=0;a<i;a+=1)if(("a"!==p[a].mode&&"n"!==p[a].mode||p[a].inv||100!==p[a].o.k||p[a].o.x)&&(y="mask",v="mask"),"s"!==p[a].mode&&"i"!==p[a].mode||0!==m?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),f.push(c)),n=createNS("path"),"n"===p[a].mode)this.viewData[a]={op:PropertyFactory.getProp(this.element,p[a].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[a],3),elem:n,lastPath:""},s.appendChild(n);else{var b;if(m+=1,n.setAttribute("fill","s"===p[a].mode?"#000000":"#ffffff"),n.setAttribute("clip-rule","nonzero"),0!==p[a].x.k?(y="mask",v="mask",h=PropertyFactory.getProp(this.element,p[a].x,0,null,this.element),b=createElementID(),(d=createNS("filter")).setAttribute("id",b),(u=createNS("feMorphology")).setAttribute("operator","erode"),u.setAttribute("in","SourceGraphic"),u.setAttribute("radius","0"),d.appendChild(u),s.appendChild(d),n.setAttribute("stroke","s"===p[a].mode?"#000000":"#ffffff")):(u=null,h=null),this.storedData[a]={elem:n,x:h,expan:u,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"===p[a].mode){l=f.length;var x=createNS("g");for(o=0;o<l;o+=1)x.appendChild(f[o]);var w=createNS("mask");w.setAttribute("mask-type","alpha"),w.setAttribute("id",g+"_"+m),w.appendChild(n),s.appendChild(w),x.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+m+")"),f.length=0,f.push(x)}else f.push(n);p[a].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[a]={elem:n,lastPath:"",op:PropertyFactory.getProp(this.element,p[a].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[a],3),invRect:c},this.viewData[a].prop.k||this.drawPath(p[a],this.viewData[a].prop.v,this.viewData[a])}for(this.maskElement=createNS(y),i=f.length,a=0;a<i;a+=1)this.maskElement.appendChild(f[a]);m>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(v,"url("+getLocationHref()+"#"+g+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:e,localMat:e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,r=0,a=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<a;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),r=0;r<a;r+=1)t.multiply(this.hierarchy[r].finalTransform.mProp.v)}this.localTransforms&&!this.finalTransform._matMdf||(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var e=0,t=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;e<t;)this.localTransforms[e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),e+=1;if(this.finalTransform._localMatMdf){var r=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(r),e=1;e<t;e+=1){var a=this.localTransforms[e].matrix;r.multiply(a)}r.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var n=this.finalTransform.localOpacity;for(e=0;e<t;e+=1)n*=.01*this.localTransforms[e].opacity;this.finalTransform.localOpacity=n}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var t=0,r=e.length;for(t=0;t<r;t+=1)this.localTransforms.push(e[t])}}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var r,a=!0,n=this.comp;a;)n.finalTransform?(n.data.hasMask&&t.splice(0,0,n.finalTransform),n=n.comp):a=!1;var s,i=t.length;for(r=0;r<i;r+=1)s=t[r].mat.applyToPointArray(0,0,0),e=[e[0]-s[0],e[1]-s[1],0];return e},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,r=this.element.finalTransform.mat,a=this.masksProperties.length;for(t=0;t<a;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var n=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[t].filterId+")")),n.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,r){var a,n,s=" M"+t.v[0][0]+","+t.v[0][1];for(n=t._length,a=1;a<n;a+=1)s+=" C"+t.o[a-1][0]+","+t.o[a-1][1]+" "+t.i[a][0]+","+t.i[a][1]+" "+t.v[a][0]+","+t.v[a][1];if(t.c&&n>1&&(s+=" C"+t.o[a-1][0]+","+t.o[a-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),r.lastPath!==s){var i="";r.elem&&(t.c&&(i=e.inv?this.solidPath+s:s),r.elem.setAttribute("d",i)),r.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var e={createFilter:function(e,t){var r=createNS("filter");return r.setAttribute("id",e),!0!==t&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}};return e}(),featureSupport=function(){var e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!==typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(e.svgLumaHidden=!1),e}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(e){var t,r,a="SourceGraphic",n=e.data.ef?e.data.ef.length:0,s=createElementID(),i=filtersFactory.createFilter(s,!0),o=0;for(this.filters=[],t=0;t<n;t+=1){r=null;var l=e.data.ef[t].ty;registeredEffects$1[l]&&(r=new(0,registeredEffects$1[l].effect)(i,e.effectsManager.effectElements[t],e,idPrefix+o,a),a=idPrefix+o,registeredEffects$1[l].countsAsEffect&&(o+=1)),r&&this.filters.push(r)}o&&(e.globalData.defs.appendChild(i),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+s+")")),this.filters.length&&e.addRenderableComponent(this)}function registerEffect$1(e,t,r){registeredEffects$1[e]={effect:t,countsAsEffect:r}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.assetData&&this.assetData.sid&&(this.assetData=t.slotManager.getProp(this.assetData)),this.initElement(e,t,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},SVGEffects.prototype.getEffects=function(e){var t,r=this.filters.length,a=[];for(t=0;t<r;t+=1)this.filters[t].type===e&&a.push(this.filters[t]);return a},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var t=createNS("g");t.setAttribute("id",this.layerId),t.appendChild(this.layerElement),e=t,this.globalData.defs.appendChild(t)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var r=createNS("clipPath"),a=createNS("path");a.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var n=createElementID();if(r.setAttribute("id",n),r.appendChild(a),this.globalData.defs.appendChild(r),this.checkMasks()){var s=createNS("g");s.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),s.appendChild(this.layerElement),this.transformedElement=s,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var t,r,a,n,s=this.layerId+"_"+e;if(1===e||3===e){var i=createNS("mask");i.setAttribute("id",s),i.setAttribute("mask-type",3===e?"luminance":"alpha"),(a=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),i.appendChild(a),this.globalData.defs.appendChild(i),featureSupport.maskType||1!==e||(i.setAttribute("mask-type","luminance"),t=createElementID(),r=filtersFactory.createFilter(t),this.globalData.defs.appendChild(r),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(n=createNS("g")).appendChild(a),i.appendChild(n),n.setAttribute("filter","url("+getLocationHref()+"#"+t+")"))}else if(2===e){var o=createNS("mask");o.setAttribute("id",s),o.setAttribute("mask-type","alpha");var l=createNS("g");o.appendChild(l),t=createElementID(),r=filtersFactory.createFilter(t);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),r.appendChild(c);var d=createNS("feFuncA");d.setAttribute("type","table"),d.setAttribute("tableValues","1.0 0.0"),c.appendChild(d),this.globalData.defs.appendChild(r);var u=createNS("rect");u.setAttribute("width",this.comp.data.w),u.setAttribute("height",this.comp.data.h),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("fill","#ffffff"),u.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+t+")"),l.appendChild(u),(a=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(a),featureSupport.maskType||(o.setAttribute("mask-type","luminance"),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),l.appendChild(u),n.appendChild(this.layerElement),l.appendChild(n)),this.globalData.defs.appendChild(o)}this.matteMasks[e]=s}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(e){var t,r=this.shapeModifiers.length;for(t=0;t<r;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,r=0,a=t.length;r<a;){if(t[r].elem===e)return t[r].pos;r+=1}return 0},addProcessedElement:function(e,t){for(var r=this.processedElements,a=r.length;a;)if(r[a-=1].elem===e)return void(r[a].pos=t);r.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,r){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=r,this.lvl=t,this._isAnimated=!!r.k;for(var a=0,n=e.length;a<n;){if(e[a].mProps.dynamicProperties.length){this._isAnimated=!0;break}a+=1}}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(e,t,r,a){var n;this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(a);var s,i=t.length||0;for(n=0;n<i;n+=1)s=PropertyFactory.getProp(e,t[n].v,0,0,this),this.k=s.k||this.k,this.dataProps[n]={n:t[n].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r}function SVGNoStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=r}function GradientProperty(e,t,r){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var a=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",a),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=a,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,r)}function SVGGradientStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,r){this.transform={mProps:e,op:t,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<r;t+=1)"o"!==this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(e,t){for(var r=0,a=this.o.length/2;r<a;){if(Math.abs(e[4*r]-e[4*t+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,r,a,n=4*this.data.p;for(t=0;t<n;t+=1)r=t%4===0?100:255,a=Math.round(this.prop.v[t]*r),this.c[t]!==a&&(this.c[t]=a,this._cmdf=!e);if(this.o.length)for(n=this.prop.v.length,t=4*this.data.p;t<n;t+=1)r=t%2===0?100:1,a=t%2===0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==a&&(this.o[t-4*this.data.p]=a,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,r){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,t),this.setGradientOpacity(t,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var r=createElementID(),a=createNS(1===t.t?"linearGradient":"radialGradient");a.setAttribute("id",r),a.setAttribute("spreadMethod","pad"),a.setAttribute("gradientUnits","userSpaceOnUse");var n,s,i,o=[];for(i=4*t.g.p,s=0;s<i;s+=4)n=createNS("stop"),a.appendChild(n),o.push(n);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=a,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var r,a,n,s=createNS("mask"),i=createNS("path");s.appendChild(i);var o=createElementID(),l=createElementID();s.setAttribute("id",l);var c=createNS(1===e.t?"linearGradient":"radialGradient");c.setAttribute("id",o),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),n=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var d=this.stops;for(a=4*e.g.p;a<n;a+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(r),d.push(r);i.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+o+")"),"gs"===e.ty&&(i.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),i.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),1===e.lj&&i.setAttribute("stroke-miterlimit",e.ml)),this.of=c,this.ms=s,this.ost=d,this.maskId=l,t.msElem=i}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(e,t,r,a){if(0===t)return"";var n,s=e.o,i=e.i,o=e.v,l=" M"+a.applyToPointStringified(o[0][0],o[0][1]);for(n=1;n<t;n+=1)l+=" C"+a.applyToPointStringified(s[n-1][0],s[n-1][1])+" "+a.applyToPointStringified(i[n][0],i[n][1])+" "+a.applyToPointStringified(o[n][0],o[n][1]);return r&&t&&(l+=" C"+a.applyToPointStringified(s[n-1][0],s[n-1][1])+" "+a.applyToPointStringified(i[0][0],i[0][1])+" "+a.applyToPointStringified(o[0][0],o[0][1]),l+="z"),l},SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function r(e,t,r){(r||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(r||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function a(){}function n(r,a,n){var s,i,o,l,c,d,u,h,p,m,f=a.styles.length,g=a.lvl;for(d=0;d<f;d+=1){if(l=a.sh._mdf||n,a.styles[d].lvl<g){for(h=t.reset(),p=g-a.styles[d].lvl,m=a.transformers.length-1;!l&&p>0;)l=a.transformers[m].mProps._mdf||l,p-=1,m-=1;if(l)for(p=g-a.styles[d].lvl,m=a.transformers.length-1;p>0;)h.multiply(a.transformers[m].mProps.v),p-=1,m-=1}else h=e;if(i=(u=a.sh.paths)._length,l){for(o="",s=0;s<i;s+=1)(c=u.shapes[s])&&c._length&&(o+=buildShapeString(c,c._length,c.c,h));a.caches[d]=o}else o=a.caches[d];a.styles[d].d+=!0===r.hd?"":o,a.styles[d]._mdf=l||a.styles[d]._mdf}}function s(e,t,r){var a=t.style;(t.c._mdf||r)&&a.pElem.setAttribute("fill","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r)&&a.pElem.setAttribute("fill-opacity",t.o.v)}function i(e,t,r){o(e,t,r),l(0,t,r)}function o(e,t,r){var a,n,s,i,o,l=t.gf,c=t.g._hasOpacity,d=t.s.v,u=t.e.v;if(t.o._mdf||r){var h="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(h,t.o.v)}if(t.s._mdf||r){var p=1===e.t?"x1":"cx",m="x1"===p?"y1":"cy";l.setAttribute(p,d[0]),l.setAttribute(m,d[1]),c&&!t.g._collapsable&&(t.of.setAttribute(p,d[0]),t.of.setAttribute(m,d[1]))}if(t.g._cmdf||r){a=t.cst;var f=t.g.c;for(s=a.length,n=0;n<s;n+=1)(i=a[n]).setAttribute("offset",f[4*n]+"%"),i.setAttribute("stop-color","rgb("+f[4*n+1]+","+f[4*n+2]+","+f[4*n+3]+")")}if(c&&(t.g._omdf||r)){var g=t.g.o;for(s=(a=t.g._collapsable?t.cst:t.ost).length,n=0;n<s;n+=1)i=a[n],t.g._collapsable||i.setAttribute("offset",g[2*n]+"%"),i.setAttribute("stop-opacity",g[2*n+1])}if(1===e.t)(t.e._mdf||r)&&(l.setAttribute("x2",u[0]),l.setAttribute("y2",u[1]),c&&!t.g._collapsable&&(t.of.setAttribute("x2",u[0]),t.of.setAttribute("y2",u[1])));else if((t.s._mdf||t.e._mdf||r)&&(o=Math.sqrt(Math.pow(d[0]-u[0],2)+Math.pow(d[1]-u[1],2)),l.setAttribute("r",o),c&&!t.g._collapsable&&t.of.setAttribute("r",o)),t.s._mdf||t.e._mdf||t.h._mdf||t.a._mdf||r){o||(o=Math.sqrt(Math.pow(d[0]-u[0],2)+Math.pow(d[1]-u[1],2)));var y=Math.atan2(u[1]-d[1],u[0]-d[0]),v=t.h.v;v>=1?v=.99:v<=-1&&(v=-.99);var b=o*v,x=Math.cos(y+t.a.v)*b+d[0],w=Math.sin(y+t.a.v)*b+d[1];l.setAttribute("fx",x),l.setAttribute("fy",w),c&&!t.g._collapsable&&(t.of.setAttribute("fx",x),t.of.setAttribute("fy",w))}}function l(e,t,r){var a=t.style,n=t.d;n&&(n._mdf||r)&&n.dashStr&&(a.pElem.setAttribute("stroke-dasharray",n.dashStr),a.pElem.setAttribute("stroke-dashoffset",n.dashoffset[0])),t.c&&(t.c._mdf||r)&&a.pElem.setAttribute("stroke","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r)&&a.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||r)&&(a.pElem.setAttribute("stroke-width",t.w.v),a.msElem&&a.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty){case"fl":return s;case"gf":return o;case"gs":return i;case"st":return l;case"sh":case"el":case"rc":case"sr":return n;case"tr":return r;case"no":return a;default:return null}}}}();function SVGShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,r),this.prevViewData=[]}function LetterProps(e,t,r,a,n,s){this.o=e,this.sw=t,this.sc=r,this.fc=a,this.m=n,this.p=s,this._mdf={o:!0,sw:!!t,sc:!!r,fc:!!a,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,t.d&&t.d.sid&&(t.d=e.globalData.slotManager.getProp(t.d)),this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,r,a,n=this.shapes.length,s=this.stylesList.length,i=[],o=!1;for(r=0;r<s;r+=1){for(a=this.stylesList[r],o=!1,i.length=0,e=0;e<n;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(a)&&(i.push(t),o=t._isAnimated||o);i.length>1&&o&&this.setShapesAsAnimated(i)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var r,a=new SVGStyleData(e,t),n=a.pElem;return"st"===e.ty?r=new SVGStrokeStyleData(this,e,a):"fl"===e.ty?r=new SVGFillStyleData(this,e,a):"gf"===e.ty||"gs"===e.ty?(r=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,a),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),n.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))):"no"===e.ty&&(r=new SVGNoStyleData(this,e,a)),"st"!==e.ty&&"gs"!==e.ty||(n.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),n.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),n.setAttribute("fill-opacity","0"),1===e.lj&&n.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&n.setAttribute("fill-rule","evenodd"),e.ln&&n.setAttribute("id",e.ln),e.cl&&n.setAttribute("class",e.cl),e.bm&&(n.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(a),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var r=TransformPropertyFactory.getTransformProperty(this,e,this),a=new SVGTransformData(r,r.o,t);return this.addToAnimatedContents(e,a),a},SVGShapeElement.prototype.createShapeElement=function(e,t,r){var a=4;"rc"===e.ty?a=5:"el"===e.ty?a=6:"sr"===e.ty&&(a=7);var n=new SVGShapeData(t,r,ShapePropertyFactory.getShapeProp(this,e,a,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var r=0,a=this.animatedContents.length;r<a;){if(this.animatedContents[r].element===t)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,r=e.styles,a=this.stylesList.length;for(t=0;t<a;t+=1)-1!==r.indexOf(this.stylesList[t])||this.stylesList[t].closed||r.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,r,a,n,s,i){var o,l,c,d,u,h,p=[].concat(s),m=e.length-1,f=[],g=[];for(o=m;o>=0;o-=1){if((h=this.searchProcessedElement(e[o]))?t[o]=r[h-1]:e[o]._render=i,"fl"===e[o].ty||"st"===e[o].ty||"gf"===e[o].ty||"gs"===e[o].ty||"no"===e[o].ty)h?t[o].style.closed=e[o].hd:t[o]=this.createStyleElement(e[o],n),e[o]._render&&t[o].style.pElem.parentNode!==a&&a.appendChild(t[o].style.pElem),f.push(t[o].style);else if("gr"===e[o].ty){if(h)for(c=t[o].it.length,l=0;l<c;l+=1)t[o].prevViewData[l]=t[o].it[l];else t[o]=this.createGroupElement(e[o]);this.searchShapes(e[o].it,t[o].it,t[o].prevViewData,t[o].gr,n+1,p,i),e[o]._render&&t[o].gr.parentNode!==a&&a.appendChild(t[o].gr)}else"tr"===e[o].ty?(h||(t[o]=this.createTransformElement(e[o],a)),d=t[o].transform,p.push(d)):"sh"===e[o].ty||"rc"===e[o].ty||"el"===e[o].ty||"sr"===e[o].ty?(h||(t[o]=this.createShapeElement(e[o],p,n)),this.setElementStyles(t[o])):"tm"===e[o].ty||"rd"===e[o].ty||"ms"===e[o].ty||"pb"===e[o].ty||"zz"===e[o].ty||"op"===e[o].ty?(h?(u=t[o]).closed=!1:((u=ShapeModifiers.getModifier(e[o].ty)).init(this,e[o]),t[o]=u,this.shapeModifiers.push(u)),g.push(u)):"rp"===e[o].ty&&(h?(u=t[o]).closed=!0:(u=ShapeModifiers.getModifier(e[o].ty),t[o]=u,u.init(this,e,o,t),this.shapeModifiers.push(u),i=!1),g.push(u));this.addProcessedElement(e[o],o+1)}for(m=f.length,o=0;o<m;o+=1)f[o].closed=!0;for(m=g.length,o=0;o<m;o+=1)g[o].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,r=this.animatedContents.length;for(e=0;e<r;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(e,t,r,a,n,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var i=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,i=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,i=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,i=!0),this.fc!==a&&(this.fc=a,this._mdf.fc=!0,i=!0),this.m!==n&&(this.m=n,this._mdf.m=!0,i=!0),!s.length||this.p[0]===s[0]&&this.p[1]===s[1]&&this.p[4]===s[4]&&this.p[5]===s[5]&&this.p[12]===s[12]&&this.p[13]===s[13]||(this.p=s,this._mdf.p=!0,i=!0),i},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var a;this.lock=!0,this._mdf=!1;var n=this.effectsSequence.length,s=e||this.data.d.k[this.keysIndex].s;for(a=0;a<n;a+=1)s=r!==this.keysIndex?this.effectsSequence[a](s,s.t):this.effectsSequence[a](this.currentData,s.t);t!==s&&this.setCurrentData(s),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,r=0,a=e.length;r<=a-1&&!(r===a-1||e[r+1].t>t);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,r,a=[],n=0,s=e.length,i=!1,o=!1,l="";n<s;)i=o,o=!1,t=e.charCodeAt(n),l=e.charAt(n),FontManager.isCombinedCharacter(t)?i=!0:t>=55296&&t<=56319?FontManager.isRegionalFlag(e,n)?l=e.substr(n,14):(r=e.charCodeAt(n+1))>=56320&&r<=57343&&(FontManager.isModifier(t,r)?(l=e.substr(n,2),i=!0):l=FontManager.isFlagEmoji(e.substr(n,4))?e.substr(n,4):e.substr(n,2)):t>56319?(r=e.charCodeAt(n+1),FontManager.isVariationSelector(t)&&(i=!0)):FontManager.isZeroWidthJoiner(t)&&(i=!0,o=!0),i?(a[a.length-1]+=l,i=!1):a.push(l),n+=l.length;return a},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,r,a,n,s,i,o,l=this.elem.globalData.fontManager,c=this.data,d=[],u=0,h=c.m.g,p=0,m=0,f=0,g=[],y=0,v=0,b=l.getFontByName(e.f),x=0,w=getFontProperties(b);e.fWeight=w.weight,e.fStyle=w.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),r=e.finalText.length,e.finalLineHeight=e.lh;var S,k=e.tr/1e3*e.finalSize;if(e.sz)for(var j,_,N=!0,E=e.sz[0],C=e.sz[1];N;){j=0,y=0,r=(_=this.buildFinalText(e.t)).length,k=e.tr/1e3*e.finalSize;var P=-1;for(t=0;t<r;t+=1)S=_[t].charCodeAt(0),a=!1," "===_[t]?P=t:13!==S&&3!==S||(y=0,a=!0,j+=e.finalLineHeight||1.2*e.finalSize),l.chars?(o=l.getCharData(_[t],b.fStyle,b.fFamily),x=a?0:o.w*e.finalSize/100):x=l.measureText(_[t],e.f,e.finalSize),y+x>E&&" "!==_[t]?(-1===P?r+=1:t=P,j+=e.finalLineHeight||1.2*e.finalSize,_.splice(t,P===t?1:0,"\r"),P=-1,y=0):(y+=x,y+=k);j+=b.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&C<j?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=_,r=e.finalText.length,N=!1)}y=-k,x=0;var A,T=0;for(t=0;t<r;t+=1)if(a=!1,13===(S=(A=e.finalText[t]).charCodeAt(0))||3===S?(T=0,g.push(y),v=y>v?y:v,y=-2*k,n="",a=!0,f+=1):n=A,l.chars?(o=l.getCharData(A,b.fStyle,l.getFontByName(e.f).fFamily),x=a?0:o.w*e.finalSize/100):x=l.measureText(n,e.f,e.finalSize)," "===A?T+=x+k:(y+=x+k+T,T=0),d.push({l:x,an:x,add:p,n:a,anIndexes:[],val:n,line:f,animatorJustifyOffset:0}),2==h){if(p+=x,""===n||" "===n||t===r-1){for(""!==n&&" "!==n||(p-=x);m<=t;)d[m].an=p,d[m].ind=u,d[m].extra=x,m+=1;u+=1,p=0}}else if(3==h){if(p+=x,""===n||t===r-1){for(""===n&&(p-=x);m<=t;)d[m].an=p,d[m].ind=u,d[m].extra=x,m+=1;p=0,u+=1}}else d[u].ind=u,d[u].extra=0,u+=1;if(e.l=d,v=y>v?y:v,g.push(y),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=v,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=g;var I,D,M,F,R=c.a;i=R.length;var O=[];for(s=0;s<i;s+=1){for((I=R[s]).a.sc&&(e.strokeColorAnim=!0),I.a.sw&&(e.strokeWidthAnim=!0),(I.a.fc||I.a.fh||I.a.fs||I.a.fb)&&(e.fillColorAnim=!0),F=0,M=I.s.b,t=0;t<r;t+=1)(D=d[t]).anIndexes[s]=F,(1==M&&""!==D.val||2==M&&""!==D.val&&" "!==D.val||3==M&&(D.n||" "==D.val||t==r-1)||4==M&&(D.n||t==r-1))&&(1===I.s.rn&&O.push(F),F+=1);c.a[s].s.totalChars=F;var L,B=-1;if(1===I.s.rn)for(t=0;t<r;t+=1)B!=(D=d[t]).anIndexes[s]&&(B=D.anIndexes[s],L=O.splice(Math.floor(Math.random()*O.length),1)[0]),D.anIndexes[s]=L}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=b.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var r=this.copyData({},this.data.d.k[t].s);r=this.copyData(r,e),this.data.d.k[t].s=r,this.recalculate(t),this.setCurrentData(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,r=Math.floor;function a(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(e,t.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return a.prototype={getMult:function(a){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var n=0,s=0,i=1,o=1;this.ne.v>0?n=this.ne.v/100:s=-this.ne.v/100,this.xe.v>0?i=1-this.xe.v/100:o=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(n,s,i,o).get,c=0,d=this.finalS,u=this.finalE,h=this.data.sh;if(2===h)c=l(c=u===d?a>=u?1:0:e(0,t(.5/(u-d)+(a-d)/(u-d),1)));else if(3===h)c=l(c=u===d?a>=u?0:1:1-e(0,t(.5/(u-d)+(a-d)/(u-d),1)));else if(4===h)u===d?c=0:(c=e(0,t(.5/(u-d)+(a-d)/(u-d),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===h){if(u===d)c=0;else{var p=u-d,m=-p/2+(a=t(e(0,a+.5-d),u-d)),f=p/2;c=Math.sqrt(1-m*m/(f*f))}c=l(c)}else 6===h?(u===d?c=0:(a=t(e(0,a+.5-d),u-d),c=(1+Math.cos(Math.PI+2*Math.PI*a/(u-d)))/2),c=l(c)):(a>=r(d)&&(c=e(0,t(a-d<0?t(u,1)-(d-a):u-a,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var y=.5-.5*g;c<y?c=0:(c=(c-y)/g)>1&&(c=1)}return c*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/t,a=this.s.v/t+r,n=this.e.v/t+r;if(a>n){var s=a;a=n,n=s}this.finalS=a,this.finalE=n}},extendPrototype([DynamicPropertyContainer],a),{getTextSelectorProp:function(e,t,r){return new a(e,t,r)}}}();function TextAnimatorDataProperty(e,t,r){var a={propType:!1},n=PropertyFactory.getProp,s=t.a;this.a={r:s.r?n(e,s.r,0,degToRads,r):a,rx:s.rx?n(e,s.rx,0,degToRads,r):a,ry:s.ry?n(e,s.ry,0,degToRads,r):a,sk:s.sk?n(e,s.sk,0,degToRads,r):a,sa:s.sa?n(e,s.sa,0,degToRads,r):a,s:s.s?n(e,s.s,1,.01,r):a,a:s.a?n(e,s.a,1,0,r):a,o:s.o?n(e,s.o,0,.01,r):a,p:s.p?n(e,s.p,1,0,r):a,sw:s.sw?n(e,s.sw,0,0,r):a,sc:s.sc?n(e,s.sc,1,0,r):a,fc:s.fc?n(e,s.fc,1,0,r):a,fh:s.fh?n(e,s.fh,0,0,r):a,fs:s.fs?n(e,s.fs,0,.01,r):a,fb:s.fb?n(e,s.fb,0,.01,r):a,t:s.t?n(e,s.t,0,0,r):a},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,r),this.s.t=t.s.t}function TextAnimatorProperty(e,t,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,r=this._textData.a.length,a=PropertyFactory.getProp;for(e=0;e<r;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:a(this._elem,this._textData.p.a,0,0,this),f:a(this._elem,this._textData.p.f,0,0,this),l:a(this._elem,this._textData.p.l,0,0,this),r:a(this._elem,this._textData.p.r,0,0,this),p:a(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=a(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,a,n,s,i,o,l,c,d,u,h,p,m,f,g,y,v,b,x,w=this._moreOptions.alignment.v,S=this._animatorsData,k=this._textData,j=this.mHelper,_=this._renderType,N=this.renderedLetters.length,E=e.l;if(this._hasMaskedPath){if(x=this._pathData.m,!this._pathData.n||this._pathData._mdf){var C,P=x.v;for(this._pathData.r.v&&(P=P.reverse()),i={tLength:0,segments:[]},s=P._length-1,y=0,n=0;n<s;n+=1)C=bez.buildBezierData(P.v[n],P.v[n+1],[P.o[n][0]-P.v[n][0],P.o[n][1]-P.v[n][1]],[P.i[n+1][0]-P.v[n+1][0],P.i[n+1][1]-P.v[n+1][1]]),i.tLength+=C.segmentLength,i.segments.push(C),y+=C.segmentLength;n=s,x.v.c&&(C=bez.buildBezierData(P.v[n],P.v[0],[P.o[n][0]-P.v[n][0],P.o[n][1]-P.v[n][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),i.tLength+=C.segmentLength,i.segments.push(C),y+=C.segmentLength),this._pathData.pi=i}if(i=this._pathData.pi,o=this._pathData.f.v,h=0,u=1,c=0,d=!0,f=i.segments,o<0&&x.v.c)for(i.tLength<Math.abs(o)&&(o=-Math.abs(o)%i.tLength),u=(m=f[h=f.length-1].points).length-1;o<0;)o+=m[u].partialLength,(u-=1)<0&&(u=(m=f[h-=1].points).length-1);p=(m=f[h].points)[u-1],g=(l=m[u]).partialLength}s=E.length,r=0,a=0;var A,T,I,D,M,F=1.2*e.finalSize*.714,R=!0;I=S.length;var O,L,B,z,V,U,H,G,q,W,Y,$,K=-1,J=o,Q=h,X=u,Z=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var re=0,ae=0,ne=2===e.j?-.5:-1,se=0,ie=!0;for(n=0;n<s;n+=1)if(E[n].n){for(re&&(re+=ae);se<n;)E[se].animatorJustifyOffset=re,se+=1;re=0,ie=!0}else{for(T=0;T<I;T+=1)(A=S[T].a).t.propType&&(ie&&2===e.j&&(ae+=A.t.v*ne),(M=S[T].s.getMult(E[n].anIndexes[T],k.a[T].s.totalChars)).length?re+=A.t.v*M[0]*ne:re+=A.t.v*M*ne);ie=!1}for(re&&(re+=ae);se<n;)E[se].animatorJustifyOffset=re,se+=1}for(n=0;n<s;n+=1){if(j.reset(),z=1,E[n].n)r=0,a+=e.yOffset,a+=R?1:0,o=J,R=!1,this._hasMaskedPath&&(u=X,p=(m=f[h=Q].points)[u-1],g=(l=m[u]).partialLength,c=0),ee="",Y="",q="",$="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Z!==E[n].line){switch(e.j){case 1:o+=y-e.lineWidths[E[n].line];break;case 2:o+=(y-e.lineWidths[E[n].line])/2}Z=E[n].line}K!==E[n].ind&&(E[K]&&(o+=E[K].extra),o+=E[n].an/2,K=E[n].ind),o+=w[0]*E[n].an*.005;var oe=0;for(T=0;T<I;T+=1)(A=S[T].a).p.propType&&((M=S[T].s.getMult(E[n].anIndexes[T],k.a[T].s.totalChars)).length?oe+=A.p.v[0]*M[0]:oe+=A.p.v[0]*M),A.a.propType&&((M=S[T].s.getMult(E[n].anIndexes[T],k.a[T].s.totalChars)).length?oe+=A.a.v[0]*M[0]:oe+=A.a.v[0]*M);for(d=!0,this._pathData.a.v&&(o=.5*E[0].an+(y-this._pathData.f.v-.5*E[0].an-.5*E[E.length-1].an)*K/(s-1),o+=this._pathData.f.v);d;)c+g>=o+oe||!m?(v=(o+oe-c)/l.partialLength,L=p.point[0]+(l.point[0]-p.point[0])*v,B=p.point[1]+(l.point[1]-p.point[1])*v,j.translate(-w[0]*E[n].an*.005,-w[1]*F*.01),d=!1):m&&(c+=l.partialLength,(u+=1)>=m.length&&(u=0,f[h+=1]?m=f[h].points:x.v.c?(u=0,m=f[h=0].points):(c-=l.partialLength,m=null)),m&&(p=l,g=(l=m[u]).partialLength));O=E[n].an/2-E[n].add,j.translate(-O,0,0)}else O=E[n].an/2-E[n].add,j.translate(-O,0,0),j.translate(-w[0]*E[n].an*.005,-w[1]*F*.01,0);for(T=0;T<I;T+=1)(A=S[T].a).t.propType&&(M=S[T].s.getMult(E[n].anIndexes[T],k.a[T].s.totalChars),0===r&&0===e.j||(this._hasMaskedPath?M.length?o+=A.t.v*M[0]:o+=A.t.v*M:M.length?r+=A.t.v*M[0]:r+=A.t.v*M));for(e.strokeWidthAnim&&(U=e.sw||0),e.strokeColorAnim&&(V=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(H=[e.fc[0],e.fc[1],e.fc[2]]),T=0;T<I;T+=1)(A=S[T].a).a.propType&&((M=S[T].s.getMult(E[n].anIndexes[T],k.a[T].s.totalChars)).length?j.translate(-A.a.v[0]*M[0],-A.a.v[1]*M[1],A.a.v[2]*M[2]):j.translate(-A.a.v[0]*M,-A.a.v[1]*M,A.a.v[2]*M));for(T=0;T<I;T+=1)(A=S[T].a).s.propType&&((M=S[T].s.getMult(E[n].anIndexes[T],k.a[T].s.totalChars)).length?j.scale(1+(A.s.v[0]-1)*M[0],1+(A.s.v[1]-1)*M[1],1):j.scale(1+(A.s.v[0]-1)*M,1+(A.s.v[1]-1)*M,1));for(T=0;T<I;T+=1){if(A=S[T].a,M=S[T].s.getMult(E[n].anIndexes[T],k.a[T].s.totalChars),A.sk.propType&&(M.length?j.skewFromAxis(-A.sk.v*M[0],A.sa.v*M[1]):j.skewFromAxis(-A.sk.v*M,A.sa.v*M)),A.r.propType&&(M.length?j.rotateZ(-A.r.v*M[2]):j.rotateZ(-A.r.v*M)),A.ry.propType&&(M.length?j.rotateY(A.ry.v*M[1]):j.rotateY(A.ry.v*M)),A.rx.propType&&(M.length?j.rotateX(A.rx.v*M[0]):j.rotateX(A.rx.v*M)),A.o.propType&&(M.length?z+=(A.o.v*M[0]-z)*M[0]:z+=(A.o.v*M-z)*M),e.strokeWidthAnim&&A.sw.propType&&(M.length?U+=A.sw.v*M[0]:U+=A.sw.v*M),e.strokeColorAnim&&A.sc.propType)for(G=0;G<3;G+=1)M.length?V[G]+=(A.sc.v[G]-V[G])*M[0]:V[G]+=(A.sc.v[G]-V[G])*M;if(e.fillColorAnim&&e.fc){if(A.fc.propType)for(G=0;G<3;G+=1)M.length?H[G]+=(A.fc.v[G]-H[G])*M[0]:H[G]+=(A.fc.v[G]-H[G])*M;A.fh.propType&&(H=M.length?addHueToRGB(H,A.fh.v*M[0]):addHueToRGB(H,A.fh.v*M)),A.fs.propType&&(H=M.length?addSaturationToRGB(H,A.fs.v*M[0]):addSaturationToRGB(H,A.fs.v*M)),A.fb.propType&&(H=M.length?addBrightnessToRGB(H,A.fb.v*M[0]):addBrightnessToRGB(H,A.fb.v*M))}}for(T=0;T<I;T+=1)(A=S[T].a).p.propType&&(M=S[T].s.getMult(E[n].anIndexes[T],k.a[T].s.totalChars),this._hasMaskedPath?M.length?j.translate(0,A.p.v[1]*M[0],-A.p.v[2]*M[1]):j.translate(0,A.p.v[1]*M,-A.p.v[2]*M):M.length?j.translate(A.p.v[0]*M[0],A.p.v[1]*M[1],-A.p.v[2]*M[2]):j.translate(A.p.v[0]*M,A.p.v[1]*M,-A.p.v[2]*M));if(e.strokeWidthAnim&&(q=U<0?0:U),e.strokeColorAnim&&(W="rgb("+Math.round(255*V[0])+","+Math.round(255*V[1])+","+Math.round(255*V[2])+")"),e.fillColorAnim&&e.fc&&(Y="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),this._hasMaskedPath){if(j.translate(0,-e.ls),j.translate(0,w[1]*F*.01+a,0),this._pathData.p.v){b=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var le=180*Math.atan(b)/Math.PI;l.point[0]<p.point[0]&&(le+=180),j.rotate(-le*Math.PI/180)}j.translate(L,B,0),o-=w[0]*E[n].an*.005,E[n+1]&&K!==E[n+1].ind&&(o+=E[n].an/2,o+=.001*e.tr*e.finalSize)}else{switch(j.translate(r,a,0),e.ps&&j.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:j.translate(E[n].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[E[n].line]),0,0);break;case 2:j.translate(E[n].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[E[n].line])/2,0,0)}j.translate(0,-e.ls),j.translate(O,0,0),j.translate(w[0]*E[n].an*.005,w[1]*F*.01,0),r+=E[n].l+.001*e.tr*e.finalSize}"html"===_?ee=j.toCSS():"svg"===_?ee=j.to2dCSS():te=[j.props[0],j.props[1],j.props[2],j.props[3],j.props[4],j.props[5],j.props[6],j.props[7],j.props[8],j.props[9],j.props[10],j.props[11],j.props[12],j.props[13],j.props[14],j.props[15]],$=z}N<=n?(D=new LetterProps($,q,W,Y,ee,te),this.renderedLetters.push(D),N+=1,this.lettersChangedFlag=!0):(D=this.renderedLetters[n],this.lettersChangedFlag=D.update($,q,W,Y,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(e,t,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,r),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)},ITextElement.prototype.createPathShape=function(e,t){var r,a,n=t.length,s="";for(r=0;r<n;r+=1)"sh"===t[r].ty&&(a=t[r].ks.k,s+=buildShapeString(a,a.i.length,!0,e));return s},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,r,a,n){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r])/2,0,0)}t.translate(a,n,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,r){this.textSpans=[],this.renderType="svg",this.initElement(e,t,r)}function ISolidElement(e,t,r){this.initElement(e,t,r)}function NullElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initFrame(),this.initTransform(e,t,r),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(e,t,r){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(t&&t.title){var a=createNS("title"),n=createElementID();a.setAttribute("id",n),a.textContent=t.title,this.svgElement.appendChild(a),r+=n}if(t&&t.description){var s=createNS("desc"),i=createElementID();s.setAttribute("id",i),s.textContent=t.description,this.svgElement.appendChild(s),r+=" "+i}r&&this.svgElement.setAttribute("aria-labelledby",r);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&!1===t.hideOnTransparent),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,r=e.length,a=[],n="";t<r;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(a.push(n),n=""):n+=e[t],t+=1;return a.push(n),a},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var r=e.shapes[0];if(r.it){var a=r.it[r.it.length-1];a.s&&(a.s.k[0]=t,a.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){var e,t;this.addDynamicProperty(this);var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var a=this.globalData.fontManager.getFontByName(r.f);if(a.fClass)this.layerElement.setAttribute("class",a.fClass);else{this.layerElement.setAttribute("font-family",a.fFamily);var n=r.fWeight,s=r.fStyle;this.layerElement.setAttribute("font-style",s),this.layerElement.setAttribute("font-weight",n)}this.layerElement.setAttribute("aria-label",r.t);var i,o=r.l||[],l=!!this.globalData.fontManager.chars;t=o.length;var c=this.mHelper,d=this.data.singleShape,u=0,h=0,p=!0,m=.001*r.tr*r.finalSize;if(!d||l||r.sz){var f,g=this.textSpans.length;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!l||!d||0===e){if(i=g>e?this.textSpans[e].span:createNS(l?"g":"text"),g<=e){if(i.setAttribute("stroke-linecap","butt"),i.setAttribute("stroke-linejoin","round"),i.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=i,l){var y=createNS("g");i.appendChild(y),this.textSpans[e].childSpan=y}this.textSpans[e].span=i,this.layerElement.appendChild(i)}i.style.display="inherit"}if(c.reset(),d&&(o[e].n&&(u=-m,h+=r.yOffset,h+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(r,c,o[e].line,u,h),u+=o[e].l||0,u+=m),l){var v;if(1===(f=this.globalData.fontManager.getCharData(r.finalText[e],a.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily)).t)v=new SVGCompElement(f.data,this.globalData,this);else{var b=emptyShapeData;f.data&&f.data.shapes&&(b=this.buildShapeData(f.data,r.finalSize)),v=new SVGShapeElement(b,this.globalData,this)}if(this.textSpans[e].glyph){var x=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(x.layerElement),x.destroy()}this.textSpans[e].glyph=v,v._debug=!0,v.prepareFrame(0),v.renderFrame(),this.textSpans[e].childSpan.appendChild(v.layerElement),1===f.t&&this.textSpans[e].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else d&&i.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),i.textContent=o[e].val,i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}d&&i&&i.setAttribute("d","")}else{var w=this.textContainer,S="start";switch(r.j){case 1:S="end";break;case 2:S="middle";break;default:S="start"}w.setAttribute("text-anchor",S),w.setAttribute("letter-spacing",m);var k=this.buildTextContents(r.finalText);for(t=k.length,h=r.ps?r.ps[1]+r.ascent:0,e=0;e<t;e+=1)(i=this.textSpans[e].span||createNS("tspan")).textContent=k[e],i.setAttribute("x",0),i.setAttribute("y",h),i.style.display="inherit",w.appendChild(i),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=i,h+=r.finalLineHeight;this.layerElement.appendChild(w)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t,r=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<r;e+=1)(t=this.textSpans[e].glyph)&&(t.prepareFrame(this.comp.renderedFrame-this.data.st),t._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var r,a,n,s=this.textAnimator.renderedLetters,i=this.textProperty.currentData.l;for(t=i.length,e=0;e<t;e+=1)i[e].n||(r=s[e],a=this.textSpans[e].span,(n=this.textSpans[e].glyph)&&n.renderFrame(),r._mdf.m&&a.setAttribute("transform",r.m),r._mdf.o&&a.setAttribute("opacity",r.o),r._mdf.sw&&a.setAttribute("stroke-width",r.sw),r._mdf.sc&&a.setAttribute("stroke",r.sc),r._mdf.fc&&a.setAttribute("fill",r.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var r=createNS("clipPath"),a=createNS("rect");a.setAttribute("width",e.w),a.setAttribute("height",e.h),a.setAttribute("x",0),a.setAttribute("y",0);var n=createElementID();r.setAttribute("id",n),r.appendChild(a),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),t.appendChild(r),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var t=0,r=this.layers.length;for(t=0;t<r;t+=1)if(this.layers[t].ind===e)return t;return-1},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){t[e]=!0;var r=this.createItem(this.layers[e]);if(t[e]=r,getExpressionsPlugin()&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,e),this.layers[e].tt){var a="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(-1===a)return;if(this.elements[a]&&!0!==this.elements[a]){var n=t[a].getMatte(this.layers[e].tt);r.setMatte(n)}else this.buildItem(a),this.addPendingElement(r)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,r=this.elements.length;t<r;){if(this.elements[t]===e){var a="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,n=this.elements[a].getMatte(this.layers[t].tt);e.setMatte(n);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<r;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){for(var a,n=0;n<t;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(a=this.elements[n].getBaseElement()),n+=1;a?this.layerElement.insertBefore(r,a):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var r,a=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=a-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(e){var t,r=e.length,a="_";for(t=0;t<r;t+=1)a+=e[t].transform.key+"_";var n=this.sequences[a];return n||(n={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[a]=n,this.sequenceList.push(n)),n},processSequence:function(e,t){for(var r=0,a=e.transforms.length,n=t;r<a&&!t;){if(e.transforms[r].transform.mProps._mdf){n=!0;break}r+=1}if(n)for(e.finalTransform.reset(),r=a-1;r>=0;r-=1)e.finalTransform.multiply(e.transforms[r].transform.mProps.v);e._mdf=n},processSequences:function(e){var t,r=this.sequenceList.length;for(t=0;t<r;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",t=null,r=null,a=null;function n(){t||(a=function(){var t=createNS("svg"),r=createNS("filter"),a=createNS("feColorMatrix");return r.setAttribute("id",e),a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),r.appendChild(a),t.appendChild(r),t.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(t.style.display="none"),t}(),document.body.appendChild(a),t=createTag("canvas"),(r=t.getContext("2d")).filter="url(#"+e+")",r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1))}return{load:n,get:function(a){return t||n(),t.width=a.width,t.height=a.height,r.filter="url(#"+e+")",t}}};function createCanvas(e,t){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(e,t);var r=createTag("canvas");return r.width=e,r.height=t,r}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas:createCanvas},registeredEffects={};function CVEffects(e){var t,r,a=e.data.ef?e.data.ef.length:0;for(this.filters=[],t=0;t<a;t+=1){r=null;var n=e.data.ef[t].ty;registeredEffects[n]&&(r=new(0,registeredEffects[n].effect)(e.effectsManager.effectElements[t],e)),r&&this.filters.push(r)}this.filters.length&&e.addRenderableComponent(this)}function registerEffect(e,t){registeredEffects[e]={effect:t}}function CVMaskElement(e,t){var r;this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var a=this.masksProperties.length,n=!1;for(r=0;r<a;r+=1)"n"!==this.masksProperties[r].mode&&(n=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=n,n&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},CVEffects.prototype.getEffects=function(e){var t,r=this.filters.length,a=[];for(t=0;t<r;t+=1)this.filters[t].type===e&&a.push(this.filters[t]);return a},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,r,a,n=this.element.finalTransform.mat,s=this.element.canvasContext,i=this.masksProperties.length;for(s.beginPath(),e=0;e<i;e+=1)if("n"!==this.masksProperties[e].mode){var o;this.masksProperties[e].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),a=this.viewData[e].v,t=n.applyToPointArray(a.v[0][0],a.v[0][1],0),s.moveTo(t[0],t[1]);var l=a._length;for(o=1;o<l;o+=1)r=n.applyToTriplePoints(a.o[o-1],a.i[o],a.v[o]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=n.applyToTriplePoints(a.o[o-1],a.i[0],a.v[0]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(e,t,r,a){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var n,s=4;"rc"===t.ty?s=5:"el"===t.ty?s=6:"sr"===t.ty&&(s=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,s,e);var i,o=r.length;for(n=0;n<o;n+=1)r[n].closed||(i={transforms:a.addTransformSequence(r[n].transforms),trNodes:[]},this.styledShapes.push(i),r[n].elements.push(i))}function CVShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,r)}function CVTextElement(e,t,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,r)}function CVImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,r)}function CVSolidElement(e,t,r){this.initElement(e,t,r)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var e;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,e=0;e<15;e+=1){var t=new CanvasContext;this.stack[e]=t}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(e,t,r){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(e,t,r){this.initElement(e,t,r)}function HShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,r)}function HCameraElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initHierarchy();var a=PropertyFactory.getProp;if(this.pe=a(this,e.pe,0,0,this),e.ks.p.s?(this.px=a(this,e.ks.p.x,1,0,this),this.py=a(this,e.ks.p.y,1,0,this),this.pz=a(this,e.ks.p.z,1,0,this)):this.p=a(this,e.ks.p,1,0,this),e.ks.a&&(this.a=a(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var n,s=e.ks.or.k.length;for(n=0;n<s;n+=1)e.ks.or.k[n].to=null,e.ks.or.k[n].ti=null}this.or=a(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=a(this,e.ks.rx,0,degToRads,this),this.ry=a(this,e.ks.ry,0,degToRads,this),this.rz=a(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r)}function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(e,t,r){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,t=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(t);var r=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(r),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0].getContext("2d");this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],t=e.getContext("2d");if(this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var r=assetLoader.getLumaCanvas(this.canvasContext.canvas);r.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(r,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var t=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(t),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var r={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},a={};if("fl"===e.ty||"st"===e.ty?(a.c=PropertyFactory.getProp(this,e.c,1,255,this),a.c.k||(r.co="rgb("+bmFloor(a.c.v[0])+","+bmFloor(a.c.v[1])+","+bmFloor(a.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(a.s=PropertyFactory.getProp(this,e.s,1,null,this),a.e=PropertyFactory.getProp(this,e.e,1,null,this),a.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),a.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),a.g=new GradientProperty(this,e.g,this)),a.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"===e.ty||"gs"===e.ty){if(r.lc=lineCapEnum[e.lc||2],r.lj=lineJoinEnum[e.lj||2],1==e.lj&&(r.ml=e.ml),a.w=PropertyFactory.getProp(this,e.w,0,null,this),a.w.k||(r.wi=a.w.v),e.d){var n=new DashProperty(this,e.d,"canvas",this);a.d=n,a.d.k||(r.da=a.d.dashArray,r.do=a.d.dashoffset[0])}}else r.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(r),a.style=r,a},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,r,a,n){var s,i,o,l,c,d,u=e.length-1,h=[],p=[],m=[].concat(n);for(s=u;s>=0;s-=1){if((l=this.searchProcessedElement(e[s]))?t[s]=r[l-1]:e[s]._shouldRender=a,"fl"===e[s].ty||"st"===e[s].ty||"gf"===e[s].ty||"gs"===e[s].ty)l?t[s].style.closed=!1:t[s]=this.createStyleElement(e[s],m),h.push(t[s].style);else if("gr"===e[s].ty){if(l)for(o=t[s].it.length,i=0;i<o;i+=1)t[s].prevViewData[i]=t[s].it[i];else t[s]=this.createGroupElement(e[s]);this.searchShapes(e[s].it,t[s].it,t[s].prevViewData,a,m)}else"tr"===e[s].ty?(l||(d=this.createTransformElement(e[s]),t[s]=d),m.push(t[s]),this.addTransformToStyleList(t[s])):"sh"===e[s].ty||"rc"===e[s].ty||"el"===e[s].ty||"sr"===e[s].ty?l||(t[s]=this.createShapeElement(e[s])):"tm"===e[s].ty||"rd"===e[s].ty||"pb"===e[s].ty||"zz"===e[s].ty||"op"===e[s].ty?(l?(c=t[s]).closed=!1:((c=ShapeModifiers.getModifier(e[s].ty)).init(this,e[s]),t[s]=c,this.shapeModifiers.push(c)),p.push(c)):"rp"===e[s].ty&&(l?(c=t[s]).closed=!0:(c=ShapeModifiers.getModifier(e[s].ty),t[s]=c,c.init(this,e,s,t),this.shapeModifiers.push(c),a=!1),p.push(c));this.addProcessedElement(e[s],s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(h),u=p.length,s=0;s<u;s+=1)p[s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,r,a,n,s,i,o,l,c=this.stylesList.length,d=this.globalData.renderer,u=this.globalData.canvasContext;for(e=0;e<c;e+=1)if(("st"!==(o=(l=this.stylesList[e]).type)&&"gs"!==o||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(d.save(),s=l.elements,"st"===o||"gs"===o?(d.ctxStrokeStyle("st"===o?l.co:l.grd),d.ctxLineWidth(l.wi),d.ctxLineCap(l.lc),d.ctxLineJoin(l.lj),d.ctxMiterLimit(l.ml||0)):d.ctxFillStyle("fl"===o?l.co:l.grd),d.ctxOpacity(l.coOp),"st"!==o&&"gs"!==o&&u.beginPath(),d.ctxTransform(l.preTransforms.finalTransform.props),r=s.length,t=0;t<r;t+=1){for("st"!==o&&"gs"!==o||(u.beginPath(),l.da&&(u.setLineDash(l.da),u.lineDashOffset=l.do)),n=(i=s[t].trNodes).length,a=0;a<n;a+=1)"m"===i[a].t?u.moveTo(i[a].p[0],i[a].p[1]):"c"===i[a].t?u.bezierCurveTo(i[a].pts[0],i[a].pts[1],i[a].pts[2],i[a].pts[3],i[a].pts[4],i[a].pts[5]):u.closePath();"st"!==o&&"gs"!==o||(d.ctxStroke(),l.da&&u.setLineDash(this.dashResetter))}"st"!==o&&"gs"!==o&&this.globalData.renderer.ctxFill(l.r),d.restore()}},CVShapeElement.prototype.renderShape=function(e,t,r,a){var n,s;for(s=e,n=t.length-1;n>=0;n-=1)"tr"===t[n].ty?(s=r[n].transform,this.renderShapeTransform(e,s)):"sh"===t[n].ty||"el"===t[n].ty||"rc"===t[n].ty||"sr"===t[n].ty?this.renderPath(t[n],r[n]):"fl"===t[n].ty?this.renderFill(t[n],r[n],s):"st"===t[n].ty?this.renderStroke(t[n],r[n],s):"gf"===t[n].ty||"gs"===t[n].ty?this.renderGradientFill(t[n],r[n],s):"gr"===t[n].ty?this.renderShape(s,t[n].it,r[n].it):t[n].ty;a&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var r,a,n,s=e.trNodes,i=t.paths,o=i._length;s.length=0;var l=e.transforms.finalTransform;for(n=0;n<o;n+=1){var c=i.shapes[n];if(c&&c.v){for(a=c._length,r=1;r<a;r+=1)1===r&&s.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),s.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[r],c.v[r])});1===a&&s.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&a&&(s.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[0],c.v[0])}),s.push({t:"z"}))}}e.trNodes=s}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var r,a=t.styledShapes.length;for(r=0;r<a;r+=1)this.renderStyledShape(t.styledShapes[r],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,r){var a=t.style;(t.c._mdf||this._isFirstFrame)&&(a.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(a.coOp=t.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,r){var a,n=t.style;if(!n.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var s,i=this.globalData.canvasContext,o=t.s.v,l=t.e.v;if(1===e.t)a=i.createLinearGradient(o[0],o[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(o[0]-l[0],2)+Math.pow(o[1]-l[1],2)),d=Math.atan2(l[1]-o[1],l[0]-o[0]),u=t.h.v;u>=1?u=.99:u<=-1&&(u=-.99);var h=c*u,p=Math.cos(d+t.a.v)*h+o[0],m=Math.sin(d+t.a.v)*h+o[1];a=i.createRadialGradient(p,m,0,o[0],o[1],c)}var f=e.g.p,g=t.g.c,y=1;for(s=0;s<f;s+=1)t.g._hasOpacity&&t.g._collapsable&&(y=t.g.o[2*s+1]),a.addColorStop(g[4*s]/100,"rgba("+g[4*s+1]+","+g[4*s+2]+","+g[4*s+3]+","+y+")");n.grd=a}n.coOp=t.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(e,t,r){var a=t.style,n=t.d;n&&(n._mdf||this._isFirstFrame)&&(a.da=n.dashArray,a.do=n.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(a.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(a.coOp=t.o.v*r.opacity),(t.w._mdf||this._isFirstFrame)&&(a.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var r=!1;e.sc&&(r=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var a,n,s,i,o,l,c,d,u,h,p,m,f=this.globalData.fontManager.getFontByName(e.f),g=e.l,y=this.mHelper;this.stroke=r,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,n=e.finalText.length;var v=this.data.singleShape,b=.001*e.tr*e.finalSize,x=0,w=0,S=!0,k=0;for(a=0;a<n;a+=1){i=(s=this.globalData.fontManager.getCharData(e.finalText[a],f.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&s.data||{},y.reset(),v&&g[a].n&&(x=-b,w+=e.yOffset,w+=S?1:0,S=!1),u=(c=i.shapes?i.shapes[0].it:[]).length,y.scale(e.finalSize/100,e.finalSize/100),v&&this.applyTextPropertiesToMatrix(e,y,g[a].line,x,w),p=createSizedArray(u-1);var j=0;for(d=0;d<u;d+=1)if("sh"===c[d].ty){for(l=c[d].ks.k.i.length,h=c[d].ks.k,m=[],o=1;o<l;o+=1)1===o&&m.push(y.applyToX(h.v[0][0],h.v[0][1],0),y.applyToY(h.v[0][0],h.v[0][1],0)),m.push(y.applyToX(h.o[o-1][0],h.o[o-1][1],0),y.applyToY(h.o[o-1][0],h.o[o-1][1],0),y.applyToX(h.i[o][0],h.i[o][1],0),y.applyToY(h.i[o][0],h.i[o][1],0),y.applyToX(h.v[o][0],h.v[o][1],0),y.applyToY(h.v[o][0],h.v[o][1],0));m.push(y.applyToX(h.o[o-1][0],h.o[o-1][1],0),y.applyToY(h.o[o-1][0],h.o[o-1][1],0),y.applyToX(h.i[0][0],h.i[0][1],0),y.applyToY(h.i[0][0],h.i[0][1],0),y.applyToX(h.v[0][0],h.v[0][1],0),y.applyToY(h.v[0][0],h.v[0][1],0)),p[j]=m,j+=1}v&&(x+=g[a].l,x+=b),this.textSpans[k]?this.textSpans[k].elem=p:this.textSpans[k]={elem:p},k+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,r,a,n,s;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var i,o=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;t=l.length;var c,d,u=null,h=null,p=null,m=this.globalData.renderer;for(e=0;e<t;e+=1)if(!l[e].n){if((i=o[e])&&(m.save(),m.ctxTransform(i.p),m.ctxOpacity(i.o)),this.fill){for(i&&i.fc?u!==i.fc&&(m.ctxFillStyle(i.fc),u=i.fc):u!==this.values.fill&&(u=this.values.fill,m.ctxFillStyle(this.values.fill)),a=(c=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<a;r+=1)for(s=(d=c[r]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),n=2;n<s;n+=6)this.globalData.canvasContext.bezierCurveTo(d[n],d[n+1],d[n+2],d[n+3],d[n+4],d[n+5]);this.globalData.canvasContext.closePath(),m.ctxFill()}if(this.stroke){for(i&&i.sw?p!==i.sw&&(p=i.sw,m.ctxLineWidth(i.sw)):p!==this.values.sWidth&&(p=this.values.sWidth,m.ctxLineWidth(this.values.sWidth)),i&&i.sc?h!==i.sc&&(h=i.sc,m.ctxStrokeStyle(i.sc)):h!==this.values.stroke&&(h=this.values.stroke,m.ctxStrokeStyle(this.values.stroke)),a=(c=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<a;r+=1)for(s=(d=c[r]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),n=2;n<s;n+=6)this.globalData.canvasContext.bezierCurveTo(d[n],d[n+1],d[n+2],d[n+3],d[n+4],d[n+5]);this.globalData.canvasContext.closePath(),m.ctxStroke()}i&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,r,a=e.getContext("2d"),n=this.img.width,s=this.img.height,i=n/s,o=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;i>o&&"xMidYMid slice"===l||i<o&&"xMidYMid slice"!==l?t=(r=s)*o:r=(t=n)/o,a.drawImage(this.img,(n-t)/2,(s-r)/2,t,r,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){1===e[0]&&0===e[1]&&0===e[4]&&1===e[5]&&0===e[12]&&0===e[13]||this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){this.canvasContext.globalAlpha*=e<0?0:e},CanvasRendererBase.prototype.ctxFillStyle=function(e){this.canvasContext.fillStyle=e},CanvasRendererBase.prototype.ctxStrokeStyle=function(e){this.canvasContext.strokeStyle=e},CanvasRendererBase.prototype.ctxLineWidth=function(e){this.canvasContext.lineWidth=e},CanvasRendererBase.prototype.ctxLineCap=function(e){this.canvasContext.lineCap=e},CanvasRendererBase.prototype.ctxLineJoin=function(e){this.canvasContext.lineJoin=e},CanvasRendererBase.prototype.ctxMiterLimit=function(e){this.canvasContext.miterLimit=e},CanvasRendererBase.prototype.ctxFill=function(e){this.canvasContext.fill(e)},CanvasRendererBase.prototype.ctxFillRect=function(e,t,r,a){this.canvasContext.fillRect(e,t,r,a)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){this.renderConfig.clearCanvas?(e&&(this.globalData.blendMode="source-over"),this.contextData.restore(e)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var r="0px 0px 0px";t.transformOrigin=r,t.mozTransformOrigin=r,t.webkitTransformOrigin=r,t["-webkit-transform"]=r,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,t){var r,a,n,s;if(this.reset(),e?(r=e,a=t,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=a):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,a=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,a=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=a*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var i=this.renderConfig.preserveAspectRatio.split(" "),o=i[1]||"meet",l=i[0]||"xMidYMid",c=l.substr(0,4),d=l.substr(4);n=r/a,(s=this.transformCanvas.w/this.transformCanvas.h)>n&&"meet"===o||s<n&&"slice"===o?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=a/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=a/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(s<n&&"meet"===o||s>n&&"slice"===o)?(r-this.transformCanvas.w*(a/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(s<n&&"meet"===o||s>n&&"slice"===o)?(r-this.transformCanvas.w*(a/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===d&&(s>n&&"meet"===o||s<n&&"slice"===o)?(a-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===d&&(s>n&&"meet"===o||s<n&&"slice"===o)?(a-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=a/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){var r;this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var a=this.layers.length;for(this.completeLayers||this.checkLayers(e),r=a-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(e-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=a-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){var r=this.createItem(this.layers[e],this,this.globalData);t[e]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=0;for(t=this._length;t<e;t+=1)this.stack[t]=new CanvasContext;this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(e){this.cArrPos-=1;var t,r=this.stack[this.cArrPos],a=r.transform,n=this.cTr.props;for(t=0;t<16;t+=1)n[t]=a[t];if(e){this.nativeContext.restore();var s=this.stack[this.cArrPos+1];this.appliedFillStyle=s.fillStyle,this.appliedStrokeStyle=s.strokeStyle,this.appliedLineWidth=s.lineWidth,this.appliedLineCap=s.lineCap,this.appliedLineJoin=s.lineJoin,this.appliedMiterLimit=s.miterLimit}this.nativeContext.setTransform(a[0],a[1],a[4],a[5],a[12],a[13]),(e||-1!==r.opacity&&this.currentOpacity!==r.opacity)&&(this.nativeContext.globalAlpha=r.opacity,this.currentOpacity=r.opacity),this.currentFillStyle=r.fillStyle,this.currentStrokeStyle=r.strokeStyle,this.currentLineWidth=r.lineWidth,this.currentLineCap=r.lineCap,this.currentLineJoin=r.lineJoin,this.currentMiterLimit=r.miterLimit},CVContextData.prototype.save=function(e){e&&this.nativeContext.save();var t=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var r,a=this.stack[this.cArrPos];for(r=0;r<16;r+=1)a.transform[r]=t[r];this.cArrPos+=1;var n=this.stack[this.cArrPos];n.opacity=a.opacity,n.fillStyle=a.fillStyle,n.strokeStyle=a.strokeStyle,n.lineWidth=a.lineWidth,n.lineCap=a.lineCap,n.lineJoin=a.lineJoin,n.miterLimit=a.miterLimit},CVContextData.prototype.setOpacity=function(e){this.stack[this.cArrPos].opacity=e},CVContextData.prototype.setContext=function(e){this.nativeContext=e},CVContextData.prototype.fillStyle=function(e){this.stack[this.cArrPos].fillStyle!==e&&(this.currentFillStyle=e,this.stack[this.cArrPos].fillStyle=e)},CVContextData.prototype.strokeStyle=function(e){this.stack[this.cArrPos].strokeStyle!==e&&(this.currentStrokeStyle=e,this.stack[this.cArrPos].strokeStyle=e)},CVContextData.prototype.lineWidth=function(e){this.stack[this.cArrPos].lineWidth!==e&&(this.currentLineWidth=e,this.stack[this.cArrPos].lineWidth=e)},CVContextData.prototype.lineCap=function(e){this.stack[this.cArrPos].lineCap!==e&&(this.currentLineCap=e,this.stack[this.cArrPos].lineCap=e)},CVContextData.prototype.lineJoin=function(e){this.stack[this.cArrPos].lineJoin!==e&&(this.currentLineJoin=e,this.stack[this.cArrPos].lineJoin=e)},CVContextData.prototype.miterLimit=function(e){this.stack[this.cArrPos].miterLimit!==e&&(this.currentMiterLimit=e,this.stack[this.cArrPos].miterLimit=e)},CVContextData.prototype.transform=function(e){this.transformMat.cloneFromProps(e);var t=this.cTr;this.transformMat.multiply(t),t.cloneFromProps(this.transformMat.props);var r=t.props;this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])},CVContextData.prototype.opacity=function(e){var t=this.stack[this.cArrPos].opacity;t*=e<0?0:e,this.stack[this.cArrPos].opacity!==t&&(this.currentOpacity!==e&&(this.nativeContext.globalAlpha=e,this.currentOpacity=e),this.stack[this.cArrPos].opacity=t)},CVContextData.prototype.fill=function(e){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(e)},CVContextData.prototype.fillRect=function(e,t,r,a){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(e,t,r,a)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var r,a=e.length;for(r=0;r<a;r+=1)t=e[r].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var r,a,n,s,i,o=e.sh.v,l=e.transformers,c=o._length;if(!(c<=1)){for(r=0;r<c-1;r+=1)a=this.getTransformedPoint(l,o.v[r]),n=this.getTransformedPoint(l,o.o[r]),s=this.getTransformedPoint(l,o.i[r+1]),i=this.getTransformedPoint(l,o.v[r+1]),this.checkBounds(a,n,s,i,t);o.c&&(a=this.getTransformedPoint(l,o.v[r]),n=this.getTransformedPoint(l,o.o[r]),s=this.getTransformedPoint(l,o.i[0]),i=this.getTransformedPoint(l,o.v[0]),this.checkBounds(a,n,s,i,t))}},HShapeElement.prototype.checkBounds=function(e,t,r,a,n){this.getBoundsOfCurve(e,t,r,a);var s=this.shapeBoundingBox;n.x=bmMin(s.left,n.x),n.xMax=bmMax(s.right,n.xMax),n.y=bmMin(s.top,n.y),n.yMax=bmMax(s.bottom,n.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,r,a){for(var n,s,i,o,l,c,d,u=[[e[0],a[0]],[e[1],a[1]]],h=0;h<2;++h)s=6*e[h]-12*t[h]+6*r[h],n=-3*e[h]+9*t[h]-9*r[h]+3*a[h],i=3*t[h]-3*e[h],s|=0,i|=0,0===(n|=0)&&0===s||(0===n?(o=-i/s)>0&&o<1&&u[h].push(this.calculateF(o,e,t,r,a,h)):(l=s*s-4*i*n)>=0&&((c=(-s+bmSqrt(l))/(2*n))>0&&c<1&&u[h].push(this.calculateF(c,e,t,r,a,h)),(d=(-s-bmSqrt(l))/(2*n))>0&&d<1&&u[h].push(this.calculateF(d,e,t,r,a,h))));this.shapeBoundingBox.left=bmMin.apply(null,u[0]),this.shapeBoundingBox.top=bmMin.apply(null,u[1]),this.shapeBoundingBox.right=bmMax.apply(null,u[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,u[1])},HShapeElement.prototype.calculateF=function(e,t,r,a,n,s){return bmPow(1-e,3)*t[s]+3*bmPow(1-e,2)*e*r[s]+3*(1-e)*bmPow(e,2)*a[s]+bmPow(e,3)*n[s]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var r,a=e.length;for(r=0;r<a;r+=1)e[r]&&e[r].sh?this.calculateShapeBoundingBox(e[r],t):e[r]&&e[r].it?this.calculateBoundingBox(e[r].it,t):e[r]&&e[r].style&&e[r].w&&this.expandStrokeBoundingBox(e[r].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var r=0;if(e.keyframes){for(var a=0;a<e.keyframes.length;a+=1){var n=e.keyframes[a].s;n>r&&(r=n)}r*=e.mult}else r=e.v*e.mult;t.x-=r,t.xMax+=r,t.y-=r,t.yMax+=r},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var r=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),r=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),r=!0),r||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var a=this.shapeCont.style,n="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";a.transform=n,a.webkitTransform=n}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,r=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=r,t.color=r,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var a,n,s=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{t.fontFamily=s.fFamily;var i=e.fWeight,o=e.fStyle;t.fontStyle=o,t.fontWeight=i}var l,c,d,u=e.l;n=u.length;var h,p=this.mHelper,m="",f=0;for(a=0;a<n;a+=1){if(this.globalData.fontManager.chars?(this.textPaths[f]?l=this.textPaths[f]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[f]?d=(c=this.textSpans[f]).children[0]:((c=createTag("div")).style.lineHeight=0,(d=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[f]?this.textPaths[f]:createNS("text"):this.textSpans[f]?(c=this.textSpans[f],l=this.textPaths[f]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,y=this.globalData.fontManager.getCharData(e.finalText[a],s.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(g=y?y.data:null,p.reset(),g&&g.shapes&&g.shapes.length&&(h=g.shapes[0].it,p.scale(e.finalSize/100,e.finalSize/100),m=this.createPathShape(p,h),l.setAttribute("d",m)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(d);var v=d.getBBox();d.setAttribute("width",v.width+2),d.setAttribute("height",v.height+2),d.setAttribute("viewBox",v.x-1+" "+(v.y-1)+" "+(v.width+2)+" "+(v.height+2));var b=d.style,x="translate("+(v.x-1)+"px,"+(v.y-1)+"px)";b.transform=x,b.webkitTransform=x,u[a].yOffset=v.y-1}else d.setAttribute("width",1),d.setAttribute("height",1);c.appendChild(d)}}else if(l.textContent=u[a].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var w=l.style,S="translate3d(0,"+-e.finalSize/1.2+"px,0)";w.transform=S,w.webkitTransform=S}this.isMasked?this.textSpans[f]=l:this.textSpans[f]=c,this.textSpans[f].style.display="block",this.textPaths[f]=l,f+=1}for(;f<this.textSpans.length;)this.textSpans[f].style.display="none",f+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,a,n,s,i,o=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(a=c.length,r=0;r<a;r+=1)c[r].n?o+=1:(s=this.textSpans[r],i=this.textPaths[r],n=l[o],o+=1,n._mdf.m&&(this.isMasked?s.setAttribute("transform",n.m):(s.style.webkitTransform=n.m,s.style.transform=n.m)),s.style.opacity=n.o,n.sw&&n._mdf.sw&&i.setAttribute("stroke-width",n.sw),n.sc&&n._mdf.sc&&i.setAttribute("stroke",n.sc),n.fc&&n._mdf.fc&&(i.setAttribute("fill",n.fc),i.style.color=n.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var d=this.innerElem.getBBox();if(this.currentBBox.w!==d.width&&(this.currentBBox.w=d.width,this.svgElement.setAttribute("width",d.width)),this.currentBBox.h!==d.height&&(this.currentBBox.h=d.height,this.svgElement.setAttribute("height",d.height)),this.currentBBox.w!==d.width+2||this.currentBBox.h!==d.height+2||this.currentBBox.x!==d.x-1||this.currentBBox.y!==d.y-1){this.currentBBox.w=d.width+2,this.currentBBox.h=d.height+2,this.currentBBox.x=d.x-1,this.currentBBox.y=d.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var u="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=u,e.webkitTransform=u}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,r,a,n=this.comp.threeDElements.length;for(e=0;e<n;e+=1)if("3d"===(t=this.comp.threeDElements[e]).type){r=t.perspectiveElem.style,a=t.container.style;var s=this.pe.v+"px",i="0px 0px 0px",o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=s,r.webkitPerspective=s,a.transformOrigin=i,a.mozTransformOrigin=i,a.webkitTransformOrigin=i,r.transform=o,r.webkitTransform=o}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,r=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)r=this.hierarchy[e].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var a=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-a.p.v[0],-a.p.v[1],a.p.v[2]),this.mat.rotateX(-a.or.v[0]).rotateY(-a.or.v[1]).rotateZ(a.or.v[2]),this.mat.rotateX(-a.rx.v).rotateY(-a.ry.v).rotateZ(a.rz.v),this.mat.scale(1/a.s.v[0],1/a.s.v[1],1/a.s.v[2]),this.mat.translate(a.a.v[0],a.a.v[1],a.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var n;n=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var s=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)),i=[n[0]/s,n[1]/s,n[2]/s],o=Math.sqrt(i[2]*i[2]+i[0]*i[0]),l=Math.atan2(i[1],o),c=Math.atan2(i[0],-i[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var d=!this._prevMat.equals(this.mat);if((d||this.pe._mdf)&&this.comp.threeDElements){var u,h,p;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if("3d"===(u=this.comp.threeDElements[e]).type){if(d){var m=this.mat.toCSS();(p=u.container.style).transform=m,p.webkitTransform=m}this.pe._mdf&&((h=u.perspectiveElem.style).perspective=this.pe.v+"px",h.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){var a=this.layers[t];if(a.ddd&&this.supports3d)this.addTo3dContainer(r,t);else if(this.threeDElements)this.addTo3dContainer(r,t);else{for(var n,s,i=0;i<t;)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement&&(s=this.elements[i],n=(this.layers[i].ddd?this.getThreeDContainerByPos(i):s.getBaseElement())||n),i+=1;n?a.ddd&&this.supports3d||this.layerElement.insertBefore(r,n):a.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,r=this.threeDElements.length;t<r;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var r,a,n=createTag("div");styleDiv(n);var s=createTag("div");if(styleDiv(s),"3d"===t){(r=n.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var i="50% 50%";r.webkitTransformOrigin=i,r.mozTransformOrigin=i,r.transformOrigin=i;var o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(a=s.style).transform=o,a.webkitTransform=o}n.appendChild(s);var l={container:s,perspectiveElem:n,startPos:e,endPos:e,type:t};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var e,t,r=this.layers.length,a="";for(e=0;e<r;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?("3d"!==a&&(a="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):("2d"!==a&&(a="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(r=this.threeDElements.length)-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var r=0,a=this.threeDElements.length;r<a;){if(t<=this.threeDElements[r].endPos){for(var n,s=this.threeDElements[r].startPos;s<t;)this.elements[s]&&this.elements[s].getBaseElement&&(n=this.elements[s].getBaseElement()),s+=1;n?this.threeDElements[r].container.insertBefore(e,n):this.threeDElements[r].container.appendChild(e);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),r=this.animationItem.wrapper,a=t.style;a.width=e.w+"px",a.height=e.h+"px",this.resizerElem=t,styleDiv(t),a.transformStyle="flat",a.mozTransformStyle="flat",a.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),r.appendChild(t),a.overflow="hidden";var n=createNS("svg");n.setAttribute("width","1"),n.setAttribute("height","1"),styleDiv(n),this.resizerElem.appendChild(n);var s=createNS("defs");n.appendChild(s),this.data=e,this.setupGlobalData(e,n),this.globalData.defs=s,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e,t,r,a,n=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,i=n/s;this.globalData.compSize.w/this.globalData.compSize.h>i?(e=n/this.globalData.compSize.w,t=n/this.globalData.compSize.w,r=0,a=(s-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(e=s/this.globalData.compSize.h,t=s/this.globalData.compSize.h,r=(n-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,a=0);var o=this.resizerElem.style;o.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+r+","+a+",0,1)",o.transform=o.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,r=this.globalData.compSize.h,a=this.threeDElements.length;for(e=0;e<a;e+=1){var n=this.threeDElements[e].perspectiveElem.style;n.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(r,2))+"px",n.perspective=n.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,r=e.length,a=createTag("div");for(t=0;t<r;t+=1)if(e[t].xt){var n=this.createComp(e[t],a,this.globalData.comp,null);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var r,a=0;a<t;)this.elements[a]&&this.elements[a].getBaseElement&&(r=this.elements[a].getBaseElement()),a+=1;r?this.layerElement.insertBefore(e,r):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(e){function t(t){for(var r=0,a=e.layers.length;r<a;){if(e.layers[r].nm===t||e.layers[r].ind===t)return e.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t};function _typeof$2(e){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(e)}function seedRandom(e,t){var r=this,a=256,n="random",s=t.pow(a,6),i=t.pow(2,52),o=2*i,l=255;function c(e){var t,r=e.length,n=this,s=0,i=n.i=n.j=0,o=n.S=[];for(r||(e=[r++]);s<a;)o[s]=s++;for(s=0;s<a;s++)o[s]=o[i=l&i+e[s%r]+(t=o[s])],o[i]=t;n.g=function(e){for(var t,r=0,s=n.i,i=n.j,o=n.S;e--;)t=o[s=l&s+1],r=r*a+o[l&(o[s]=o[i=l&i+t])+(o[i]=t)];return n.i=s,n.j=i,r}}function d(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function u(e,t){var r,a=[],n=_typeof$2(e);if(t&&"object"==n)for(r in e)try{a.push(u(e[r],t-1))}catch(s){}return a.length?a:"string"==n?e:e+"\0"}function h(e,t){for(var r,a=e+"",n=0;n<a.length;)t[l&n]=l&(r^=19*t[l&n])+a.charCodeAt(n++);return p(t)}function p(e){return String.fromCharCode.apply(0,e)}t["seed"+n]=function(l,m,f){var g=[],y=h(u((m=!0===m?{entropy:!0}:m||{}).entropy?[l,p(e)]:null===l?function(){try{var t=new Uint8Array(a);return(r.crypto||r.msCrypto).getRandomValues(t),p(t)}catch(i){var n=r.navigator,s=n&&n.plugins;return[+new Date,r,s,r.screen,p(e)]}}():l,3),g),v=new c(g),b=function(){for(var e=v.g(6),t=s,r=0;e<i;)e=(e+r)*a,t*=a,r=v.g(1);for(;e>=o;)e/=2,t/=2,r>>>=1;return(e+r)/t};return b.int32=function(){return 0|v.g(4)},b.quick=function(){return v.g(4)/4294967296},b.double=b,h(p(v.S),e),(m.pass||f||function(e,r,a,s){return s&&(s.S&&d(s,v),e.state=function(){return d(v,{})}),a?(t[n]=e,r):e})(b,y,"global"in m?m.global:this==t,m.state)},h(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof$1(e){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||t instanceof Number||"boolean"===e||"string"===e}function $bm_neg(e){var t=_typeof$1(e);if("number"===t||e instanceof Number||"boolean"===t)return-e;if($bm_isInstanceOfArray(e)){var r,a=e.length,n=[];for(r=0;r<a;r+=1)n[r]=-e[r];return n}return e.propType?e.v:-e}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var r=_typeof$1(e),a=_typeof$1(t);if(isNumerable(r,e)&&isNumerable(a,t)||"string"===r||"string"===a)return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(a,t))return(e=e.slice(0))[0]+=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var n=0,s=e.length,i=t.length,o=[];n<s||n<i;)("number"===typeof e[n]||e[n]instanceof Number)&&("number"===typeof t[n]||t[n]instanceof Number)?o[n]=e[n]+t[n]:o[n]=void 0===t[n]?e[n]:e[n]||t[n],n+=1;return o}return 0}var add=sum;function sub(e,t){var r=_typeof$1(e),a=_typeof$1(t);if(isNumerable(r,e)&&isNumerable(a,t))return"string"===r&&(e=parseInt(e,10)),"string"===a&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(a,t))return(e=e.slice(0))[0]-=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var n=0,s=e.length,i=t.length,o=[];n<s||n<i;)("number"===typeof e[n]||e[n]instanceof Number)&&("number"===typeof t[n]||t[n]instanceof Number)?o[n]=e[n]-t[n]:o[n]=void 0===t[n]?e[n]:e[n]||t[n],n+=1;return o}return 0}function mul(e,t){var r,a,n,s=_typeof$1(e),i=_typeof$1(t);if(isNumerable(s,e)&&isNumerable(i,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(i,t)){for(n=e.length,r=createTypedArray("float32",n),a=0;a<n;a+=1)r[a]=e[a]*t;return r}if(isNumerable(s,e)&&$bm_isInstanceOfArray(t)){for(n=t.length,r=createTypedArray("float32",n),a=0;a<n;a+=1)r[a]=e*t[a];return r}return 0}function div(e,t){var r,a,n,s=_typeof$1(e),i=_typeof$1(t);if(isNumerable(s,e)&&isNumerable(i,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(i,t)){for(n=e.length,r=createTypedArray("float32",n),a=0;a<n;a+=1)r[a]=e[a]/t;return r}if(isNumerable(s,e)&&$bm_isInstanceOfArray(t)){for(n=t.length,r=createTypedArray("float32",n),a=0;a<n;a+=1)r[a]=e/t[a];return r}return 0}function mod(e,t){return"string"===typeof e&&(e=parseInt(e,10)),"string"===typeof t&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,r){if(t>r){var a=r;r=t,t=a}return Math.min(Math.max(e,t),r)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"===typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);var r;t||(t=helperLengthArray);var a=Math.min(e.length,t.length),n=0;for(r=0;r<a;r+=1)n+=Math.pow(t[r]-e[r],2);return Math.sqrt(n)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,r,a=e[0],n=e[1],s=e[2],i=Math.max(a,n,s),o=Math.min(a,n,s),l=(i+o)/2;if(i===o)t=0,r=0;else{var c=i-o;switch(r=l>.5?c/(2-i-o):c/(i+o),i){case a:t=(n-s)/c+(n<s?6:0);break;case n:t=(s-a)/c+2;break;case s:t=(a-n)/c+4}t/=6}return[t,r,l,e[3]]}function hue2rgb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hslToRgb(e){var t,r,a,n=e[0],s=e[1],i=e[2];if(0===s)t=i,a=i,r=i;else{var o=i<.5?i*(1+s):i+s-i*s,l=2*i-o;t=hue2rgb(l,o,n+1/3),r=hue2rgb(l,o,n),a=hue2rgb(l,o,n-1/3)}return[t,r,a,e[3]]}function linear(e,t,r,a,n){if(void 0!==a&&void 0!==n||(a=t,n=r,t=0,r=1),r<t){var s=r;r=t,t=s}if(e<=t)return a;if(e>=r)return n;var i,o=r===t?0:(e-t)/(r-t);if(!a.length)return a+(n-a)*o;var l=a.length,c=createTypedArray("float32",l);for(i=0;i<l;i+=1)c[i]=a[i]+(n[i]-a[i])*o;return c}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var r,a=t.length;e||(e=createTypedArray("float32",a));var n=createTypedArray("float32",a),s=BMMath.random();for(r=0;r<a;r+=1)n[r]=e[r]+s*(t[r]-e[r]);return n}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,r,a){var n,s=e.length,i=shapePool.newElement();i.setPathData(!!a,s);var o,l,c=[0,0];for(n=0;n<s;n+=1)o=t&&t[n]?t[n]:c,l=r&&r[n]?r[n]:c,i.setTripleAt(e[n][0],e[n][1],l[0]+e[n][0],l[1]+e[n][1],o[0]+e[n][0],o[1]+e[n][1],n,!0);return i}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var r,a,n=this.pv.length?this.pv.length:1,s=createTypedArray("float32",n),i=Math.floor(5*time);for(r=0,a=0;r<i;){for(a=0;a<n;a+=1)s[a]+=-t+2*t*BMMath.random();r+=1}var o=5*time,l=o-Math.floor(o),c=createTypedArray("float32",n);if(n>1){for(a=0;a<n;a+=1)c[a]=this.pv[a]+s[a]+(-t+2*t*BMMath.random())*l;return c}return this.pv+s[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],a=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,a,0]}function easeOut(e,t,r,a,n){return applyEase(easeOutBez,e,t,r,a,n)}function easeIn(e,t,r,a,n){return applyEase(easeInBez,e,t,r,a,n)}function ease(e,t,r,a,n){return applyEase(easeInOutBez,e,t,r,a,n)}function applyEase(e,t,r,a,n,s){void 0===n?(n=r,s=a):t=(t-r)/(a-r),t>1?t=1:t<0&&(t=0);var i=e(t);if($bm_isInstanceOfArray(n)){var o,l=n.length,c=createTypedArray("float32",l);for(o=0;o<l;o+=1)c[o]=(s[o]-n[o])*i+n[o];return c}return(s-n)*i+n}function nearestKey(e){var t,r,a,n=data.k.length;if(data.k.length&&"number"!==typeof data.k[0])if(r=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,a=data.k[0].t;else{for(t=0;t<n-1;t+=1){if(e===data.k[t].t){r=t+1,a=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(r=t+2,a=data.k[t+1].t):(r=t+1,a=data.k[t].t);break}}-1===r&&(r=t+1,a=data.k[t].t)}else r=0,a=0;var s={};return s.index=r,s.time=a/elem.comp.globalData.frameRate,s}function key(e){var t,r,a;if(!data.k.length||"number"===typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var n=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(a=n.length,r=0;r<a;r+=1)t[r]=n[r],t.value[r]=n[r];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"===typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"===typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var e={initExpressions:function(e){var t=0,r=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0===(t-=1)&&function(){var e,t=r.length;for(e=0;e<t;e+=1)r[e].release();r.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===r.indexOf(e)&&r.push(e)}}};return e.resetFrame=ExpressionManager.resetFrame,e}(),MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var r,a=createSizedArray(t.viewData.length),n=t.viewData.length;for(r=0;r<n;r+=1)a[r]=new e(t.viewData[r],t.masksProperties[r]);return function(e){for(r=0;r<n;){if(t.masksProperties[r].nm===e)return a[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function r(e,t,r){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(a){if(!e.numKeys)return 0;var n="";n="s"in t.keyframes[a-1]?t.keyframes[a-1].s:"e"in t.keyframes[a-2]?t.keyframes[a-2].e:t.keyframes[a-2].s;var s="unidimensional"===r?new Number(n):Object.assign({},n);return s.time=t.keyframes[a-1].t/t.elem.comp.globalData.frameRate,s.value="unidimensional"===r?n[0]:n,s},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function a(){return e}return function(n){return n?"unidimensional"===n.propType?function(t){t&&"pv"in t||(t=e);var a=1/t.mult,n=t.pv*a,s=new Number(n);return s.value=n,r(s,t,"unidimensional"),function(){return t.k&&t.getValue(),n=t.v*a,s.value!==n&&((s=new Number(n)).value=n,s[0]=n,r(s,t,"unidimensional")),s}}(n):function(e){e&&"pv"in e||(e=t);var a=1/e.mult,n=e.data&&e.data.l||e.pv.length,s=createTypedArray("float32",n),i=createTypedArray("float32",n);return s.value=i,r(s,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<n;t+=1)i[t]=e.v[t]*a,s[t]=i[t];return s}}(n):a}}(),TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var r,a,n,s;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?s=ExpressionPropertyInterface(e.p):(r=ExpressionPropertyInterface(e.px),a=ExpressionPropertyInterface(e.py),e.pz&&(n=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?s():[r(),a(),n?n():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},LayerExpressionInterface=function(){function e(e){var t=new Matrix;return void 0!==e?this._elem.finalTransform.mProp.getValueAtTime(e).clone(t):this._elem.finalTransform.mProp.applyToMatrix(t),t}function t(e,t){var r=this.getMatrix(t);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.applyPoint(r,e)}function r(e,t){var r=this.getMatrix(t);return this.applyPoint(r,e)}function a(e,t){var r=this.getMatrix(t);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.invertPoint(r,e)}function n(e,t){var r=this.getMatrix(t);return this.invertPoint(r,e)}function s(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,a=this._elem.hierarchy.length;for(r=0;r<a;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e)}return e.applyToPointArray(t[0],t[1],t[2]||0)}function i(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,a=this._elem.hierarchy.length;for(r=0;r<a;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e)}return e.inversePoint(t)}function o(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var r,a=this._elem.hierarchy.length;for(r=0;r<a;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function l(){return[1,1,1,1]}return function(c){var d;function u(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return u.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return d;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return u.effect;case"ADBE Text Properties":return u.textInterface;default:return null}}u.getMatrix=e,u.invertPoint=i,u.applyPoint=s,u.toWorld=r,u.toWorldVec=t,u.fromWorld=n,u.fromWorldVec=a,u.toComp=r,u.fromComp=o,u.sampleImage=l,u.sourceRectAtTime=c.sourceRectAtTime.bind(c),u._elem=c;var h=getDescriptor(d=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(u,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(d,"rotation"),scale:getDescriptor(d,"scale"),position:getDescriptor(d,"position"),opacity:getDescriptor(d,"opacity"),anchorPoint:h,anchor_point:h,transform:{get:function(){return d}},active:{get:function(){return c.isInRange}}}),u.startTime=c.data.st,u.index=c.data.ind,u.source=c.data.refId,u.height=0===c.data.ty?c.data.h:100,u.width=0===c.data.ty?c.data.w:100,u.inPoint=c.data.ip/c.comp.globalData.frameRate,u.outPoint=c.data.op/c.comp.globalData.frameRate,u._name=c.data.nm,u.registerMaskInterface=function(e){u.mask=new MaskManagerInterface(e,c)},u.registerEffectsInterface=function(e){u.effect=e},u}}(),propertyGroupFactory=function(e,t){return function(r){return(r=void 0===r?1:r)<=0?e:t(r-1)}},PropertyInterface=function(e,t){var r={_name:e};return function(e){return(e=void 0===e?1:e)<=0?r:t(e-1)}},EffectsExpressionInterface=function(){function e(r,a,n,s){function i(e){for(var t=r.ef,a=0,n=t.length;a<n;){if(e===t[a].nm||e===t[a].mn||e===t[a].ix)return 5===t[a].ty?c[a]:c[a]();a+=1}throw new Error}var o,l=propertyGroupFactory(i,n),c=[],d=r.ef.length;for(o=0;o<d;o+=1)5===r.ef[o].ty?c.push(e(r.ef[o],a.effectElements[o],a.effectElements[o].propertyGroup,s)):c.push(t(a.effectElements[o],r.ef[o].ty,s,l));return"ADBE Color Control"===r.mn&&Object.defineProperty(i,"color",{get:function(){return c[0]()}}),Object.defineProperties(i,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:l}}),i.enabled=0!==r.en,i.active=i.enabled,i}function t(e,t,r,a){var n=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(PropertyInterface("",a)),function(){return 10===t?r.comp.compInterface(e.p.v):n()}}return{createEffectsInterface:function(t,r){if(t.effectsManager){var a,n=[],s=t.data.ef,i=t.effectsManager.effectElements.length;for(a=0;a<i;a+=1)n.push(e(s[a],t.effectsManager.effectElements[a],r,t));var o=t.data.ef||[],l=function(e){for(a=0,i=o.length;a<i;){if(e===o[a].nm||e===o[a].mn||e===o[a].ix)return n[a];a+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return o.length}}),l}return null}}}(),ShapePathInterface=function(e,t,r){var a=t.sh;function n(e){return"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e?n.path:null}var s=propertyGroupFactory(n,r);return a.setGroupProperty(PropertyInterface("Path",s)),Object.defineProperties(n,{path:{get:function(){return a.k&&a.getValue(),a}},shape:{get:function(){return a.k&&a.getValue(),a}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:r}}),n},ShapeExpressionInterface=function(){function e(e,o,p){var m,f=[],g=e?e.length:0;for(m=0;m<g;m+=1)"gr"===e[m].ty?f.push(t(e[m],o[m],p)):"fl"===e[m].ty?f.push(r(e[m],o[m],p)):"st"===e[m].ty?f.push(s(e[m],o[m],p)):"tm"===e[m].ty?f.push(i(e[m],o[m],p)):"tr"===e[m].ty||("el"===e[m].ty?f.push(l(e[m],o[m],p)):"sr"===e[m].ty?f.push(c(e[m],o[m],p)):"sh"===e[m].ty?f.push(ShapePathInterface(e[m],o[m],p)):"rc"===e[m].ty?f.push(d(e[m],o[m],p)):"rd"===e[m].ty?f.push(u(e[m],o[m],p)):"rp"===e[m].ty?f.push(h(e[m],o[m],p)):"gf"===e[m].ty?f.push(a(e[m],o[m],p)):f.push(n(e[m],o[m])));return f}function t(t,r,a){var n=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return n.content;default:return n.transform}};n.propertyGroup=propertyGroupFactory(n,a);var s=function(t,r,a){var n,s=function(e){for(var t=0,r=n.length;t<r;){if(n[t]._name===e||n[t].mn===e||n[t].propertyIndex===e||n[t].ix===e||n[t].ind===e)return n[t];t+=1}return"number"===typeof e?n[e-1]:null};s.propertyGroup=propertyGroupFactory(s,a),n=e(t.it,r.it,s.propertyGroup),s.numProperties=n.length;var i=o(t.it[t.it.length-1],r.it[r.it.length-1],s.propertyGroup);return s.transform=i,s.propertyIndex=t.cix,s._name=t.nm,s}(t,r,n.propertyGroup),i=o(t.it[t.it.length-1],r.it[r.it.length-1],n.propertyGroup);return n.content=s,n.transform=i,Object.defineProperty(n,"_name",{get:function(){return t.nm}}),n.numProperties=t.np,n.propertyIndex=t.ix,n.nm=t.nm,n.mn=t.mn,n}function r(e,t,r){function a(e){return"Color"===e||"color"===e?a.color:"Opacity"===e||"opacity"===e?a.opacity:null}return Object.defineProperties(a,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),a}function a(e,t,r){function a(e){return"Start Point"===e||"start point"===e?a.startPoint:"End Point"===e||"end point"===e?a.endPoint:"Opacity"===e||"opacity"===e?a.opacity:null}return Object.defineProperties(a,{startPoint:{get:ExpressionPropertyInterface(t.s)},endPoint:{get:ExpressionPropertyInterface(t.e)},opacity:{get:ExpressionPropertyInterface(t.o)},type:{get:function(){return"a"}},_name:{value:e.nm},mn:{value:e.mn}}),t.s.setGroupProperty(PropertyInterface("Start Point",r)),t.e.setGroupProperty(PropertyInterface("End Point",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),a}function n(){return function(){return null}}function s(e,t,r){var a,n=propertyGroupFactory(c,r),s=propertyGroupFactory(l,n);function i(r){Object.defineProperty(l,e.d[r].nm,{get:ExpressionPropertyInterface(t.d.dataProps[r].p)})}var o=e.d?e.d.length:0,l={};for(a=0;a<o;a+=1)i(a),t.d.dataProps[a].p.setGroupProperty(s);function c(e){return"Color"===e||"color"===e?c.color:"Opacity"===e||"opacity"===e?c.opacity:"Stroke Width"===e||"stroke width"===e?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return l}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",n)),t.o.setGroupProperty(PropertyInterface("Opacity",n)),t.w.setGroupProperty(PropertyInterface("Stroke Width",n)),c}function i(e,t,r){function a(t){return t===e.e.ix||"End"===t||"end"===t?a.end:t===e.s.ix?a.start:t===e.o.ix?a.offset:null}var n=propertyGroupFactory(a,r);return a.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",n)),t.e.setGroupProperty(PropertyInterface("End",n)),t.o.setGroupProperty(PropertyInterface("Offset",n)),a.propertyIndex=e.ix,a.propertyGroup=r,Object.defineProperties(a,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),a.mn=e.mn,a}function o(e,t,r){function a(t){return e.a.ix===t||"Anchor Point"===t?a.anchorPoint:e.o.ix===t||"Opacity"===t?a.opacity:e.p.ix===t||"Position"===t?a.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?a.rotation:e.s.ix===t||"Scale"===t?a.scale:e.sk&&e.sk.ix===t||"Skew"===t?a.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?a.skewAxis:null}var n=propertyGroupFactory(a,r);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",n)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",n)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",n)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",n)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",n)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",n)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",n))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",n)),Object.defineProperties(a,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),a.ty="tr",a.mn=e.mn,a.propertyGroup=r,a}function l(e,t,r){function a(t){return e.p.ix===t?a.position:e.s.ix===t?a.size:null}var n=propertyGroupFactory(a,r);a.propertyIndex=e.ix;var s="tm"===t.sh.ty?t.sh.prop:t.sh;return s.s.setGroupProperty(PropertyInterface("Size",n)),s.p.setGroupProperty(PropertyInterface("Position",n)),Object.defineProperties(a,{size:{get:ExpressionPropertyInterface(s.s)},position:{get:ExpressionPropertyInterface(s.p)},_name:{value:e.nm}}),a.mn=e.mn,a}function c(e,t,r){function a(t){return e.p.ix===t?a.position:e.r.ix===t?a.rotation:e.pt.ix===t?a.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?a.outerRadius:e.os.ix===t?a.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?a.innerRoundness:null:a.innerRadius}var n=propertyGroupFactory(a,r),s="tm"===t.sh.ty?t.sh.prop:t.sh;return a.propertyIndex=e.ix,s.or.setGroupProperty(PropertyInterface("Outer Radius",n)),s.os.setGroupProperty(PropertyInterface("Outer Roundness",n)),s.pt.setGroupProperty(PropertyInterface("Points",n)),s.p.setGroupProperty(PropertyInterface("Position",n)),s.r.setGroupProperty(PropertyInterface("Rotation",n)),e.ir&&(s.ir.setGroupProperty(PropertyInterface("Inner Radius",n)),s.is.setGroupProperty(PropertyInterface("Inner Roundness",n))),Object.defineProperties(a,{position:{get:ExpressionPropertyInterface(s.p)},rotation:{get:ExpressionPropertyInterface(s.r)},points:{get:ExpressionPropertyInterface(s.pt)},outerRadius:{get:ExpressionPropertyInterface(s.or)},outerRoundness:{get:ExpressionPropertyInterface(s.os)},innerRadius:{get:ExpressionPropertyInterface(s.ir)},innerRoundness:{get:ExpressionPropertyInterface(s.is)},_name:{value:e.nm}}),a.mn=e.mn,a}function d(e,t,r){function a(t){return e.p.ix===t?a.position:e.r.ix===t?a.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?a.size:null}var n=propertyGroupFactory(a,r),s="tm"===t.sh.ty?t.sh.prop:t.sh;return a.propertyIndex=e.ix,s.p.setGroupProperty(PropertyInterface("Position",n)),s.s.setGroupProperty(PropertyInterface("Size",n)),s.r.setGroupProperty(PropertyInterface("Rotation",n)),Object.defineProperties(a,{position:{get:ExpressionPropertyInterface(s.p)},roundness:{get:ExpressionPropertyInterface(s.r)},size:{get:ExpressionPropertyInterface(s.s)},_name:{value:e.nm}}),a.mn=e.mn,a}function u(e,t,r){function a(t){return e.r.ix===t||"Round Corners 1"===t?a.radius:null}var n=propertyGroupFactory(a,r),s=t;return a.propertyIndex=e.ix,s.rd.setGroupProperty(PropertyInterface("Radius",n)),Object.defineProperties(a,{radius:{get:ExpressionPropertyInterface(s.rd)},_name:{value:e.nm}}),a.mn=e.mn,a}function h(e,t,r){function a(t){return e.c.ix===t||"Copies"===t?a.copies:e.o.ix===t||"Offset"===t?a.offset:null}var n=propertyGroupFactory(a,r),s=t;return a.propertyIndex=e.ix,s.c.setGroupProperty(PropertyInterface("Copies",n)),s.o.setGroupProperty(PropertyInterface("Offset",n)),Object.defineProperties(a,{copies:{get:ExpressionPropertyInterface(s.c)},offset:{get:ExpressionPropertyInterface(s.o)},_name:{value:e.nm}}),a.mn=e.mn,a}return function(t,r,a){var n;function s(e){if("number"===typeof e)return 0===(e=void 0===e?1:e)?a:n[e-1];for(var t=0,r=n.length;t<r;){if(n[t]._name===e)return n[t];t+=1}return null}return s.propertyGroup=propertyGroupFactory(s,function(){return a}),n=e(t,r,s.propertyGroup),s.numProperties=n.length,s._name="Contents",s}}(),TextExpressionInterface=function(e){var t;function r(e){return"ADBE Text Document"===e?r.sourceText:null}return Object.defineProperty(r,"sourceText",{get:function(){e.textProperty.getValue();var r=e.textProperty.currentData.t;return t&&r===t.value||((t=new String(r)).value=r||new String(r),Object.defineProperty(t,"style",{get:function(){return{fillColor:e.textProperty.currentData.fc}}})),t}}),r};function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var FootageInterface=function(){var e=function(e){function t(e){return"Outline"===e?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(e){var t="",r=e.getFootageData();function a(e){if(r[e])return t=e,"object"===_typeof(r=r[e])?a:r;var n=e.indexOf(t);if(-1!==n){var s=parseInt(e.substr(n+t.length),10);return"object"===_typeof(r=r[s])?a:r}return""}return function(){return t="",r=e.getFootageData(),a}}(e),t};return function(t){function r(e){return"Data"===e?r.dataInterface:null}return r._name="Data",r.dataInterface=e(t),r}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}var expressionHelpers={searchExpressions:function(e,t,r){t.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(e,t,r).bind(r)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),r=this.getValueAtTime(e+-.01),a=0;if(t.length){var n;for(n=0;n<t.length;n+=1)a+=Math.pow(r[n]-t[n],2);a=100*Math.sqrt(a)}else a=0;return a},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,r,a=-.001,n=this.getValueAtTime(e),s=this.getValueAtTime(e+a);if(n.length)for(t=createTypedArray("float32",n.length),r=0;r<n.length;r+=1)t[r]=(s[r]-n[r])/a;else t=(s-n)/a;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};function addPropertyDecorator(){function e(e,t,r){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var a,n,s,i,o,l=this.comp.renderedFrame,c=this.keyframes,d=c[c.length-1].t;if(l<=d)return this.pv;if(r?n=d-(a=t?Math.abs(d-this.elem.comp.globalData.frameRate*t):Math.max(0,d-this.elem.data.ip)):((!t||t>c.length-1)&&(t=c.length-1),a=d-(n=c[c.length-1-t].t)),"pingpong"===e){if(Math.floor((l-n)/a)%2!==0)return this.getValueAtTime((a-(l-n)%a+n)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var u=this.getValueAtTime(n/this.comp.globalData.frameRate,0),h=this.getValueAtTime(d/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-n)%a+n)/this.comp.globalData.frameRate,0),m=Math.floor((l-n)/a);if(this.pv.length){for(i=(o=new Array(u.length)).length,s=0;s<i;s+=1)o[s]=(h[s]-u[s])*m+p[s];return o}return(h-u)*m+p}if("continue"===e){var f=this.getValueAtTime(d/this.comp.globalData.frameRate,0),g=this.getValueAtTime((d-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(i=(o=new Array(f.length)).length,s=0;s<i;s+=1)o[s]=f[s]+(f[s]-g[s])*((l-d)/this.comp.globalData.frameRate)/5e-4;return o}return f+(l-d)/.001*(f-g)}}return this.getValueAtTime(((l-n)%a+n)/this.comp.globalData.frameRate,0)}function t(e,t,r){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var a,n,s,i,o,l=this.comp.renderedFrame,c=this.keyframes,d=c[0].t;if(l>=d)return this.pv;if(r?n=d+(a=t?Math.abs(this.elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-d)):((!t||t>c.length-1)&&(t=c.length-1),a=(n=c[t].t)-d),"pingpong"===e){if(Math.floor((d-l)/a)%2===0)return this.getValueAtTime(((d-l)%a+d)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var u=this.getValueAtTime(d/this.comp.globalData.frameRate,0),h=this.getValueAtTime(n/this.comp.globalData.frameRate,0),p=this.getValueAtTime((a-(d-l)%a+d)/this.comp.globalData.frameRate,0),m=Math.floor((d-l)/a)+1;if(this.pv.length){for(i=(o=new Array(u.length)).length,s=0;s<i;s+=1)o[s]=p[s]-(h[s]-u[s])*m;return o}return p-(h-u)*m}if("continue"===e){var f=this.getValueAtTime(d/this.comp.globalData.frameRate,0),g=this.getValueAtTime((d+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(i=(o=new Array(f.length)).length,s=0;s<i;s+=1)o[s]=f[s]+(f[s]-g[s])*(d-l)/.001;return o}return f+(f-g)*(d-l)/.001}}return this.getValueAtTime((a-((d-l)%a+d))/this.comp.globalData.frameRate,0)}function r(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var r,a,n=this.comp.renderedFrame/this.comp.globalData.frameRate,s=n-e,i=t>1?(n+e-s)/(t-1):1,o=0,l=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;o<t;){if(a=this.getValueAtTime(s+o*i),this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]+=a[l];else r+=a;o+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]/=t;else r/=t;return r}function a(e){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var t=this._transformCachingAtTime.v;if(t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var r=this.a.getValueAtTime(e);t.translate(-r[0]*this.a.mult,-r[1]*this.a.mult,r[2]*this.a.mult)}if(this.appliedTransformations<2){var a=this.s.getValueAtTime(e);t.scale(a[0]*this.s.mult,a[1]*this.s.mult,a[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var n=this.sk.getValueAtTime(e),s=this.sa.getValueAtTime(e);t.skewFromAxis(-n*this.sk.mult,s*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var i=this.r.getValueAtTime(e);t.rotate(-i*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var o=this.rz.getValueAtTime(e),l=this.ry.getValueAtTime(e),c=this.rx.getValueAtTime(e),d=this.or.getValueAtTime(e);t.rotateZ(-o*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-d[2]*this.or.mult).rotateY(d[1]*this.or.mult).rotateX(d[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var u=this.px.getValueAtTime(e),h=this.py.getValueAtTime(e);if(this.data.p.z){var p=this.pz.getValueAtTime(e);t.translate(u*this.px.mult,h*this.py.mult,-p*this.pz.mult)}else t.translate(u*this.px.mult,h*this.py.mult,0)}else{var m=this.p.getValueAtTime(e);t.translate(m[0]*this.p.mult,m[1]*this.p.mult,-m[2]*this.p.mult)}return t}function n(){return this.v.clone(new Matrix)}var s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,r){var i=s(e,t,r);return i.dynamicProperties.length?i.getValueAtTime=a.bind(i):i.getValueAtTime=n.bind(i),i.setGroupProperty=expressionHelpers.setGroupProperty,i};var i=PropertyFactory.getProp;PropertyFactory.getProp=function(a,n,s,o,l){var c=i(a,n,s,o,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=e,c.loopIn=t,c.smooth=r,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===n.a?n.k.length:0,c.propertyIndex=n.ix;var d=0;return 0!==s&&(d=createTypedArray("float32",1===n.a?n.k[0].s.length:n.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:d},expressionHelpers.searchExpressions(a,n,c),c.k&&l.addDynamicProperty(c),c};var o=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(e,t){this.k&&this.getValue();var r,a=this.v;void 0!==t&&(a=this.getValueAtTime(t,0));var n=a._length,s=a[e],i=a.v,o=createSizedArray(n);for(r=0;r<n;r+=1)o[r]="i"===e||"o"===e?[s[r][0]-i[r][0],s[r][1]-i[r][1]]:[s[r][0],s[r][1]];return o},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var a,n=this._segmentsLength,s=n.lengths,i=n.totalLength*e,o=0,l=s.length,c=0;o<l;){if(c+s[o].addedLength>i){var d=o,u=r.c&&o===l-1?0:o+1,h=(i-c)/s[o].addedLength;a=bez.getPointInSegment(r.v[d],r.v[u],r.o[d],r.i[u],h,s[o]);break}c+=s[o].addedLength,o+=1}return a||(a=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),a},vectorOnPath:function(e,t,r){1==e?e=this.v.c:0==e&&(e=.999);var a=this.pointOnPath(e,t),n=this.pointOnPath(e+.001,t),s=n[0]-a[0],i=n[1]-a[1],o=Math.sqrt(Math.pow(s,2)+Math.pow(i,2));return 0===o?[0,0]:"tangent"===r?[s/o,i/o]:[-i/o,s/o]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],o),extendPrototype([c],l),l.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var d=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,r,a,n){var s=d(e,t,r,a,n);return s.propertyIndex=t.ix,s.lock=!1,3===r?expressionHelpers.searchExpressions(e,t.pt,s):4===r&&expressionHelpers.searchExpressions(e,t.ks,s),s.k&&e.addDynamicProperty(s),s}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(e,t){var r=this.calculateExpression(t);if(e.t!==r){var a={};return this.copyData(a,e),a.t=r.toString(),a.__complete=!1,a}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(e,t){var r,a,n=createNS("feMerge");for(n.setAttribute("result",e),a=0;a<t.length;a+=1)(r=createNS("feMergeNode")).setAttribute("in",t[a]),n.appendChild(r),n.appendChild(r);return n}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(e,t,r,a,n){this.filterManager=t;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=s,s.setAttribute("result",a+"_tint_1"),e.appendChild(s),(s=createNS("feColorMatrix")).setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",a+"_tint_2"),e.appendChild(s),this.matrixFilter=s;var i=this.createMergeNode(a,[n,a+"_tint_1",a+"_tint_2"]);e.appendChild(i)}function SVGFillFilter(e,t,r,a){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result",a),e.appendChild(n),this.matrixFilter=n}function SVGStrokeEffect(e,t,r){this.initialized=!1,this.filterManager=t,this.elem=r,this.paths=[]}function SVGTritoneFilter(e,t,r,a){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(n);var s=createNS("feComponentTransfer");s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",a),this.matrixFilter=s;var i=createNS("feFuncR");i.setAttribute("type","table"),s.appendChild(i),this.feFuncR=i;var o=createNS("feFuncG");o.setAttribute("type","table"),s.appendChild(o),this.feFuncG=o;var l=createNS("feFuncB");l.setAttribute("type","table"),s.appendChild(l),this.feFuncB=l,e.appendChild(s)}function SVGProLevelsFilter(e,t,r,a){this.filterManager=t;var n=this.filterManager.effectElements,s=createNS("feComponentTransfer");(n[10].p.k||0!==n[10].p.v||n[11].p.k||1!==n[11].p.v||n[12].p.k||1!==n[12].p.v||n[13].p.k||0!==n[13].p.v||n[14].p.k||1!==n[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",s)),(n[17].p.k||0!==n[17].p.v||n[18].p.k||1!==n[18].p.v||n[19].p.k||1!==n[19].p.v||n[20].p.k||0!==n[20].p.v||n[21].p.k||1!==n[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",s)),(n[24].p.k||0!==n[24].p.v||n[25].p.k||1!==n[25].p.v||n[26].p.k||1!==n[26].p.v||n[27].p.k||0!==n[27].p.v||n[28].p.k||1!==n[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",s)),(n[31].p.k||0!==n[31].p.v||n[32].p.k||1!==n[32].p.v||n[33].p.k||1!==n[33].p.v||n[34].p.k||0!==n[34].p.v||n[35].p.k||1!==n[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",s)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(s.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(s)),(n[3].p.k||0!==n[3].p.v||n[4].p.k||1!==n[4].p.v||n[5].p.k||1!==n[5].p.v||n[6].p.k||0!==n[6].p.v||n[7].p.k||1!==n[7].p.v)&&((s=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",a),e.appendChild(s),this.feFuncRComposed=this.createFeFunc("feFuncR",s),this.feFuncGComposed=this.createFeFunc("feFuncG",s),this.feFuncBComposed=this.createFeFunc("feFuncB",s))}function SVGDropShadowEffect(e,t,r,a,n){var s=t.container.globalData.renderConfig.filterSize,i=t.data.fs||s;e.setAttribute("x",i.x||s.x),e.setAttribute("y",i.y||s.y),e.setAttribute("width",i.width||s.width),e.setAttribute("height",i.height||s.height),this.filterManager=t;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result",a+"_drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,e.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",a+"_drop_shadow_1"),l.setAttribute("result",a+"_drop_shadow_2"),this.feOffset=l,e.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",a+"_drop_shadow_3"),this.feFlood=c,e.appendChild(c);var d=createNS("feComposite");d.setAttribute("in",a+"_drop_shadow_3"),d.setAttribute("in2",a+"_drop_shadow_2"),d.setAttribute("operator","in"),d.setAttribute("result",a+"_drop_shadow_4"),e.appendChild(d);var u=this.createMergeNode(a,[a+"_drop_shadow_4",n]);e.appendChild(u)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,a=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+a+" 0"),this.matrixFilter.setAttribute("values",r[0]-t[0]+" 0 0 0 "+t[0]+" "+(r[1]-t[1])+" 0 0 0 "+t[1]+" "+(r[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var e,t,r,a,n=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(a=this.elem.maskManager.masksProperties.length,r=0):a=1+(r=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);r<a;r+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:r});if(3===this.filterManager.effectElements[10].p.v){var s=createNS("mask"),i=createElementID();s.setAttribute("id",i),s.setAttribute("mask-type","alpha"),s.appendChild(t),this.elem.globalData.defs.appendChild(s);var o=createNS("g");for(o.setAttribute("mask","url("+getLocationHref()+"#"+i+")");n[0];)o.appendChild(n[0]);this.elem.layerElement.appendChild(o),this.masker=s,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(n=this.elem.layerElement.children||this.elem.layerElement.childNodes;n.length;)this.elem.layerElement.removeChild(n[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){var t;this.initialized||this.initialize();var r,a,n=this.paths.length;for(t=0;t<n;t+=1)if(-1!==this.paths[t].m&&(r=this.elem.maskManager.viewData[this.paths[t].m],a=this.paths[t].p,(e||this.filterManager._mdf||r.prop._mdf)&&a.setAttribute("d",r.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var s;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var i=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),o=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=a.getTotalLength();s="0 0 0 "+l*i+" ";var c,d=l*(o-i),u=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,h=Math.floor(d/u);for(c=0;c<h;c+=1)s+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";s+="0 "+10*l+" 0 0"}else s="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;a.setAttribute("stroke-dasharray",s)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,a=this.filterManager.effectElements[2].p.v,n=a[0]+" "+r[0]+" "+t[0],s=a[1]+" "+r[1]+" "+t[1],i=a[2]+" "+r[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",s),this.feFuncB.setAttribute("tableValues",i)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var r=createNS(e);return r.setAttribute("type","table"),t.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(e,t,r,a,n){for(var s,i,o=0,l=Math.min(e,t),c=Math.max(e,t),d=Array.call(null,{length:256}),u=0,h=n-a,p=t-e;o<=256;)i=(s=o/256)<=l?p<0?n:a:s>=c?p<0?a:n:a+h*Math.pow((s-e)/p,1/r),d[u]=i,u+=1,o+=256/255;return d.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,r=this.filterManager.effectElements;this.feFuncRComposed&&(e||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(t=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(t=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(t=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(t=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(t=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,a=(this.filterManager.effectElements[2].p.v-90)*degToRads,n=r*Math.cos(a),s=r*Math.sin(a);this.feOffset.setAttribute("dx",n),this.feOffset.setAttribute("dy",s)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,r){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGGaussianBlurEffect(e,t,r,a){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var n=createNS("feGaussianBlur");n.setAttribute("result",a),e.appendChild(n),this.feGaussianBlur=n}function TransformEffect(){}function SVGTransformEffect(e,t){this.init(t)}function CVTransformEffect(e){this.init(e)}return SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,r=_svgMatteSymbols.length;t<r;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var r=e.layerElement.parentNode;if(r){for(var a,n=r.children,s=0,i=n.length;s<i&&n[s]!==e.layerElement;)s+=1;s<=i-2&&(a=n[s+1]);var o=createNS("use");o.setAttribute("href","#"+t),a?r.insertBefore(o,a):r.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var r=createElementID(),a=createNS("mask");a.setAttribute("id",t.layerId),a.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var n=e.globalData.defs;n.appendChild(a);var s=createNS("symbol");s.setAttribute("id",r),this.replaceInParent(t,r),s.appendChild(t.layerElement),n.appendChild(s);var i=createNS("use");i.setAttribute("href","#"+r),a.appendChild(i),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,r=0,a=t.length;r<a;)t[r]&&t[r].data.ind===e&&this.setElementAsMask(this.elem,t[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,a=3==r?0:t,n=2==r?0:t;this.feGaussianBlur.setAttribute("stdDeviation",a+" "+n);var s=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",s)}},TransformEffect.prototype.init=function(e){this.effectsManager=e,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(e){if(this._opMdf=!1,this._mdf=!1,e||this.effectsManager._mdf){var t=this.effectsManager.effectElements,r=t[0].p.v,a=t[1].p.v,n=1===t[2].p.v,s=t[3].p.v,i=n?s:t[4].p.v,o=t[5].p.v,l=t[6].p.v,c=t[7].p.v;this.matrix.reset(),this.matrix.translate(-r[0],-r[1],r[2]),this.matrix.scale(.01*i,.01*s,1),this.matrix.rotate(-c*degToRads),this.matrix.skewFromAxis(-o*degToRads,(l+90)*degToRads),this.matrix.translate(a[0],a[1],0),this._mdf=!0,this.opacity!==t[8].p.v&&(this.opacity=t[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie},module.exports=factory())},374:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(r(286));class s extends n.default{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:a,referencedTable:n=a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=n?"".concat(n,".order"):"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===r?"":r?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this}range(e,t){let{foreignTable:r,referencedTable:a=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n="undefined"===typeof a?"offset":"".concat(a,".offset"),s="undefined"===typeof a?"limit":"".concat(a,".limit");return this.url.searchParams.set(n,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:a=!1,wal:n=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,a?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(o,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=s},391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4)},555:(e,t,r)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r.d(t,{A:()=>o})},579:(e,t,r)=>{"use strict";e.exports=r(799)},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},630:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Headers:()=>i,Request:()=>o,Response:()=>l,default:()=>s,fetch:()=>n});var a=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();const n=a.fetch,s=a.fetch.bind(a),i=a.Headers,o=a.Request,l=a.Response},672:(e,t,r)=>{"use strict";var a=r(43);function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(n(299));return function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==a?null:""+a,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=r,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,a=c(r,t.crossOrigin),n="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:n,fetchPriority:s}):"script"===r&&i.d.X(e,{crossOrigin:a,integrity:n,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,a=c(r,t.crossOrigin);i.d.L(e,r,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},723:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(555),n=r(131);function s(e,t){let r;try{r=e()}catch(a){return}return{getItem:e=>{var a;const n=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),s=null!=(a=r.getItem(e))?a:null;return s instanceof Promise?s.then(n):n(s)},setItem:(e,a)=>r.setItem(e,JSON.stringify(a,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}const i=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>i(e)(r),catch(e){return this}}}catch(r){return{then(e){return this},catch:e=>i(e)(r)}}},o=(e,t)=>(r,n,o)=>{let l=(0,a.A)({storage:s(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>(0,a.A)((0,a.A)({},t),e)},t),c=!1;const d=new Set,u=new Set;let h=l.storage;if(!h)return e(function(){console.warn("[zustand persist middleware] Unable to update item '".concat(l.name,"', the given storage is currently unavailable.")),r(...arguments)},n,o);const p=()=>{const e=l.partialize((0,a.A)({},n()));return h.setItem(l.name,{state:e,version:l.version})},m=o.setState;o.setState=(e,t)=>(m(e,t),p());const f=e(function(){return r(...arguments),p()},n,o);let g;o.getInitialState=()=>f;const y=()=>{var e,t;if(!h)return;c=!1,d.forEach(e=>{var t;return e(null!=(t=n())?t:f)});const a=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=n())?e:f))||void 0;return i(h.getItem.bind(h))(l.name).then(e=>{if(e){if("number"!==typeof e.version||e.version===l.version)return[!1,e.state];if(l.migrate){const t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;const[a,s]=e;if(g=l.merge(s,null!=(t=n())?t:f),r(g,!0),a)return p()}).then(()=>{null==a||a(g,void 0),g=n(),c=!0,u.forEach(e=>e(g))}).catch(e=>{null==a||a(void 0,e)})};return o.persist={setOptions:e=>{l=(0,a.A)((0,a.A)({},l),e),e.storage&&(h=e.storage)},clearStorage:()=>{null==h||h.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>y(),hasHydrated:()=>c,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},l.skipHydration||y(),g||f};var l=r(772);const c=(0,n.v)(o((e,t)=>({user:null,loading:!0,isModalOpen:!1,error:null,isHydrated:!1,isRefreshing:!1,redirectPath:null,setUser:t=>e({user:t}),setLoading:t=>e({loading:t}),setModalOpen:t=>e({isModalOpen:t}),setRedirectPath:t=>e({redirectPath:t}),clearError:()=>e({error:null}),setHydrated:()=>e({isHydrated:!0}),login:async(t,r)=>{e({loading:!0,error:null});try{var a,n;const s=l.Ay.getState(),i=await fetch(s.auth.login,{method:"POST",headers:s.getBasicHeaders(),body:JSON.stringify({email:t,password:r})});if(!i.ok){const e=await i.json();throw new Error(e.message||e.error||"Login failed")}const o=await i.json(),c=o.data||o,d=c.user||o.user;return c.accessToken&&(localStorage.setItem("access_token",c.accessToken),localStorage.setItem("custom_token",c.accessToken)),c.refreshToken&&localStorage.setItem("refresh_token",c.refreshToken),null!==(a=o.session)&&void 0!==a&&a.access_token&&(localStorage.setItem("access_token",o.session.access_token),localStorage.setItem("custom_token",o.session.access_token)),null!==(n=o.session)&&void 0!==n&&n.refresh_token&&localStorage.setItem("refresh_token",o.session.refresh_token),o.token&&localStorage.setItem("custom_token",o.token),d&&e({user:d,loading:!1,error:null}),o}catch(s){throw e({loading:!1,error:s.message}),s}},signup:async(t,r,a)=>{e({loading:!0,error:null});try{const n=l.Ay.getState(),s=await fetch(n.auth.register,{method:"POST",headers:n.getBasicHeaders(),body:JSON.stringify({email:t,password:r,fullName:a||"User",name:a||"User"})});if(!s.ok){const e=await s.json();throw new Error(e.message||e.error||"Signup failed")}const i=await s.json();return e({loading:!1,error:null}),i}catch(n){throw e({loading:!1,error:n.message}),n}},forgotPassword:async t=>{e({loading:!0,error:null});try{const r=l.Ay.getState(),a=await fetch(r.auth.forgotPassword,{method:"POST",headers:r.getBasicHeaders(),body:JSON.stringify({email:t})});if(!a.ok){const e=await a.json();throw new Error(e.message||e.error||"Failed to send reset email")}const n=await a.json();return e({loading:!1,error:null}),n}catch(r){throw e({loading:!1,error:r.message}),r}},resetPassword:async(t,r)=>{e({loading:!0,error:null});try{const a=l.Ay.getState(),n=await fetch(a.auth.resetPassword,{method:"POST",headers:a.getBasicHeaders(),body:JSON.stringify({resetToken:t,newPassword:r,token:t})});if(!n.ok){const e=await n.json();throw new Error(e.message||e.error||"Password reset failed")}const s=await n.json();return e({loading:!1,error:null}),s}catch(a){throw e({loading:!1,error:a.message}),a}},logout:async()=>{e({loading:!0});try{const e=l.Ay.getState(),r=localStorage.getItem("refresh_token");if(r)try{await fetch(e.auth.logout,{method:"POST",headers:e.getAuthHeaders(),body:JSON.stringify({refreshToken:r})})}catch(t){console.error("Server logout error:",t)}}catch(t){console.error("Logout error:",t)}finally{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("custom_token"),e({user:null,loading:!1,error:null})}},refreshToken:async()=>{if(t().isRefreshing)return console.log("Token refresh already in progress, waiting..."),new Promise((e,r)=>{const a=()=>{if(t().isRefreshing)setTimeout(a,100);else{const t=localStorage.getItem("custom_token");t?e({accessToken:t}):r(new Error("Refresh failed"))}};setTimeout(a,100)});e({isRefreshing:!0});try{const r=localStorage.getItem("refresh_token");if(!r)throw new Error("No refresh token available");const a=await fetch(l.Ay.getState().auth.refreshToken,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:r})});if(console.log("Refresh token response status:",a.status),!a.ok){const r=await a.json().catch(()=>({}));throw 401!==a.status&&403!==a.status||(console.log("Refresh token invalid/expired, logging out"),e({isRefreshing:!1}),await t().logout()),new Error(r.message||"Token refresh failed")}const n=await a.json(),s=n.data||n;return s.accessToken&&(localStorage.setItem("access_token",s.accessToken),localStorage.setItem("custom_token",s.accessToken)),s.refreshToken&&localStorage.setItem("refresh_token",s.refreshToken),console.log("Token refresh successful"),s}catch(r){throw console.error("Token refresh failed:",r),(r.message.includes("No refresh token available")||r.message.includes("Invalid refresh token")||r.message.includes("Refresh token expired"))&&(console.log("Invalid refresh token, logging out"),await t().logout()),r}finally{e({isRefreshing:!1})}},verifyToken:async e=>{try{var t;const r=l.Ay.getState(),n=await fetch(r.auth.verifyToken,{method:"POST",headers:(0,a.A)((0,a.A)({},r.getBasicHeaders()),{},{Authorization:"Bearer ".concat(e)})});if(!n.ok)return{valid:!1};const s=await n.json();return{valid:s.success,user:null===(t=s.data)||void 0===t?void 0:t.user}}catch(r){return console.error("Token verification failed:",r),{valid:!1}}},checkAuth:async()=>{console.log("Checking authentication status...");const r=localStorage.getItem("custom_token"),n=t().user;if(console.log("Current state:",{hasToken:!!r,hasUser:!!n}),n&&r)return console.log("User found in persist store:",n.email),void e({loading:!1});if(!r)return console.log("No authentication token found"),void e({loading:!1,user:null});e({loading:!0});try{const r=l.Ay.getState();console.log("Verifying token with server...");const n=await fetch(r.auth.getProfile,{headers:r.getAuthHeaders()});if(n.ok){var s;const t=await n.json(),r=(null===(s=t.data)||void 0===s?void 0:s.user)||t.user;if(!r)throw new Error("Invalid user data received");console.log("Token valid, user authenticated:",r.email),e({user:r,loading:!1,error:null})}else if(401===n.status){console.log("Token expired, attempting refresh...");try{await t().refreshToken();const n=localStorage.getItem("custom_token");if(n){const t=await fetch(r.auth.getProfile,{headers:(0,a.A)((0,a.A)({},r.getBasicHeaders()),{},{Authorization:"Bearer ".concat(n)})});if(!t.ok)throw new Error("New token verification failed");{var i;const r=await t.json(),a=(null===(i=r.data)||void 0===i?void 0:i.user)||r.user;e({user:a,loading:!1,error:null})}}}catch(o){console.error("Token refresh failed:",o),o.message.includes("fetch")?e({loading:!1}):await t().logout()}}else console.log("Authentication check failed: ".concat(n.status)),e({loading:!1})}catch(c){console.error("Authentication check error:",c),e({loading:!1})}},isAuthenticated:()=>!!t().user&&!!localStorage.getItem("custom_token"),getUser:()=>t().user,getToken:()=>localStorage.getItem("custom_token"),signOut:async()=>{await t().logout()},initialize:async()=>{console.log("Initialize called, waiting for hydration...");const r=Date.now();try{await new Promise(a=>{const n=()=>{const s=Date.now()-r;t().isHydrated||s>3e3?(s>3e3&&(console.warn("Hydration timeout reached, proceeding anyway"),e({isHydrated:!0})),a()):setTimeout(n,50)};n()}),console.log("Hydration completed, checking auth..."),await t().checkAuth()}catch(a){console.error("Initialize failed:",a),e({loading:!1})}}}),{name:"bukizz-auth-storage",storage:s(()=>localStorage),partialize:e=>({user:e.user}),onRehydrateStorage:()=>(console.log("Starting rehydration..."),(e,t)=>{console.log("Rehydration callback called",{state:!!e,error:t}),t&&console.error("Rehydration error:",t),setTimeout(()=>{console.log("Setting isHydrated to true"),c.setState({isHydrated:!0})},100)}),version:1}));try{c.persist&&"function"===typeof c.persist.onFinishHydration&&c.persist.onFinishHydration(()=>{c.getState().isHydrated||c.setState({isHydrated:!0})})}catch(u){console.warn("persist.onFinishHydration hook not available:",u)}setTimeout(()=>{c.getState().isHydrated||(console.log("Fallback: Setting isHydrated to true after 1 second"),c.setState({isHydrated:!0}))},1e3);const d=c},736:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(r(374));class s extends n.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:r,type:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="";"plain"===a?n="pl":"phrase"===a?n="ph":"websearch"===a&&(n="w");const s=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(n,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,r]=e;this.url.searchParams.append(t,"eq.".concat(r))}),this}not(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=r?"".concat(r,".or"):"or";return this.url.searchParams.append(a,"(".concat(e,")")),this}filter(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}}t.default=s},750:function(e,t,r){!function(e,t,r){"use strict";function a(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var n=a(t),s=a(r);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function o(e){if(Array.isArray(e))return e}function l(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t){if(null==e)return{};var r,a,n=m(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function m(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;r[a]=e[a]}return r}function f(e,t){return o(e)||c(e,t)||v(e,t)||d()}function g(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function y(e){var t=g(e,"string");return"symbol"==typeof t?t:t+""}function v(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}var b=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],x=function(e,t){var a=e.animationData,i=e.loop,o=e.autoplay,l=e.initialSegment,c=e.onComplete,d=e.onLoopComplete,u=e.onEnterFrame,m=e.onSegmentStart,g=e.onConfigReady,y=e.onDataReady,v=e.onDataFailed,x=e.onLoadedImages,w=e.onDOMLoaded,S=e.onDestroy;e.lottieRef,e.renderer,e.name,e.assetsPath,e.rendererSettings;var k=p(e,b),j=f(r.useState(!1),2),_=j[0],N=j[1],E=r.useRef(),C=r.useRef(null),P=function(){var e;null===(e=E.current)||void 0===e||e.play()},A=function(){var e;null===(e=E.current)||void 0===e||e.stop()},T=function(){var e;null===(e=E.current)||void 0===e||e.pause()},I=function(e){var t;null===(t=E.current)||void 0===t||t.setSpeed(e)},D=function(e,t){var r;null===(r=E.current)||void 0===r||r.goToAndPlay(e,t)},M=function(e,t){var r;null===(r=E.current)||void 0===r||r.goToAndStop(e,t)},F=function(e){var t;null===(t=E.current)||void 0===t||t.setDirection(e)},R=function(e,t){var r;null===(r=E.current)||void 0===r||r.playSegments(e,t)},O=function(e){var t;null===(t=E.current)||void 0===t||t.setSubframe(e)},L=function(e){var t;return null===(t=E.current)||void 0===t?void 0:t.getDuration(e)},B=function(){var e;null===(e=E.current)||void 0===e||e.destroy(),E.current=void 0},z=function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(C.current){null===(t=E.current)||void 0===t||t.destroy();var a=h(h(h({},e),r),{},{container:C.current});return E.current=n.default.loadAnimation(a),N(!!E.current),function(){var e;null===(e=E.current)||void 0===e||e.destroy(),E.current=void 0}}};return r.useEffect(function(){var e=z();return function(){return null===e||void 0===e?void 0:e()}},[a,i]),r.useEffect(function(){E.current&&(E.current.autoplay=!!o)},[o]),r.useEffect(function(){E.current&&(l?Array.isArray(l)&&l.length&&((E.current.currentRawFrame<l[0]||E.current.currentRawFrame>l[1])&&(E.current.currentRawFrame=l[0]),E.current.setSegment(l[0],l[1])):E.current.resetSegments(!0))},[l]),r.useEffect(function(){var e=[{name:"complete",handler:c},{name:"loopComplete",handler:d},{name:"enterFrame",handler:u},{name:"segmentStart",handler:m},{name:"config_ready",handler:g},{name:"data_ready",handler:y},{name:"data_failed",handler:v},{name:"loaded_images",handler:x},{name:"DOMLoaded",handler:w},{name:"destroy",handler:S}].filter(function(e){return null!=e.handler});if(e.length){var t=e.map(function(e){var t;return null===(t=E.current)||void 0===t||t.addEventListener(e.name,e.handler),function(){var t;null===(t=E.current)||void 0===t||t.removeEventListener(e.name,e.handler)}});return function(){t.forEach(function(e){return e()})}}},[c,d,u,m,g,y,v,x,w,S]),{View:s.default.createElement("div",h({style:t,ref:C},k)),play:P,stop:A,pause:T,setSpeed:I,goToAndStop:M,goToAndPlay:D,setDirection:F,playSegments:R,setSubframe:O,getDuration:L,destroy:B,animationContainerRef:C,animationLoaded:_,animationItem:E.current}};function w(e){var t=e.getBoundingClientRect(),r=t.top,a=t.height;return(window.innerHeight-r)/(window.innerHeight+a)}function S(e,t,r){var a=e.getBoundingClientRect(),n=a.top;return{x:(t-a.left)/a.width,y:(r-n)/a.height}}var k=function(e){var t=e.wrapperRef,a=e.animationItem,n=e.mode,s=e.actions;r.useEffect(function(){var e=t.current;if(e&&a&&s.length){a.stop();var r=function(){var t=null,r=function(){var r=w(e),n=s.find(function(e){var t=e.visibility;return t&&r>=t[0]&&r<=t[1]});if(n){if("seek"===n.type&&n.visibility&&2===n.frames.length){var i=n.frames[0]+Math.ceil((r-n.visibility[0])/(n.visibility[1]-n.visibility[0])*n.frames[1]);a.goToAndStop(i-a.firstFrame-1,!0)}"loop"===n.type&&(null===t||t!==n.frames||a.isPaused)&&(a.playSegments(n.frames,!0),t=n.frames),"play"===n.type&&a.isPaused&&(a.resetSegments(!0),a.play()),"stop"===n.type&&a.goToAndStop(n.frames[0]-a.firstFrame-1,!0)}};return document.addEventListener("scroll",r),function(){document.removeEventListener("scroll",r)}},i=function(){var t=function(t,r){var n=t,i=r;if(-1!==n&&-1!==i){var o=S(e,n,i);n=o.x,i=o.y}var l=s.find(function(e){var t=e.position;return t&&Array.isArray(t.x)&&Array.isArray(t.y)?n>=t.x[0]&&n<=t.x[1]&&i>=t.y[0]&&i<=t.y[1]:!(!t||Number.isNaN(t.x)||Number.isNaN(t.y))&&n===t.x&&i===t.y});if(l){if("seek"===l.type&&l.position&&Array.isArray(l.position.x)&&Array.isArray(l.position.y)&&2===l.frames.length){var c=(n-l.position.x[0])/(l.position.x[1]-l.position.x[0]),d=(i-l.position.y[0])/(l.position.y[1]-l.position.y[0]);a.playSegments(l.frames,!0),a.goToAndStop(Math.ceil((c+d)/2*(l.frames[1]-l.frames[0])),!0)}"loop"===l.type&&a.playSegments(l.frames,!0),"play"===l.type&&(a.isPaused&&a.resetSegments(!1),a.playSegments(l.frames)),"stop"===l.type&&a.goToAndStop(l.frames[0],!0)}},r=function(e){t(e.clientX,e.clientY)},n=function(){t(-1,-1)};return e.addEventListener("mousemove",r),e.addEventListener("mouseout",n),function(){e.removeEventListener("mousemove",r),e.removeEventListener("mouseout",n)}};switch(n){case"scroll":return r();case"cursor":return i()}}},[n,a])},j=function(e){var t=e.actions,r=e.mode,a=e.lottieObj,n=a.animationItem,s=a.View,i=a.animationContainerRef;return k({actions:t,animationItem:n,mode:r,wrapperRef:i}),s},_=["style","interactivity"],N=function(e){var t,a,n,s=e.style,i=e.interactivity,o=p(e,_),l=x(o,s),c=l.View,d=l.play,u=l.stop,h=l.pause,m=l.setSpeed,f=l.goToAndStop,g=l.goToAndPlay,y=l.setDirection,v=l.playSegments,b=l.setSubframe,w=l.getDuration,S=l.destroy,k=l.animationContainerRef,N=l.animationLoaded,E=l.animationItem;return r.useEffect(function(){e.lottieRef&&(e.lottieRef.current={play:d,stop:u,pause:h,setSpeed:m,goToAndPlay:g,goToAndStop:f,setDirection:y,playSegments:v,setSubframe:b,getDuration:w,destroy:S,animationContainerRef:k,animationLoaded:N,animationItem:E})},[null===(t=e.lottieRef)||void 0===t?void 0:t.current]),j({lottieObj:{View:c,play:d,stop:u,pause:h,setSpeed:m,goToAndStop:f,goToAndPlay:g,setDirection:y,playSegments:v,setSubframe:b,getDuration:w,destroy:S,animationContainerRef:k,animationLoaded:N,animationItem:E},actions:null!==(a=null===i||void 0===i?void 0:i.actions)&&void 0!==a?a:[],mode:null!==(n=null===i||void 0===i?void 0:i.mode)&&void 0!==n?n:"scroll"})};Object.defineProperty(e,"LottiePlayer",{enumerable:!0,get:function(){return n.default}}),e.default=N,e.useLottie=x,e.useLottieInteractivity=j,Object.defineProperty(e,"__esModule",{value:!0})}(t,r(302),r(43))},772:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,lb:()=>m});var a=r(555),n=r(131);const s=(()=>{if("undefined"!==typeof window){const e=window.location.hostname;return"localhost"===e||"127.0.0.1"===e?"http://localhost:5001":"https://bukizz.in"}return"https://bukizz.in"})(),i="/api/v1",o="".concat(s).concat(i),l="".concat(s,"/api"),c=(0,n.v)((e,t)=>({baseUrl:o,legacyUrl:l,auth:{register:"".concat(o,"/auth/register"),login:"".concat(o,"/auth/login"),logout:"".concat(o,"/auth/logout"),refreshToken:"".concat(o,"/auth/refresh-token"),forgotPassword:"".concat(o,"/auth/forgot-password"),resetPassword:"".concat(o,"/auth/reset-password"),verifyToken:"".concat(o,"/auth/verify-token"),getProfile:"".concat(o,"/auth/me")},users:{profile:"".concat(o,"/users/profile"),addresses:"".concat(o,"/users/addresses"),addressById:e=>"".concat(o,"/users/addresses/").concat(e),preferences:"".concat(o,"/users/preferences"),stats:"".concat(o,"/users/stats"),verifyEmail:"".concat(o,"/users/verify-email"),verifyEmailConfirm:"".concat(o,"/users/verify-email/confirm"),verifyPhone:"".concat(o,"/users/verify-phone"),deactivateAccount:"".concat(o,"/users/account"),admin:{search:"".concat(o,"/users/admin/search"),export:"".concat(o,"/users/admin/export"),getUserById:e=>"".concat(o,"/users/admin/").concat(e),updateRole:e=>"".concat(o,"/users/admin/").concat(e,"/role"),reactivateAccount:e=>"".concat(o,"/users/admin/").concat(e,"/reactivate"),bulkUpdate:"".concat(o,"/users/bulk-update")},legacy:{profile:"".concat(l,"/users/profile"),addresses:"".concat(l,"/users/addresses"),addressById:e=>"".concat(l,"/users/addresses/").concat(e),preferences:"".concat(l,"/users/preferences"),stats:"".concat(l,"/users/stats"),verifyEmail:"".concat(l,"/users/verify-email")}},products:{search:"".concat(o,"/products"),featured:"".concat(o,"/products/featured"),stats:"".concat(o,"/products/stats"),getById:e=>"".concat(o,"/products/").concat(e),availability:e=>"".concat(o,"/products/").concat(e,"/availability"),options:e=>"".concat(o,"/products/").concat(e,"/options"),variants:e=>"".concat(o,"/products/").concat(e,"/variants"),byCategory:e=>"".concat(o,"/products/category/").concat(e),byCategoryId:e=>"".concat(o,"/products/category/").concat(e),byBrand:e=>"".concat(o,"/products/brand/").concat(e),byType:e=>"".concat(o,"/products/type/").concat(e),bySchool:e=>"".concat(o,"/products/school/").concat(e),variantSearch:"".concat(o,"/products/variants/search"),getVariant:e=>"".concat(o,"/products/variants/").concat(e),admin:{create:"".concat(o,"/products"),update:e=>"".concat(o,"/products/").concat(e),updateComprehensive:e=>"".concat(o,"/products/").concat(e,"/comprehensive"),delete:e=>"".concat(o,"/products/").concat(e),bulkUpdate:"".concat(o,"/products/bulk-update"),addOption:e=>"".concat(o,"/products/").concat(e,"/options"),addOptionValue:e=>"".concat(o,"/products/options/").concat(e,"/values"),createVariant:e=>"".concat(o,"/products/").concat(e,"/variants"),updateVariant:e=>"".concat(o,"/products/variants/").concat(e),deleteVariant:e=>"".concat(o,"/products/variants/").concat(e),updateVariantStock:e=>"".concat(o,"/products/variants/").concat(e,"/stock"),bulkUpdateVariantStock:"".concat(o,"/products/variants/bulk-stock-update")}},schools:{search:"".concat(o,"/schools"),popular:"".concat(o,"/schools/popular"),nearby:"".concat(o,"/schools/nearby"),stats:"".concat(o,"/schools/stats"),getById:e=>"".concat(o,"/schools/").concat(e),analytics:e=>"".concat(o,"/schools/").concat(e,"/analytics"),catalog:e=>"".concat(o,"/schools/").concat(e,"/catalog"),byCity:e=>"".concat(o,"/schools/city/").concat(e),validate:"".concat(o,"/schools/validate"),admin:{create:"".concat(o,"/schools"),update:e=>"".concat(o,"/schools/").concat(e),delete:e=>"".concat(o,"/schools/").concat(e),reactivate:e=>"".concat(o,"/schools/").concat(e,"/reactivate"),bulkImport:"".concat(o,"/schools/bulk-import"),associateProduct:(e,t)=>"".concat(o,"/schools/").concat(e,"/products/").concat(t),updateProductAssociation:(e,t,r)=>"".concat(o,"/schools/").concat(e,"/products/").concat(t,"/").concat(r),removeProductAssociation:(e,t)=>"".concat(o,"/schools/").concat(e,"/products/").concat(t),createPartnership:e=>"".concat(o,"/schools/").concat(e,"/partnerships")}},categories:{getAll:"".concat(o,"/categories"),getById:e=>"".concat(o,"/categories/").concat(e),getBySlug:e=>"".concat(o,"/categories/slug/").concat(e),admin:{create:"".concat(o,"/categories"),update:e=>"".concat(o,"/categories/").concat(e),delete:e=>"".concat(o,"/categories/").concat(e)}},pincodes:{check:e=>"".concat(o,"/pincodes/check/").concat(e)},orders:{getAll:"".concat(o,"/orders"),create:"".concat(o,"/orders"),getById:e=>"".concat(o,"/orders/").concat(e),cancel:e=>"".concat(o,"/orders/").concat(e,"/cancel"),calculate:"".concat(o,"/orders/calculate"),stats:"".concat(o,"/orders/stats"),tracking:e=>"".concat(o,"/orders/").concat(e,"/tracking"),createQuery:e=>"".concat(o,"/orders/").concat(e,"/queries"),getQueries:e=>"".concat(o,"/orders/").concat(e,"/queries"),cart:"".concat(o,"/orders/cart"),addToCart:"".concat(o,"/orders/cart/items"),admin:{search:"".concat(o,"/orders/search"),updateStatus:e=>"".concat(o,"/orders/").concat(e,"/status"),updatePayment:e=>"".concat(o,"/orders/").concat(e,"/payment"),bulkUpdate:"".concat(o,"/orders/bulk-update")}},payments:{createOrder:"".concat(o,"/payments/create-order"),verify:"".concat(o,"/payments/verify"),failure:"".concat(o,"/payments/failure")},getBasicHeaders:()=>({"Content-Type":"application/json"}),getAuthHeaders:()=>{const e=localStorage.getItem("custom_token");return(0,a.A)({"Content-Type":"application/json"},e&&{Authorization:"Bearer ".concat(e)})},apiCall:async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const o=(0,a.A)({headers:t().getAuthHeaders()},n);console.log("Making API call to: ".concat(e));const l=await fetch(e,o);if(401===l.status&&!s){console.log("Received 401, attempting token refresh...");try{const s=(await Promise.resolve().then(r.bind(r,723))).default.getState();await s.refreshToken(),console.log("Token refreshed successfully, retrying original request...");const i=(0,a.A)((0,a.A)({},n),{},{headers:(0,a.A)((0,a.A)({},n.headers),t().getAuthHeaders())});return t().apiCall(e,i,!0)}catch(i){console.error("Token refresh failed:",i);const e=await l.json().catch(()=>({}));throw new Error(e.message||"Please refresh your token")}}if(!l.ok){const e=await l.json().catch(()=>({}));throw new Error(e.message||"HTTP ".concat(l.status,": ").concat(l.statusText))}return await l.json()}catch(o){throw console.error("API call failed:",o),o}},get:async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=Object.keys(r).length>0?t().buildUrlWithParams(e,r):e;return t().apiCall(a,{method:"GET"})},post:async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t().apiCall(e,{method:"POST",body:JSON.stringify(r)})},put:async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t().apiCall(e,{method:"PUT",body:JSON.stringify(r)})},delete:async e=>t().apiCall(e,{method:"DELETE"}),getAllRoutes:()=>{const e=t();return{auth:e.auth,users:e.users,products:e.products,schools:e.schools,orders:e.orders}},getPublicRoutes:()=>{const e=t();return{auth:{register:e.auth.register,login:e.auth.login,forgotPassword:e.auth.forgotPassword,resetPassword:e.auth.resetPassword,verifyToken:e.auth.verifyToken},products:{search:e.products.search,featured:e.products.featured,getById:e.products.getById,availability:e.products.availability,byCategory:e.products.byCategory,byBrand:e.products.byBrand,byType:e.products.byType,bySchool:e.products.bySchool},schools:{search:e.schools.search,popular:e.schools.popular,nearby:e.schools.nearby,getById:e.schools.getById,catalog:e.schools.catalog,byCity:e.schools.byCity}}},getProtectedRoutes:()=>{const e=t();return{auth:{logout:e.auth.logout,getProfile:e.auth.getProfile},users:e.users,orders:e.orders}},updateBaseUrl:t=>{const r="".concat(t).concat(i);e({baseUrl:r,auth:{register:"".concat(r,"/auth/register"),login:"".concat(r,"/auth/login"),logout:"".concat(r,"/auth/logout"),refreshToken:"".concat(r,"/auth/refresh-token"),forgotPassword:"".concat(r,"/auth/forgot-password"),resetPassword:"".concat(r,"/auth/reset-password"),verifyToken:"".concat(r,"/auth/verify-token"),getProfile:"".concat(r,"/auth/me")}})},checkApiHealth:async()=>{try{return(await fetch("".concat(s,"/health"))).ok}catch(e){return console.error("API health check failed:",e),!1}}})),d=c,{auth:u,users:h,products:p,schools:m,orders:f}=c.getState()},799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function n(e,t,a){var n=null;if(void 0!==a&&(n=""+a),void 0!==t.key&&(n=""+t.key),"key"in t)for(var s in a={},t)"key"!==s&&(a[s]=t[s]);else a=t;return t=a.ref,{$$typeof:r,type:e,key:n,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=n,t.jsxs=n},829:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(r(736));t.default=class{constructor(e,t){let{headers:r={},schema:a,fetch:n}=t;this.url=e,this.headers=new Headers(r),this.schema=a,this.fetch=n}select(e){let{head:t=!1,count:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t?"HEAD":"GET";let s=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer","count=".concat(r)),new n.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a;if(t&&this.headers.append("Prefer","count=".concat(t)),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:a,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i;if(this.headers.append("Prefer","resolution=".concat(r?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),a&&this.headers.append("Prefer","count=".concat(a)),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return t&&this.headers.append("Prefer","count=".concat(t)),new n.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new n.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},853:(e,t,r)=>{"use strict";e.exports=r(896)},896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var a=r-1>>>1,n=e[a];if(!(0<s(n,t)))break e;e[a]=t,e[r]=n,r=a}}function a(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var a=0,n=e.length,i=n>>>1;a<i;){var o=2*(a+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,r))c<n&&0>s(d,l)?(e[a]=d,e[c]=r,a=c):(e[a]=l,e[o]=r,a=o);else{if(!(c<n&&0>s(d,r)))break e;e[a]=d,e[c]=r,a=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,f=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=a(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,r(c,t)}t=a(d)}}function S(e){if(g=!1,w(e),!f)if(null!==a(c))f=!0,j||(j=!0,k());else{var t=a(d);null!==t&&I(S,t.startTime-e)}}var k,j=!1,_=-1,N=5,E=-1;function C(){return!!y||!(t.unstable_now()-E<N)}function P(){if(y=!1,j){var e=t.unstable_now();E=e;var r=!0;try{e:{f=!1,g&&(g=!1,b(_),_=-1),m=!0;var s=p;try{t:{for(w(e),h=a(c);null!==h&&!(h.expirationTime>e&&C());){var i=h.callback;if("function"===typeof i){h.callback=null,p=h.priorityLevel;var o=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),r=!0;break t}h===a(c)&&n(c),w(e)}else n(c);h=a(c)}if(null!==h)r=!0;else{var l=a(d);null!==l&&I(S,l.startTime-e),r=!1}}break e}finally{h=null,p=s,m=!1}r=void 0}}finally{r?k():j=!1}}}if("function"===typeof x)k=function(){x(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,T=A.port2;A.port1.onmessage=P,k=function(){T.postMessage(null)}}else k=function(){v(P,0)};function I(e,r){_=v(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,n,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,r(d,e),null===a(c)&&e===a(d)&&(g?(b(_),_=-1):g=!0,I(S,s-i))):(e.sortIndex=o,r(c,e),f||m||(f=!0,j||(j=!0,k()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(672)},980:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const n=a(r(210));t.PostgrestClient=n.default;const s=a(r(829));t.PostgrestQueryBuilder=s.default;const i=a(r(736));t.PostgrestFilterBuilder=i.default;const o=a(r(374));t.PostgrestTransformBuilder=o.default;const l=a(r(286));t.PostgrestBuilder=l.default;const c=a(r(611));t.PostgrestError=c.default,t.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(43),t=__webpack_require__(391);function r(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var a=__webpack_require__(555);const n=["sri"],s=["page"],i=["page","matches"],o=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],l=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],c=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var d="popstate";function u(){return v(function(e,t){let{pathname:r,search:a,hash:n}=e.location;return f("",{pathname:r,search:a,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:g(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function p(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return(0,a.A)((0,a.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t),{},{state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)})}function g(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function y(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function v(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",c=null,u=h();function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let e=h(),t=null==e?null:e-u;u=e,c&&c({action:l,location:y.location,delta:t})}function g(e){return b(e)}null==u&&(u=0,o.replaceState((0,a.A)((0,a.A)({},o.state),{},{idx:u}),""));let y={get action(){return l},get location(){return e(s,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(d,p),c=e,()=>{s.removeEventListener(d,p),c=null}},createHref:e=>t(s,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let a=f(y.location,e,t);r&&r(a,e),u=h()+1;let n=m(a,u),d=y.createHref(a);try{o.pushState(n,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;s.location.assign(d)}i&&c&&c({action:l,location:y.location,delta:1})},replace:function(e,t){l="REPLACE";let a=f(y.location,e,t);r&&r(a,e),u=h();let n=m(a,u),s=y.createHref(a);o.replaceState(n,"",s),i&&c&&c({action:l,location:y.location,delta:0})},go:e=>o.go(e)};return y}function b(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),h(r,"No window.location.(origin|href) available to create URL");let a="string"===typeof e?e:g(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}new WeakMap;function x(e,t){return w(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function w(e,t,r,a){let n=R(("string"===typeof t?y(t):t).pathname||"/",r);if(null==n)return null;let s=S(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=F(n);i=I(s[o],e,a)}return i}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(a)&&i)return;h(l.relativePath.startsWith(a),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(a,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(a.length)}let c=V([a,l.relativePath]),d=r.concat(l);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),S(e.children,t,d,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:T(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!==(r=e.path)&&void 0!==r&&r.includes("?"))for(let a of k(e.path))s(e,t,!0,a);else s(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[r,...a]=t,n=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===a.length)return n?[s,""]:[s];let i=k(a.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),n&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var j=/^:[\w-]+$/,_=3,N=2,E=1,C=10,P=-2,A=e=>"*"===e;function T(e,t){let r=e.split("/"),a=r.length;return r.some(A)&&(a+=P),t&&(a+=N),r.filter(e=>!A(e)).reduce((e,t)=>e+(j.test(t)?_:""===t?E:C),a)}function I(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:a}=e,n={},s="/",i=[];for(let o=0;o<a.length;++o){let e=a[o],l=o===a.length-1,c="/"===s?t:t.slice(s.length)||"/",d=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!a[a.length-1].route.index&&(d=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),i.push({params:n,pathname:V([s,d.pathname]),pathnameBase:U(V([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=V([s,d.pathnameBase]))}return i}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=M(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let s=n[0],i=s.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((e,t,r)=>{let{paramName:a,isOptional:n}=t;if("*"===a){let e=o[r]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[a]=n&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function M(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];p("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(a.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function F(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return p(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&"/"!==a?null:e.slice(r)||"/"}function O(e,t,r,a){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(a),"].  Please separate it out to the `to.").concat(r,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function B(e){let t=L(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function z(e,t,r){let n,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=y(e):(n=(0,a.A)({},e),h(!n.pathname||!n.pathname.includes("?"),O("?","pathname","search",n)),h(!n.pathname||!n.pathname.includes("#"),O("#","pathname","hash",n)),h(!n.search||!n.search.includes("#"),O("#","search","hash",n)));let i,o=""===e||""===n.pathname,l=o?"/":n.pathname;if(null==l)i=r;else{let e=t.length-1;if(!s&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:a="",hash:n=""}="string"===typeof e?y(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:H(a),hash:G(n)}}(n,i),d=l&&"/"!==l&&l.endsWith("/"),u=(o||"."===l)&&r.endsWith("/");return c.pathname.endsWith("/")||!d&&!u||(c.pathname+="/"),c}var V=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",G=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var W=["POST","PUT","PATCH","DELETE"],Y=(new Set(W),["GET",...W]);new Set(Y),Symbol("ResetLoaderData");var $=e.createContext(null);$.displayName="DataRouter";var K=e.createContext(null);K.displayName="DataRouterState";var J=e.createContext(!1);var Q=e.createContext({isTransitioning:!1});Q.displayName="ViewTransition";var X=e.createContext(new Map);X.displayName="Fetchers";var Z=e.createContext(null);Z.displayName="Await";var ee=e.createContext(null);ee.displayName="Navigation";var te=e.createContext(null);te.displayName="Location";var re=e.createContext({outlet:null,matches:[],isDataRoute:!1});re.displayName="Route";var ae=e.createContext(null);ae.displayName="RouteError";function ne(){return null!=e.useContext(te)}function se(){return h(ne(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(te).location}var ie="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oe(t){e.useContext(ee).static||e.useLayoutEffect(t)}function le(){let{isDataRoute:t}=e.useContext(re);return t?function(){let{router:t}=ve("useNavigate"),r=xe("useNavigate"),n=e.useRef(!1);oe(()=>{n.current=!0});let s=e.useCallback(async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(n.current,ie),n.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,(0,a.A)({fromRouteId:r},s)))},[t,r]);return s}():function(){h(ne(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext($),{basename:r,navigator:a}=e.useContext(ee),{matches:n}=e.useContext(re),{pathname:s}=se(),i=JSON.stringify(B(n)),o=e.useRef(!1);oe(()=>{o.current=!0});let l=e.useCallback(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(p(o.current,ie),!o.current)return;if("number"===typeof e)return void a.go(e);let l=z(e,JSON.parse(i),s,"path"===n.relative);null==t&&"/"!==r&&(l.pathname="/"===l.pathname?r:V([r,l.pathname])),(n.replace?a.replace:a.push)(l,n.state,n)},[r,a,i,s,t]);return l}()}e.createContext(null);function ce(){let{matches:t}=e.useContext(re),r=t[t.length-1];return r?r.params:{}}function de(t){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:a}=e.useContext(re),{pathname:n}=se(),s=JSON.stringify(B(a));return e.useMemo(()=>z(t,JSON.parse(s),n,"path"===r),[t,s,n,r])}function ue(t,r,n,s,i){h(ne(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=e.useContext(ee),{matches:l}=e.useContext(re),c=l[l.length-1],d=c?c.params:{},u=c?c.pathname:"/",m=c?c.pathnameBase:"/",f=c&&c.route;{let e=f&&f.path||"";ke(u,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let g,v=se();if(r){var b;let e="string"===typeof r?y(r):r;h("/"===m||(null===(b=e.pathname)||void 0===b?void 0:b.startsWith(m)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(m,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),g=e}else g=v;let w=g.pathname||"/",S=w;if("/"!==m){let e=m.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let k=x(t,{pathname:S});p(f||null!=k,'No routes matched location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" ')),p(null==k||void 0!==k[k.length-1].route.element||void 0!==k[k.length-1].route.Component||void 0!==k[k.length-1].route.lazy,'Matched leaf route at location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let j=ge(k&&k.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:V([m,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:V([m,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,s,i);return r&&j?e.createElement(te.Provider,{value:{location:(0,a.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:"POP"}},j):j}function he(){let t=we(),r=q(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:i},"ErrorBoundary")," or"," ",e.createElement("code",{style:i},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},r),a?e.createElement("pre",{style:s},a):null,o)}var pe=e.createElement(he,null),me=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?e.createElement(re.Provider,{value:this.props.routeContext},e.createElement(ae.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fe(t){let{routeContext:r,match:a,children:n}=t,s=e.useContext($);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),e.createElement(re.Provider,{value:r},n)}function ge(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==t){if(!a)return null;if(a.errors)t=a.matches;else{if(0!==r.length||a.initialized||!(a.matches.length>0))return null;t=a.matches}}let s=t,i=null===a||void 0===a?void 0:a.errors;if(null!=i){let e=s.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));h(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let o=!1,l=-1;if(a)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:r}=a,n=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||n){o=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((t,c,d)=>{let u,h=!1,p=null,m=null;a&&(u=i&&c.route.id?i[c.route.id]:void 0,p=c.route.errorElement||pe,o&&(l<0&&0===d?(ke("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):l===d&&(h=!0,m=c.route.hydrateFallbackElement||null)));let f=r.concat(s.slice(0,d+1)),g=()=>{let r;return r=u?p:h?m:c.route.Component?e.createElement(c.route.Component,null):c.route.element?c.route.element:t,e.createElement(fe,{match:c,routeContext:{outlet:t,matches:f,isDataRoute:null!=a},children:r})};return a&&(c.route.ErrorBoundary||c.route.errorElement||0===d)?e.createElement(me,{location:a.location,revalidation:a.revalidation,component:p,error:u,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0},unstable_onError:n}):g()},null)}function ye(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ve(t){let r=e.useContext($);return h(r,ye(t)),r}function be(t){let r=e.useContext(K);return h(r,ye(t)),r}function xe(t){let r=function(t){let r=e.useContext(re);return h(r,ye(t)),r}(t),a=r.matches[r.matches.length-1];return h(a.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),a.route.id}function we(){var t;let r=e.useContext(ae),a=be("useRouteError"),n=xe("useRouteError");return void 0!==r?r:null===(t=a.errors)||void 0===t?void 0:t[n]}var Se={};function ke(e,t,r){t||Se[e]||(Se[e]=!0,p(!1,r))}var je={};function _e(e,t){e||je[t]||(je[t]=!0,console.warn(t))}e.memo(function(e){let{routes:t,future:r,state:a,unstable_onError:n}=e;return ue(t,void 0,a,n,r)});function Ne(e){h(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ee(t){let{basename:r="/",children:a=null,location:n,navigationType:s="POP",navigator:i,static:o=!1}=t;h(!ne(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=e.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);"string"===typeof n&&(n=y(n));let{pathname:d="/",search:u="",hash:m="",state:f=null,key:g="default"}=n,v=e.useMemo(()=>{let e=R(d,l);return null==e?null:{location:{pathname:e,search:u,hash:m,state:f,key:g},navigationType:s}},[l,d,u,m,f,g,s]);return p(null!=v,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(u).concat(m,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==v?null:e.createElement(ee.Provider,{value:c},e.createElement(te.Provider,{children:a,value:v}))}function Ce(e){let{children:t,location:r}=e;return ue(Pe(t),r)}e.Component;function Pe(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[];return e.Children.forEach(t,(t,n)=>{if(!e.isValidElement(t))return;let s=[...r,n];if(t.type===e.Fragment)return void a.push.apply(a,Pe(t.props.children,s));h(t.type===Ne,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),h(!t.props.index||!t.props.children,"An index route cannot have child routes.");let i={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(i.children=Pe(t.props.children,s)),a.push(i)}),a}var Ae="get",Te="application/x-www-form-urlencoded";function Ie(e){return null!=e&&"string"===typeof e.tagName}function De(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(e=>[r,e]):[[r,a]])},[]))}var Me=null;var Fe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Re(e){return null==e||Fe.has(e)?e:(p(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Te,'"')),null)}function Oe(e,t){let r,a,n,s,i;if(Ie(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");a=i?R(i,t):null,r=e.getAttribute("method")||Ae,n=Re(e.getAttribute("enctype"))||Te,s=new FormData(e)}else if(function(e){return Ie(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ie(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(a=o?R(o,t):null,r=e.getAttribute("formmethod")||i.getAttribute("method")||Ae,n=Re(e.getAttribute("formenctype"))||Re(i.getAttribute("enctype"))||Te,s=new FormData(i,e),!function(){if(null===Me)try{new FormData(document.createElement("form"),0),Me=!1}catch(e){Me=!0}return Me}()){let{name:t,type:r,value:a}=e;if("image"===r){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,a)}}else{if(Ie(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ae,a=null,n=Te,i=e}var o;return s&&"text/plain"===n&&(i=s,s=void 0),{action:a,method:r.toLowerCase(),encType:n,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Le(e){return{__html:e}}function Be(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function ze(e,t,r){let a="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===a.pathname?a.pathname="_root.".concat(r):t&&"/"===R(a.pathname,t)?a.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(r):a.pathname="".concat(a.pathname.replace(/\/$/,""),".").concat(r),a}async function Ve(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ue(e){return null!=e&&"string"===typeof e.page}function He(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ge(e,t,r,a,n,s){let i=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>{var a;return r[t].pathname!==e.pathname||(null===(a=r[t].route.path)||void 0===a?void 0:a.endsWith("*"))&&r[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=a.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let a=t.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:(null===(c=r[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof a)return a}return!0}):[]}function qe(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a=e.map(e=>{let a=t.routes[e.route.id];if(!a)return[];let n=[a.module];return a.clientActionModule&&(n=n.concat(a.clientActionModule)),a.clientLoaderModule&&(n=n.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(n=n.concat(a.hydrateFallbackModule)),a.imports&&(n=n.concat(a.imports)),n}).flat(1),[...new Set(a)];var a}function We(e,t){let r=new Set,a=new Set(t);return e.reduce((e,n)=>{if(t&&!Ue(n)&&"script"===n.as&&n.href&&a.has(n.href))return e;let s=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}(n));return r.has(s)||(r.add(s),e.push({key:s,link:n})),e},[])}function Ye(e,t){return"lazy"===e.mode&&!0===t}function $e(){let t=e.useContext($);return Be(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ke(){let t=e.useContext(K);return Be(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Je=e.createContext(void 0);function Qe(){let t=e.useContext(Je);return Be(t,"You must render this element inside a <HydratedRouter> element"),t}function Xe(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Ze(e,t,r){if(r&&!at)return[e[0]];if(t){let r=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,r+1)}return e}Je.displayName="FrameworkContext";function et(t){let{page:n}=t,i=r(t,s),{router:o}=$e(),l=e.useMemo(()=>x(o.routes,n,o.basename),[o.routes,n,o.basename]);return l?e.createElement(rt,(0,a.A)({page:n,matches:l},i)):null}function tt(t){let{manifest:r,routeModules:n}=Qe(),[s,i]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,r){return We((await Promise.all(e.map(async e=>{let a=t.routes[e.route.id];if(a){let e=await Ve(a,r);return e.links?e.links():[]}return[]}))).flat(1).filter(He).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,a.A)((0,a.A)({},e),{},{rel:"prefetch",as:"style"}):(0,a.A)((0,a.A)({},e),{},{rel:"prefetch"})))}(t,r,n).then(t=>{e||i(t)}),()=>{e=!0}},[t,r,n]),s}function rt(t){let{page:n,matches:s}=t,o=r(t,i),l=se(),{manifest:c,routeModules:d}=Qe(),{basename:u}=$e(),{loaderData:h,matches:p}=Ke(),m=e.useMemo(()=>Ge(n,s,p,c,l,"data"),[n,s,p,c,l]),f=e.useMemo(()=>Ge(n,s,p,c,l,"assets"),[n,s,p,c,l]),g=e.useMemo(()=>{if(n===l.pathname+l.search+l.hash)return[];let e=new Set,t=!1;if(s.forEach(r=>{var a;let n=c.routes[r.route.id];n&&n.hasLoader&&(!m.some(e=>e.route.id===r.route.id)&&r.route.id in h&&null!==(a=d[r.route.id])&&void 0!==a&&a.shouldRevalidate||n.hasClientLoader?t=!0:e.add(r.route.id))}),0===e.size)return[];let r=ze(n,u,"data");return t&&e.size>0&&r.searchParams.set("_routes",s.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[u,h,l,c,m,s,n,d]),y=e.useMemo(()=>qe(f,c),[f,c]),v=tt(f);return e.createElement(e.Fragment,null,g.map(t=>e.createElement("link",(0,a.A)({key:t,rel:"prefetch",as:"fetch",href:t},o))),y.map(t=>e.createElement("link",(0,a.A)({key:t,rel:"modulepreload",href:t},o))),v.map(t=>{let{key:r,link:n}=t;return e.createElement("link",(0,a.A)({key:r,nonce:o.nonce},n))}))}var at=!1;function nt(t){let{manifest:s,serverHandoffString:i,isSpaMode:o,renderMeta:l,routeDiscovery:c,ssr:d}=Qe(),{router:u,static:h,staticContext:p}=$e(),{matches:m}=Ke(),f=e.useContext(J),g=Ye(c,d);l&&(l.didRenderScripts=!0);let y=Ze(m,null,o);e.useEffect(()=>{at=!0},[]);let v=e.useMemo(()=>{var o;if(f)return null;let l=p?"window.__reactRouterContext = ".concat(i,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=h?"".concat(null!==(o=s.hmr)&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(s.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(s.url)),";\n").concat(y.map((e,t)=>{let r="route".concat(t),a=s.routes[e.route.id];Be(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:n,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,d=[...n?[{module:n,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===d.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:s}=e,i=r(e,n),o=new Set(t.state.matches.map(e=>e.route.id)),l=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(l.pop();l.length>0;)c.push("/".concat(l.join("/"))),l.pop();c.forEach(e=>{let r=x(t.routes,e,t.basename);r&&r.forEach(e=>o.add(e.route.id))});let d=[...o].reduce((e,t)=>Object.assign(e,{[t]:i.routes[t]}),{});return(0,a.A)((0,a.A)({},i),{},{routes:d,sri:!!s||void 0})}(s,u),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(s.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",(0,a.A)((0,a.A)({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Le(l),type:void 0})),e.createElement("script",(0,a.A)((0,a.A)({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Le(c),type:"module",async:!0})))},[]),b=at||f?[]:(w=s.entry.imports.concat(qe(y,s,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let S="object"===typeof s.sri?s.sri:{};return _e(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),at||f?null:e.createElement(e.Fragment,null,"object"===typeof s.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:S})}}):null,g?null:e.createElement("link",{rel:"modulepreload",href:s.url,crossOrigin:t.crossOrigin,integrity:S[s.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:s.entry.module,crossOrigin:t.crossOrigin,integrity:S[s.entry.module],suppressHydrationWarning:!0}),b.map(r=>e.createElement("link",{key:r,rel:"modulepreload",href:r,crossOrigin:t.crossOrigin,integrity:S[r],suppressHydrationWarning:!0})),v)}function st(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function it(t){let{error:r,isOutsideRemixApp:a}=t;console.error(r);let n,s=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(q(r))return e.createElement(ot,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},r.status," ",r.statusText),s);if(r instanceof Error)n=r;else{let e=null==r?"Unknown Error":"object"===typeof r&&"toString"in r?r.toString():JSON.stringify(r);n=new Error(e)}return e.createElement(ot,{title:"Application Error!",isOutsideRemixApp:a},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},n.stack),s)}function ot(t){var r;let{title:a,renderScripts:n,isOutsideRemixApp:s,children:i}=t,{routeModules:o}=Qe();return null!==(r=o.root)&&void 0!==r&&r.Layout&&!s?i:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,a)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?e.createElement(nt,null):null)))}var lt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{lt&&(window.__reactRouterVersion="7.8.2")}catch(yi){}function ct(t){let{basename:r,children:a,window:n}=t,s=e.useRef();null==s.current&&(s.current=u({window:n,v5Compat:!0}));let i=s.current,[o,l]=e.useState({action:i.action,location:i.location}),c=e.useCallback(t=>{e.startTransition(()=>l(t))},[l]);return e.useLayoutEffect(()=>i.listen(c),[i,c]),e.createElement(Ee,{basename:r,children:a,location:o.location,navigationType:o.action,navigator:i})}var dt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ut=e.forwardRef(function(t,n){let s,{onClick:i,discover:l="render",prefetch:c="none",relative:d,reloadDocument:u,replace:m,state:f,target:y,to:v,preventScrollReset:b,viewTransition:x}=t,w=r(t,o),{basename:S}=e.useContext(ee),k="string"===typeof v&&dt.test(v),j=!1;if("string"===typeof v&&k&&(s=v,lt))try{let e=new URL(window.location.href),t=v.startsWith("//")?new URL(e.protocol+v):new URL(v),r=R(t.pathname,S);t.origin===e.origin&&null!=r?v=r+t.search+t.hash:j=!0}catch(yi){p(!1,'<Link to="'.concat(v,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let _=function(t){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(ne(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=e.useContext(ee),{hash:s,pathname:i,search:o}=de(t,{relative:r}),l=i;return"/"!==a&&(l="/"===i?a:V([a,i])),n.createHref({pathname:l,search:o,hash:s})}(v,{relative:d}),[N,E,C]=function(t,r){let a=e.useContext(Je),[n,s]=e.useState(!1),[i,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=r,p=e.useRef(null);e.useEffect(()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(n){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[n]);let m=()=>{s(!0)},f=()=>{s(!1),o(!1)};return a?"intent"!==t?[i,p,{}]:[i,p,{onFocus:Xe(l,m),onBlur:Xe(c,f),onMouseEnter:Xe(d,m),onMouseLeave:Xe(u,f),onTouchStart:Xe(h,m)}]:[!1,p,{}]}(c,w),P=function(t){let{target:r,replace:a,state:n,preventScrollReset:s,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=le(),c=se(),d=de(t,{relative:i});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,r)){e.preventDefault();let r=void 0!==a?a:g(c)===g(d);l(t,{replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,d,a,n,r,t,s,i,o])}(v,{replace:m,state:f,target:y,preventScrollReset:b,relative:d,viewTransition:x});let A=e.createElement("a",(0,a.A)((0,a.A)((0,a.A)({},w),C),{},{href:s||_,onClick:j||u?i:function(e){i&&i(e),e.defaultPrevented||P(e)},ref:st(n,E),target:y,"data-discover":k||"render"!==l?void 0:"true"}));return N&&!k?e.createElement(e.Fragment,null,A,e.createElement(et,{page:_})):A});ut.displayName="Link",e.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:i=!1,className:o="",end:c=!1,style:d,to:u,viewTransition:p,children:m}=t,f=r(t,l),g=de(u,{relative:f.relative}),y=se(),v=e.useContext(K),{navigator:b,basename:x}=e.useContext(ee),w=null!=v&&function(t){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.useContext(Q);h(null!=a,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=mt("useViewTransitionState"),s=de(t,{relative:r});if(!a.isTransitioning)return!1;let i=R(a.currentLocation.pathname,n)||a.currentLocation.pathname,o=R(a.nextLocation.pathname,n)||a.nextLocation.pathname;return null!=D(s.pathname,o)||null!=D(s.pathname,i)}(g)&&!0===p,S=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,k=y.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(k=k.toLowerCase(),j=j?j.toLowerCase():null,S=S.toLowerCase()),j&&x&&(j=R(j,x)||j);const _="/"!==S&&S.endsWith("/")?S.length-1:S.length;let N,E=k===S||!c&&k.startsWith(S)&&"/"===k.charAt(_),C=null!=j&&(j===S||!c&&j.startsWith(S)&&"/"===j.charAt(S.length)),P={isActive:E,isPending:C,isTransitioning:w},A=E?s:void 0;N="function"===typeof o?o(P):[o,E?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof d?d(P):d;return e.createElement(ut,(0,a.A)((0,a.A)({},f),{},{"aria-current":A,className:N,ref:n,style:T,to:u,viewTransition:p}),"function"===typeof m?m(P):m)}).displayName="NavLink";var ht=e.forwardRef((t,n)=>{let{discover:s="render",fetcherKey:i,navigate:o,reloadDocument:l,replace:d,state:u,method:p=Ae,action:m,onSubmit:f,relative:y,preventScrollReset:v,viewTransition:b}=t,x=r(t,c),w=vt(),S=function(t){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=e.useContext(ee),s=e.useContext(re);h(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),o=(0,a.A)({},de(t||".",{relative:r})),l=se();if(null==t){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();o.search=r?"?".concat(r):""}}t&&"."!==t||!i.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:V([n,o.pathname]));return g(o)}(m,{relative:y}),k="get"===p.toLowerCase()?"get":"post",j="string"===typeof m&&dt.test(m);return e.createElement("form",(0,a.A)((0,a.A)({ref:n,method:k,action:S,onSubmit:l?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||p;w(t||e.currentTarget,{fetcherKey:i,method:r,navigate:o,replace:d,state:u,relative:y,preventScrollReset:v,viewTransition:b})}},x),{},{"data-discover":j||"render"!==s?void 0:"true"}))});function pt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function mt(t){let r=e.useContext($);return h(r,pt(t)),r}function ft(t){p("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=e.useRef(De(t)),a=e.useRef(!1),n=se(),s=e.useMemo(()=>function(e,t){let r=De(e);return t&&t.forEach((e,a)=>{r.has(a)||t.getAll(a).forEach(e=>{r.append(a,e)})}),r}(n.search,a.current?null:r.current),[n.search]),i=le(),o=e.useCallback((e,t)=>{const r=De("function"===typeof e?e(new URLSearchParams(s)):e);a.current=!0,i("?"+r,t)},[i,s]);return[s,o]}ht.displayName="Form";var gt=0,yt=()=>"__".concat(String(++gt),"__");function vt(){let{router:t}=mt("useSubmit"),{basename:r}=e.useContext(ee),a=xe("useRouteId");return e.useCallback(async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:i,encType:o,formData:l,body:c}=Oe(e,r);if(!1===n.navigate){let e=n.fetcherKey||yt();await t.fetch(e,a,n.action||s,{preventScrollReset:n.preventScrollReset,formData:l,body:c,formMethod:n.method||i,formEncType:n.encType||o,flushSync:n.flushSync})}else await t.navigate(n.action||s,{preventScrollReset:n.preventScrollReset,formData:l,body:c,formMethod:n.method||i,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[t,r,a])}const bt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},xt=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var wt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const St=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],kt=(0,e.forwardRef)((t,n)=>{let{color:s="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:u}=t,h=r(t,St);return(0,e.createElement)("svg",(0,a.A)((0,a.A)((0,a.A)({ref:n},wt),{},{width:i,height:i,stroke:s,strokeWidth:l?24*Number(o)/Number(i):o,className:xt("lucide",c)},!d&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...u.map(t=>{let[r,a]=t;return(0,e.createElement)(r,a)}),...Array.isArray(d)?d:[d]])}),jt=["className"],_t=(t,n)=>{const s=(0,e.forwardRef)((s,i)=>{let{className:o}=s,l=r(s,jt);return(0,e.createElement)(kt,(0,a.A)({ref:i,iconNode:n,className:xt("lucide-".concat((c=bt(t),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(t),o)},l));var c});return s.displayName=bt(t),s},Nt=_t("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Et=_t("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var Ct=__webpack_require__(579);const Pt=()=>{const[t,r]=(0,e.useState)([{id:1,image:"https://qgufxqbsgewczleennbu.supabase.co/storage/v1/object/public/carousel_images/first/banner_1.svg",alt:"School Supplies Delivery"},{id:2,image:"https://qgufxqbsgewczleennbu.supabase.co/storage/v1/object/public/carousel_images/first/banner_2.svg",alt:"Uniforms and Books"},{id:3,image:"https://qgufxqbsgewczleennbu.supabase.co/storage/v1/object/public/carousel_images/first/banner_3.svg",alt:"Stationery Essentials"}]),[a,n]=(0,e.useState)([{id:1,image:"https://qgufxqbsgewczleennbu.supabase.co/storage/v1/object/public/carousel_images/first/banner_1_mobile.svg",alt:"School Supplies Delivery"},{id:2,image:"https://qgufxqbsgewczleennbu.supabase.co/storage/v1/object/public/carousel_images/first/banner_2_mobile.svg",alt:"Uniforms and Books"},{id:3,image:"https://qgufxqbsgewczleennbu.supabase.co/storage/v1/object/public/carousel_images/first/banner_3_mobile.svg",alt:"Stationery Essentials"}]),[s,i]=(0,e.useState)(0),[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(null),[u,h]=(0,e.useState)(null),p=()=>{i(e=>(e+1)%t.length)},m=()=>{i(e=>(e-1+t.length)%t.length)},f=e=>{i(e)};return(0,Ct.jsx)("div",{className:"mx-4 md:mx-12 my-4 mb-4 md:mb-5 max-w",children:(0,Ct.jsxs)("div",{className:"relative group w-full h-auto sm:h-[300px] md:h-[250px] lg:h-[250px] overflow-hidden rounded-2xl shadow-lg bg-white",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onTouchStart:e=>{h(null),d(e.targetTouches[0].clientX)},onTouchMove:e=>{h(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!c||!u)return;const e=c-u,t=e<-50;e>50&&p(),t&&m()},children:[(0,Ct.jsx)("div",{className:"hidden md:flex w-full h-full transition-transform duration-500 ease-out",style:{transform:"translateX(-".concat(100*s,"%)")},children:t.map(e=>(0,Ct.jsxs)("div",{className:"w-full h-full relative flex-shrink-0",children:[(0,Ct.jsx)("img",{src:e.image,alt:e.alt,className:"w-full h-full object-cover object-center"}),(0,Ct.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent pointer-events-none"})]},e.id))}),(0,Ct.jsx)("div",{className:"flex md:hidden w-full h-[178px] transition-transform duration-500 ease-out",style:{transform:"translateX(-".concat(100*s,"%)")},children:a.map(e=>(0,Ct.jsxs)("div",{className:"w-full h-full relative flex-shrink-0",children:[(0,Ct.jsx)("img",{src:e.image,alt:e.alt,className:"w-full h-full object-cover object-center"}),(0,Ct.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent pointer-events-none"})]},e.id))}),(0,Ct.jsx)("button",{onClick:m,className:"hidden sm:block absolute top-1/2 left-0 -translate-y-1/2 bg-white/30 hover:bg-white/50 text-white p-2 rounded-sm backdrop-blur-sm transition-all","aria-label":"Previous Slide",children:(0,Ct.jsx)(Nt,{width:32,height:64})}),(0,Ct.jsx)("button",{onClick:p,className:"hidden sm:block absolute top-1/2 right-0 -translate-y-1/2 bg-white/30 hover:bg-white/50 text-white p-2 rounded-sm backdrop-blur-sm transition-all ","aria-label":"Next Slide",children:(0,Ct.jsx)(Et,{width:32,height:64})}),(0,Ct.jsxs)("div",{className:"hidden sm:block md:flex absolute bottom-4 left-1/2 -translate-x-1/2 space-x-2 z-20",children:[(0,Ct.jsx)("style",{children:"\n                        @keyframes progress {\n                            from { width: 0%; }\n                            to { width: 100%; }\n                        }\n                        "}),t.map((e,t)=>(0,Ct.jsx)("button",{onClick:()=>f(t),className:"group/indicator relative h-8 w-8 sm:w-10 flex items-center justify-center focus:outline-none","aria-label":"Go to slide ".concat(t+1),children:(0,Ct.jsx)("div",{className:"absolute h-1.5 w-full bg-gray-300/50 rounded-full overflow-hidden",children:s===t&&(0,Ct.jsx)("div",{className:"h-full bg-black rounded-full",style:{animation:"progress 5000ms linear forwards",animationPlayState:o?"paused":"running"},onAnimationEnd:p})})},t))]}),(0,Ct.jsxs)("div",{className:"block sm:hidden absolute bottom-0 left-1/2 -translate-x-1/2 flex space-x-2 z-20",children:[(0,Ct.jsx)("style",{children:"\n                        @keyframes progress {\n                            from { width: 0%; }\n                            to { width: 100%; }\n                        }\n                        "}),a.map((e,t)=>(0,Ct.jsx)("button",{onClick:()=>f(t),className:"group/indicator relative h-8 w-8 sm:w-10 flex items-center justify-center focus:outline-none","aria-label":"Go to slide ".concat(t+1),children:(0,Ct.jsx)("div",{className:"absolute h-1.5 w-full bg-gray-300/50 rounded-full overflow-hidden",children:s===t&&(0,Ct.jsx)("div",{className:"h-full bg-black rounded-full",style:{animation:"progress 5000ms linear forwards",animationPlayState:o?"paused":"running"},onAnimationEnd:p})})},t))]})]})})},At=e=>{let{props:t,onClick:r,isSelected:a=!1}=e;return(0,Ct.jsxs)("div",{className:"flex-col text-white font-bold w-[125px] h-[125px] md:w-[150px] md:h-[150px] bg-white rounded-2xl shadow-lg flex items-center justify-center font-nunito gap-2 hover:scale-105 transition-all duration-200 hover:cursor-pointer ".concat(a?"ring-2 ring-blue-400":""),onClick:()=>{r&&r(t.name)},children:[(0,Ct.jsx)("img",{src:"/categories/".concat(t.img),alt:t.name,className:"w-16 h-16 md:w-20 md:h-20"}),(0,Ct.jsx)("p",{className:"text-black text-sm md:text-base",children:t.name})]})},Tt=[{name:"School BookSets",color:"blue",img:"bookset_cat.svg"},{name:"School Uniform",color:"yellow",img:"uniform_cat.svg"},{name:"Stationery",color:"green",img:"stationary_cat.svg"},{name:"Categories",color:"pink",img:"categories_cat.svg"}],It=()=>{const e=le(),t=t=>{"School BookSets"===t?e("/school?category=bookset"):"School Uniform"===t?e("/school?category=uniform"):"Categories"===t&&e("/category")};return(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("div",{className:"flex md:hidden overflow-x-auto gap-6 md:gap-4 px-4 my-2 md:my-6 no-scrollbar pb-2 justify-center",children:Tt.map((e,r)=>(0,Ct.jsxs)("div",{className:"flex flex-col items-center shrink-0 cursor-pointer",onClick:()=>t(e.name),children:[(0,Ct.jsx)("div",{className:"rounded-full flex items-center justify-center bg-".concat(e.color,"-300 shadow-md "),children:(0,Ct.jsx)("img",{src:"/categories/".concat(e.img),alt:e.name,className:"w-14 h-14"})}),(0,Ct.jsx)("span",{className:"text-xs mt-2 text-center text-gray-700 text-wrap w-[60px]",children:e.name})]},r))}),(0,Ct.jsx)("div",{className:"hidden md:flex flex-wrap justify-center gap-16 my-5",children:Tt.map((e,r)=>(0,Ct.jsx)("div",{className:"flex flex-col items-center justify-center rounded-lg bg-".concat(e.color,"-300"),children:(0,Ct.jsx)(At,{props:e,onClick:()=>t(e.name)})},r))})]})};var Dt=__webpack_require__(772);const Mt=()=>{const t=le(),[r,a]=(0,e.useState)([]),[n,s]=(0,e.useState)(!0),[i,o]=(0,e.useState)("");(0,e.useEffect)(()=>{l()},[]);const l=async()=>{try{var e;s(!0);const t=Dt.Ay.getState(),r=await fetch("".concat(t.products.search,"?productType=stationary&limit=6"),{headers:t.getAuthHeaders()});if(!r.ok)throw new Error("Failed to fetch deals");const n=await r.json();a((null===(e=n.data)||void 0===e?void 0:e.products)||[]),o("")}catch(t){console.error("Error fetching deals:",t),o(t.message),a([{id:1,name:"School Bag",img:"https://images.pexels.com/photos/2905238/pexels-photo-2905238.jpeg?cs=srgb&dl=pexels-bertellifotografia-2905238.jpg&fm=jpg"},{id:2,name:"Stationery Kit",img:"https://www.thestapleberry.in/cdn/shop/files/image_70e48829-3a4a-419d-b1c6-2a3ea4fb3cf9_2048x.jpg?v=1689778176"},{id:3,name:"Lunch Box",img:"https://m.media-amazon.com/images/I/51eiw+NsxpL._UF1000,1000_QL80_.jpg"},{id:4,name:"School Bag",img:"https://images.pexels.com/photos/2905238/pexels-photo-2905238.jpeg?cs=srgb&dl=pexels-bertellifotografia-2905238.jpg&fm=jpg"},{id:5,name:"Stationery Kit",img:"https://www.thestapleberry.in/cdn/shop/files/image_70e48829-3a4a-419d-b1c6-2a3ea4fb3cf9_2048x.jpg?v=1689778176"},{id:6,name:"Lunch Box",img:"https://m.media-amazon.com/images/I/51eiw+NsxpL._UF1000,1000_QL80_.jpg"}])}finally{s(!1)}},c=()=>{t("/products",{state:{categorySlug:"stationary",source:"Deals for You"}})},d=r.length>0?r:[{id:1,name:"School Bag",img:"https://images.pexels.com/photos/2905238/pexels-photo-2905238.jpeg?cs=srgb&dl=pexels-bertellifotografia-2905238.jpg&fm=jpg"},{id:2,name:"Stationery Kit",img:"https://www.thestapleberry.in/cdn/shop/files/image_70e48829-3a4a-419d-b1c6-2a3ea4fb3cf9_2048x.jpg?v=1689778176"},{id:3,name:"Lunch Box",img:"https://m.media-amazon.com/images/I/51eiw+NsxpL._UF1000,1000_QL80_.jpg"},{id:4,name:"School Bag",img:"https://images.pexels.com/photos/2905238/pexels-photo-2905238.jpeg?cs=srgb&dl=pexels-bertellifotografia-2905238.jpg&fm=jpg"},{id:5,name:"Stationery Kit",img:"https://www.thestapleberry.in/cdn/shop/files/image_70e48829-3a4a-419d-b1c6-2a3ea4fb3cf9_2048x.jpg?v=1689778176"},{id:6,name:"Lunch Box",img:"https://m.media-amazon.com/images/I/51eiw+NsxpL._UF1000,1000_QL80_.jpg"}];return(0,Ct.jsxs)("div",{className:" px-4 md:px-0 mx-0 md:mx-12",children:[(0,Ct.jsx)("h2",{className:"text-2xl md:text-4xl font-bold my-8 pb-4",children:"Deals For You"}),(0,Ct.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Ct.jsxs)("div",{className:"w-full md:w-[550px] bg-[#FF8C22] p-6 md:p-10 flex flex-col justify-center rounded-3xl shadow-lg font-nunito",children:[(0,Ct.jsx)("h3",{className:"text-white text-4xl font-bold mb-2",children:"Special Deals on School Supplies"}),(0,Ct.jsx)("p",{className:"text-white mb-2 font-semibold text-xl",children:"Upto 50% off on selected Items"}),(0,Ct.jsx)("button",{onClick:()=>{t("/products",{state:{categorySlug:"stationary",source:"Deals for You"}})},className:"bg-white text-orange-500 font-bold px-4 py-2 rounded-xl w-32 shadow-lg hover:bg-gray-100 transition-colors",children:"Shop Now"})]}),(0,Ct.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 md:gap-6 flex-1",children:d.slice(0,6).map((e,t)=>{var r;return(0,Ct.jsxs)("div",{onClick:c,className:"relative bg-white rounded-2xl shadow-lg hover:scale-105 transition-transform hover:cursor-pointer",children:[(0,Ct.jsx)("img",{src:e.img||(null===(r=e.primaryImage)||void 0===r?void 0:r.url),alt:e.name||e.title,className:"w-full md:h-[180px] h-[150px] object-cover rounded-2xl "}),(0,Ct.jsxs)("div",{className:"px-4 py-2 flex flex-col items-start justify-start gap-1",children:[(0,Ct.jsx)("p",{children:e.name||e.title}),(0,Ct.jsx)("p",{className:"text-sm text-gray-500",children:"Min. 50% Off"})]})]},e.id||t)})})]})]})},Ft=t=>{let{searchResults:r,isSearchActive:a,searchTerm:n}=t;const s=se(),i=le(),[o,l]=(0,e.useState)([]),[c,d]=(0,e.useState)([]),[u,h]=(0,e.useState)(!1),[p,m]=(0,e.useState)(null);(0,e.useEffect)(()=>{(async()=>{if(!a&&"/"===s.pathname)try{var e;h(!0);let t=localStorage.getItem("selectedCity");t||(t="gurgaon");const r={gurgaon:"Gurgaon",kanpur:"Kanpur"}[t]||t,a=await fetch(Dt.lb.byCity(r));if(!a.ok)throw new Error("Failed to fetch schools: ".concat(a.statusText));const n=await a.json(),s=((null===(e=n.data)||void 0===e?void 0:e.schools)||n.schools||n.data||n||[]).map(e=>{var t;return{id:e.id,name:e.name,img:e.image||e.img||"https://media.gettyimages.com/id/171306436/photo/red-brick-high-school-building-exterior.jpg?s=612x612&w=gi&k=20&c=8to_zwGxxcI1iYcix7DhmWahoDTlaqxEMzumDwJtxeg=",location:e.city||(null===(t=e.address)||void 0===t?void 0:t.line1)||"Location not specified"}});l(s.slice(0,10)),m(null)}catch(t){console.error("Error fetching schools by city:",t),l([]),m(t.message)}finally{h(!1)}})()},[s.pathname,a]),(0,e.useEffect)(()=>{(async()=>{if("/school"===s.pathname&&!a)try{var e;h(!0);const t=await fetch(Dt.lb.search);if(!t.ok)throw new Error("Failed to fetch schools: ".concat(t.statusText));const r=await t.json(),a=((null===(e=r.data)||void 0===e?void 0:e.schools)||r.schools||r.data||r||[]).map(e=>{var t;return{id:e.id,name:e.name,img:e.image||e.img||"https://media.gettyimages.com/id/171306436/photo/red-brick-high-school-building-exterior.jpg?s=612x612&w=gi&k=20&c=8to_zwGxxcI1iYcix7DhmWahoDTlaqxEMzumDwJtxeg=",location:e.city||(null===(t=e.address)||void 0===t?void 0:t.line1)||"Location not specified"}});d(a),m(null)}catch(t){console.error("Error fetching all schools:",t),d([]),m(t.message)}finally{h(!1)}})()},[s.pathname,a]);let f=[],g=!1;a&&null!==r?(g=!0,f=r.map(e=>({name:e.name,img:e.image||e.img||"https://media.gettyimages.com/id/171306436/photo/red-brick-high-school-building-exterior.jpg?s=612x612&w=gi&k=20&c=8to_zwGxxcI1iYcix7DhmWahoDTlaqxEMzumDwJtxeg=",location:e.city||e.location||"Location not specified",id:e.id||e.name.toLowerCase().replace(/[^a-z0-9]/g,"-")}))):f="/school"===s.pathname?c:o;return(0,Ct.jsxs)("div",{className:"my-6 md:my-2",children:[g&&(0,Ct.jsx)("div",{className:"mx-4 md:mx-12 mb-4",children:r.length>0?(0,Ct.jsxs)("p",{className:"text-gray-700 text-lg",children:["Found"," ",(0,Ct.jsx)("span",{className:"font-bold text-blue-600",children:r.length})," ","school",1!==r.length?"s":"",n&&(0,Ct.jsxs)("span",{children:[" ",'matching "',(0,Ct.jsx)("span",{className:"font-semibold",children:n}),'"']})]}):(0,Ct.jsxs)("div",{className:"text-center py-8",children:[(0,Ct.jsxs)("p",{className:"text-gray-500 text-lg mb-2",children:["No schools found"," ",n&&(0,Ct.jsxs)("span",{children:['for "',(0,Ct.jsx)("span",{className:"font-semibold",children:n}),'"']})]}),(0,Ct.jsx)("p",{className:"text-gray-400 text-sm",children:"Try searching with a different term or check the spelling"})]})}),u&&!g&&(0,Ct.jsx)("div",{className:"mx-4 md:mx-12 text-center py-8",children:(0,Ct.jsx)("p",{className:"text-gray-500 text-lg",children:"Loading schools..."})}),f.length>0&&!u&&(0,Ct.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 px-4 mx-0 md:mx-12",children:f.map((e,t)=>(0,Ct.jsx)("div",{className:"flex flex-col items-center justify-center rounded-lg",children:(0,Ct.jsxs)("div",{className:"relative w-full bg-white rounded-2xl shadow-lg hover:scale-105 transition-transform hover:cursor-pointer",onClick:()=>(e=>{const t=new URLSearchParams(s.search).get("category");i(t?"/school/".concat(e.id,"?category=").concat(t):"/school/".concat(e.id))})(e),children:[(0,Ct.jsx)("img",{src:e.img,alt:e.name,className:"w-full md:h-[200px] h-[150px] object-cover rounded-2xl"}),(0,Ct.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-t from-black/90 to-transparent"}),(0,Ct.jsx)("p",{className:"absolute bottom-6 left-2 right-2 text-white text-md truncate",children:e.name}),(0,Ct.jsxs)("div",{className:"absolute bottom-2 left-2 flex items-center gap-1",children:[(0,Ct.jsx)("img",{src:"/map_svg.svg",alt:"location",className:"w-4 h-4"}),(0,Ct.jsx)("p",{className:"text-white text-xs",children:e.location})]})]})},e.id||t))}),!u&&0===f.length&&!g&&"/school"===s.pathname&&(0,Ct.jsx)("div",{className:"mx-4 md:mx-12 text-center py-8",children:(0,Ct.jsx)("p",{className:"text-gray-500 text-lg",children:"No schools available at the moment."})})]})};var Rt=__webpack_require__(131);const Ot=Dt.Ay.getState().baseUrl,Lt=(0,Rt.v)((e,t)=>({profile:null,addresses:[],preferences:null,stats:null,loading:!1,error:null,orders:[],orderStats:null,cart:{items:[]},wishlist:[],reviews:[],schools:[],nearbySchools:[],products:[],categories:[],brands:[],orderQueries:[],_requestCache:new Map,_cacheTimeout:1e3,productCache:new Map,_getCacheKey:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return"".concat(e,":").concat(JSON.stringify(r))},_getCachedRequest:e=>{const r=t()._requestCache.get(e);return r&&Date.now()-r.timestamp<t()._cacheTimeout?r.promise:null},_setCachedRequest:(e,r)=>(t()._requestCache.set(e,{promise:r,timestamp:Date.now()}),setTimeout(()=>{t()._requestCache.delete(e)},t()._cacheTimeout),r),getProfile:async()=>{const r=t()._getCacheKey("getProfile"),a=t()._getCachedRequest(r);if(a)return a;const n=(async()=>{e({loading:!0,error:null});try{if(!localStorage.getItem("custom_token"))return e({loading:!1,error:null}),null;const t=Dt.Ay.getState(),r=await fetch(t.users.profile,{headers:t.getAuthHeaders()});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to fetch profile")}const a=await r.json();return e({profile:a.data.user,loading:!1,error:null}),a.data.user}catch(t){throw e({loading:!1,error:t.message}),t}})();return t()._setCachedRequest(r,n)},updateProfile:async t=>{e({loading:!0,error:null});try{if(!localStorage.getItem("custom_token"))return e({loading:!1,error:null}),null;const r={};t.fullName&&(r.fullName=t.fullName),t.phone&&(r.phone=t.phone),t.dateOfBirth&&(r.dateOfBirth=t.dateOfBirth),t.gender&&(r.gender=t.gender),t.city&&(r.city=t.city),t.state&&(r.state=t.state),t.schoolId&&(r.schoolId=t.schoolId),t.metadata&&(r.metadata=t.metadata);const a=Dt.Ay.getState(),n=await fetch(a.users.profile,{method:"PUT",headers:a.getAuthHeaders(),body:JSON.stringify(r)});if(!n.ok){const e=await n.json();throw new Error(e.message||"Failed to update profile")}const s=await n.json();return e({profile:s.data.user,loading:!1,error:null}),s.data.user}catch(r){throw e({loading:!1,error:r.message}),r}},getAddresses:async()=>{e({loading:!0,error:null});try{if(!localStorage.getItem("custom_token"))return e({loading:!1,error:null}),null;const t=Dt.Ay.getState(),r=await fetch(t.users.addresses,{headers:t.getAuthHeaders()});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to fetch addresses")}const a=await r.json();return e({addresses:a.data.addresses,loading:!1,error:null}),a.data.addresses}catch(t){throw e({loading:!1,error:t.message}),t}},addAddress:async r=>{e({loading:!0,error:null});try{if(!localStorage.getItem("custom_token"))return e({loading:!1,error:null}),null;const a={label:r.label||"Home",recipientName:r.recipientName,phone:r.phone,line1:r.line1,line2:r.line2,city:r.city,state:r.state,postalCode:r.postalCode,country:r.country||"India",isDefault:r.isDefault||!1,lat:r.lat,lng:r.lng},n=Dt.Ay.getState(),s=await fetch(n.users.addresses,{method:"POST",headers:n.getAuthHeaders(),body:JSON.stringify(a)});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to add address")}const i=await s.json();return await t().getAddresses(),e({loading:!1,error:null}),i.data.address}catch(a){throw e({loading:!1,error:a.message}),a}},updateAddress:async(r,a)=>{e({loading:!0,error:null});try{if(!localStorage.getItem("custom_token"))return e({loading:!1,error:null}),null;const n=Dt.Ay.getState(),s=await fetch(n.users.addressById(r),{method:"PUT",headers:n.getAuthHeaders(),body:JSON.stringify(a)});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to update address")}const i=await s.json();return await t().getAddresses(),e({loading:!1,error:null}),i.data.address}catch(n){throw e({loading:!1,error:n.message}),n}},deleteAddress:async r=>{e({loading:!0,error:null});try{if(!localStorage.getItem("custom_token"))return e({loading:!1,error:null}),null;const a=Dt.Ay.getState(),n=await fetch(a.users.addressById(r),{method:"DELETE",headers:a.getAuthHeaders()});if(!n.ok){const e=await n.json();throw new Error(e.message||"Failed to delete address")}return await t().getAddresses(),e({loading:!1,error:null}),!0}catch(a){throw e({loading:!1,error:a.message}),a}},getPreferences:async()=>{e({loading:!0,error:null});try{const t=localStorage.getItem("custom_token");if(!t)return e({loading:!1,error:null}),null;const r=await fetch(Dt.Ay.getState().users.legacy.preferences,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to fetch preferences")}const a=await r.json();return e({preferences:a.data.preferences,loading:!1,error:null}),a.data.preferences}catch(t){throw e({loading:!1,error:t.message}),t}},updatePreferences:async t=>{e({loading:!0,error:null});try{const r=localStorage.getItem("custom_token");if(!r)return e({loading:!1,error:null}),null;const a=await fetch(Dt.Ay.getState().users.legacy.preferences,{method:"PUT",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){const e=await a.json();throw new Error(e.message||"Failed to update preferences")}const n=await a.json();return e({preferences:n.data.preferences,loading:!1,error:null}),n.data.preferences}catch(r){throw e({loading:!1,error:r.message}),r}},getStats:async()=>{e({loading:!0,error:null});try{const t=localStorage.getItem("custom_token");if(!t)return e({loading:!1,error:null}),null;const r=await fetch(Dt.Ay.getState().users.legacy.stats,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to fetch stats")}const a=await r.json();return e({stats:a.data,loading:!1,error:null}),a.data}catch(t){throw e({loading:!1,error:t.message}),t}},verifyEmail:async()=>{e({loading:!0,error:null});try{const r=localStorage.getItem("custom_token");if(!r)return e({loading:!1,error:null}),null;const a=await fetch(Dt.Ay.getState().users.verifyEmail,{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});if(!a.ok){const e=await a.json();throw new Error(e.message||"Failed to verify email")}const n=await a.json();return await t().getProfile(),e({loading:!1,error:null}),n.message}catch(r){throw e({loading:!1,error:r.message}),r}},confirmEmailVerification:async t=>{e({loading:!0,error:null});try{const r=await fetch(Dt.Ay.getState().users.verifyEmailConfirm,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to verified email")}const a=await r.json();return e({loading:!1,error:null}),a.message}catch(r){throw e({loading:!1,error:r.message}),r}},clearProfile:()=>{e({profile:null,addresses:[],preferences:null,stats:null,loading:!1,error:null})},clearError:()=>{e({error:null})},getOrders:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e({loading:!0,error:null});try{const r=localStorage.getItem("custom_token");if(!r)return e({loading:!1,error:null}),[];const a=new URLSearchParams;t.page&&a.append("page",t.page),t.limit&&a.append("limit",t.limit),t.status&&a.append("status",t.status),t.startDate&&a.append("startDate",t.startDate),t.endDate&&a.append("endDate",t.endDate),t.sortBy&&a.append("sortBy",t.sortBy),t.sortOrder&&a.append("sortOrder",t.sortOrder);const n="".concat(Ot,"/orders").concat(a.toString()?"?".concat(a):""),s=await fetch(n,{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to fetch orders")}const i=await s.json();return e({orders:i.data.orders||i.data,loading:!1,error:null}),i.data}catch(r){throw e({loading:!1,error:r.message}),r}},createOrder:async r=>{e({loading:!0,error:null});try{const a=localStorage.getItem("custom_token");if(!a)return e({loading:!1,error:null}),null;const n={items:r.items,shippingAddress:{recipientName:r.shippingAddress.recipientName,phone:r.shippingAddress.phone,line1:r.shippingAddress.line1,line2:r.shippingAddress.line2,city:r.shippingAddress.city,state:r.shippingAddress.state,postalCode:r.shippingAddress.postalCode,country:r.shippingAddress.country||"India"},billingAddress:r.billingAddress,contactPhone:r.contactPhone,contactEmail:r.contactEmail,paymentMethod:r.paymentMethod},s=await fetch(Dt.Ay.getState().orders.create,{method:"POST",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to create order")}const i=await s.json();return await t().getOrders(),e({loading:!1,error:null}),i.data.order}catch(a){throw e({loading:!1,error:a.message}),a}},getOrder:async t=>{e({loading:!0,error:null});try{const r=localStorage.getItem("custom_token");if(!r)return e({loading:!1,error:null}),null;const a=await fetch("".concat(Ot,"/orders/").concat(t),{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});if(!a.ok){const e=await a.json();throw new Error(e.message||"Failed to fetch order")}const n=await a.json();return e({loading:!1,error:null}),n.data.order}catch(r){throw e({loading:!1,error:r.message}),r}},cancelOrder:async(r,a)=>{e({loading:!0,error:null});try{const n=localStorage.getItem("custom_token");if(!n)return e({loading:!1,error:null}),null;const s=await fetch("".concat(Ot,"/orders/").concat(r,"/cancel"),{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({reason:a})});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to cancel order")}const i=await s.json();return await t().getOrders(),e({loading:!1,error:null}),i.data.order}catch(n){throw e({loading:!1,error:n.message}),n}},getOrderStats:async()=>{e({loading:!0,error:null});try{const t=localStorage.getItem("custom_token");if(!t)return e({loading:!1,error:null}),null;const r=await fetch(Dt.Ay.getState().orders.stats,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to fetch order stats")}const a=await r.json();return e({orderStats:a.data,loading:!1,error:null}),a.data}catch(t){throw e({loading:!1,error:t.message}),t}},searchProducts:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e({loading:!0,error:null});try{const r=new URLSearchParams;t.page&&r.append("page",t.page),t.limit&&r.append("limit",t.limit),t.search&&r.append("search",t.search),t.category&&r.append("category",t.category),t.brand&&r.append("brand",t.brand),t.productType&&r.append("productType",t.productType),t.minPrice&&r.append("minPrice",t.minPrice),t.maxPrice&&r.append("maxPrice",t.maxPrice),t.schoolId&&r.append("schoolId",t.schoolId),t.sortBy&&r.append("sortBy",t.sortBy),t.sortOrder&&r.append("sortOrder",t.sortOrder);const a="".concat(Ot,"/products").concat(r.toString()?"?".concat(r):""),n=await fetch(a,{headers:{"Content-Type":"application/json"}});if(!n.ok){const e=await n.json();throw new Error(e.message||"Failed to fetch products")}const s=await n.json();return e({products:s.data.products||s.data,loading:!1,error:null}),s.data}catch(r){throw e({loading:!1,error:r.message}),r}},getProduct:async e=>{const t=Lt.getState,r=Lt.setState;if(t().productCache.has(e))return console.log("Returning cached product:",e),t().productCache.get(e);r({loading:!0,error:null});try{const a=await fetch("".concat(Ot,"/products/").concat(e),{headers:{"Content-Type":"application/json"}});if(!a.ok){const e=await a.json();throw new Error(e.message||"Failed to fetch product")}const n=(await a.json()).data.product;console.log("Product fetched with enhanced data:",n),n.images||(n.images=[]),n.mainImages||(n.mainImages=[]),n.imagesByVariant||(n.imagesByVariant={}),n.brandDetails||(n.brandDetails=n.brands||[]),n.primaryImage||(n.primaryImage=n.images.find(e=>e.isPrimary)||n.images[0]||null);const s=t().productCache;return s.set(e,n),r({loading:!1,error:null,productCache:s}),n}catch(a){throw r({loading:!1,error:a.message}),a}},getProductVariants:async t=>{e({loading:!0,error:null});try{const r=await fetch("".concat(Ot,"/products/").concat(t,"/variants"),{headers:{"Content-Type":"application/json"}});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to fetch product variants")}const a=await r.json();return e({loading:!1,error:null}),a.data.variants||[]}catch(r){throw e({loading:!1,error:r.message}),r}},getProductImages:async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e({loading:!0,error:null});try{const a=new URLSearchParams;r&&a.append("variantId",r);const n="".concat(Ot,"/products/").concat(t,"/images").concat(a.toString()?"?".concat(a):""),s=await fetch(n,{headers:{"Content-Type":"application/json"}});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to fetch product images")}const i=await s.json();return e({loading:!1,error:null}),i.data.images||[]}catch(a){throw e({loading:!1,error:a.message}),a}},getFeaturedProducts:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;e({loading:!0,error:null});try{const r=await fetch("".concat(Ot,"/products/featured?limit=").concat(t),{headers:{"Content-Type":"application/json"}});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to fetch featured products")}const a=await r.json();return e({loading:!1,error:null}),a.data.products}catch(r){throw e({loading:!1,error:r.message}),r}},searchSchools:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e({loading:!0,error:null});try{const r=new URLSearchParams;t.page&&r.append("page",t.page),t.limit&&r.append("limit",t.limit),t.search&&r.append("search",t.search),t.city&&r.append("city",t.city),t.state&&r.append("state",t.state),t.type&&r.append("type",t.type),t.board&&r.append("board",t.board),t.sortBy&&r.append("sortBy",t.sortBy),t.sortOrder&&r.append("sortOrder",t.sortOrder);const a="".concat(Ot,"/schools").concat(r.toString()?"?".concat(r):""),n=await fetch(a,{headers:{"Content-Type":"application/json"}});if(!n.ok){const e=await n.json();throw new Error(e.message||"Failed to fetch schools")}const s=await n.json();return e({schools:s.data.schools||s.data,loading:!1,error:null}),s.data}catch(r){throw e({loading:!1,error:r.message}),r}},getNearbySchools:async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e({loading:!0,error:null});try{const i=new URLSearchParams((0,a.A)({lat:t,lng:r,radius:n},s)),o=await fetch("".concat(Ot,"/schools/nearby?").concat(i),{headers:{"Content-Type":"application/json"}});if(!o.ok){const e=await o.json();throw new Error(e.message||"Failed to fetch nearby schools")}const l=await o.json();return e({nearbySchools:l.data.schools,loading:!1,error:null}),l.data.schools}catch(i){throw e({loading:!1,error:i.message}),i}},getSchool:async t=>{e({loading:!0,error:null});try{const r=await fetch("".concat(Ot,"/schools/").concat(t),{headers:{"Content-Type":"application/json"}});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to fetch school")}const a=await r.json();return e({loading:!1,error:null}),a.data.school}catch(r){throw e({loading:!1,error:r.message}),r}},getSchoolCatalog:async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e({loading:!0,error:null});try{const a=new URLSearchParams(r),n="".concat(Ot,"/schools/").concat(t,"/catalog").concat(a.toString()?"?".concat(a):""),s=await fetch(n,{headers:{"Content-Type":"application/json"}});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to fetch school catalog")}const i=await s.json();return e({loading:!1,error:null}),i.data}catch(a){throw e({loading:!1,error:a.message}),a}},clearSchoolData:()=>{e({schools:[],nearbySchools:[],products:[],error:null});const r=t()._requestCache;for(const[e]of r)(e.includes("getSchool")||e.includes("getSchoolCatalog"))&&r.delete(e)},getCart:async()=>{e({loading:!0,error:null});try{const t=localStorage.getItem("custom_token");if(!t)return e({cart:{items:[]},loading:!1,error:null}),{items:[]};const r=await fetch(Dt.Ay.getState().orders.cart,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!r.ok)return e({cart:{items:[]},loading:!1,error:null}),{items:[]};const a=await r.json();return e({cart:a.cart||{items:[]},loading:!1,error:null}),a.cart}catch(t){return e({cart:{items:[]},loading:!1,error:t.message}),{items:[]}}},createOrderQuery:async(t,r)=>{e({loading:!0,error:null});try{const a=localStorage.getItem("custom_token");if(!a)return e({loading:!1,error:null}),null;const n={subject:r.subject,message:r.message,attachments:r.attachments||[]},s=await fetch("".concat(Ot,"/orders/").concat(t,"/queries"),{method:"POST",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to create order query")}const i=await s.json();return e({loading:!1,error:null}),i.data.query}catch(a){throw e({loading:!1,error:a.message}),a}},getOrderQueries:async t=>{e({loading:!0,error:null});try{const r=localStorage.getItem("custom_token");if(!r)return e({loading:!1,error:null}),[];const a=await fetch("".concat(Ot,"/orders/").concat(t,"/queries"),{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});if(!a.ok){const e=await a.json();throw new Error(e.message||"Failed to fetch order queries")}const n=await a.json();return e({orderQueries:n.data.queries,loading:!1,error:null}),n.data.queries}catch(r){throw e({loading:!1,error:r.message}),r}},calculateOrderSummary:async t=>{e({loading:!0,error:null});try{const r=await fetch(Dt.Ay.getState().orders.calculate,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t})});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to calculate order summary")}const a=await r.json();return e({loading:!1,error:null}),a.data}catch(r){throw e({loading:!1,error:r.message}),r}},checkProductAvailability:async function(t,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e({loading:!0,error:null});try{const n=new URLSearchParams({quantity:a});r&&n.append("variantId",r);const s=await fetch("".concat(Ot,"/products/").concat(t,"/availability?").concat(n),{headers:{"Content-Type":"application/json"}});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to check availability")}const i=await s.json();return e({loading:!1,error:null}),i.data}catch(n){throw e({loading:!1,error:n.message}),n}}})),Bt=Lt,zt=()=>{const[t,r]=(0,e.useState)(null),a=le();(0,e.useEffect)(()=>{const e=localStorage.getItem("selectedCity");r(e);const t=()=>{const e=localStorage.getItem("selectedCity");r(e)};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[]);return(0,Ct.jsxs)("button",{onClick:()=>a("/profile?tab=city"),className:"flex items-center space-x-2 px-3 py-1.5 md:px-4 md:py-2 border-[1.5px] border-black rounded-[1rem] hover:bg-gray-50 transition-colors bg-white whitespace-nowrap h-[46px] md:h-auto",children:[(0,Ct.jsx)("div",{className:"flex-shrink-0",children:(0,Ct.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ct.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z",fill:"#FE0000"}),(0,Ct.jsx)("circle",{cx:"12",cy:"9",r:"2.5",fill:"white"})]})}),(0,Ct.jsxs)("div",{className:"flex flex-col items-start justify-center leading-none",children:[(0,Ct.jsx)("span",{className:"text-[11px] md:text-sm text-gray-900 font-medium",children:"City"}),(0,Ct.jsx)("span",{className:"text-base md:text-md font-bold text-gray-900 -mt-1",children:"kanpur"===t?"Kanpur":"gurugram"===t?"Gurugram":"Select City"})]})]})},Vt=t=>{let{onSearchResults:r,searchTerm:a,onSearchTermChange:n}=t;const s=le(),{searchSchools:i,searchProducts:o,loading:l}=Bt(),[c,d]=(0,e.useState)(a||""),[u,h]=(0,e.useState)(!1),p=(0,e.useRef)(null),m=(0,e.useRef)(""),f=(0,e.useCallback)(async e=>{if(m.current===e)return;if(!e||e.trim().length<2)return m.current="",void(r&&r(null));const t=e.trim();m.current=t;try{if(h(!0),"/school"!==window.location.pathname)return void s("/school",{state:{searchTerm:t}});const[e,a]=await Promise.all([i({search:t,limit:50}).catch(e=>(console.error("School search failed:",e),{schools:[]})),o({search:t,limit:20}).catch(e=>(console.error("Product search failed:",e),{products:[]}))]);m.current===t&&r&&r({schools:e.schools||[],products:a.products||[]})}catch(a){console.error("Search failed:",a),m.current===t&&r&&r([])}finally{h(!1)}},[i,s,r]);(0,e.useEffect)(()=>(p.current&&clearTimeout(p.current),0===c.trim().length?(m.current="",r&&r(null),void h(!1)):c.trim().length<2?void h(!1):(h(!0),p.current=setTimeout(()=>{f(c)},500),()=>{p.current&&clearTimeout(p.current)})),[c,f,r]),(0,e.useEffect)(()=>()=>{p.current&&clearTimeout(p.current)},[]);const g=()=>{c.trim().length>=1&&(p.current&&clearTimeout(p.current),f(c))},y=l||u&&c.trim().length>=2;return(0,Ct.jsx)("div",{className:"mx-2 md:mx-12 my-2 mb-1 md:mb-4 max-w",children:(0,Ct.jsxs)("div",{className:"flex space-x-2 md:space-x-4 items-center justify-between",children:[(0,Ct.jsx)("button",{onClick:()=>s("/"),className:"hidden md:block px-4 py-4 rounded-lg shadow-md bg-gradient-to-r from-[#39A7FF] to-[#525CEB] text-white hover:opacity-90 w-[120px]",children:"Shop"}),!("true"===localStorage.getItem("isMobileApp")||window.location.search.includes("mode=webview"))&&(0,Ct.jsx)(zt,{}),(0,Ct.jsxs)("div",{className:"flex-grow relative",children:[(0,Ct.jsx)("img",{src:"/search_svg.svg",alt:"Search",className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 z-10 text-gray-400"}),(0,Ct.jsx)("input",{type:"text",placeholder:"Find Your School ( e.g. DPS )",className:"w-full px-10 md:px-16 py-2.5 md:py-4 rounded-full border border-gray-800 md:border-none shadow-none md:shadow-lg focus:outline-none focus:ring-1 focus:ring-gray-400 transition-all duration-200 text-sm md:text-base placeholder-gray-500",value:c,onChange:e=>{const t=e.target.value;d(t),n&&n(t)},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),g())}}),y&&(0,Ct.jsx)("div",{className:"absolute right-4 md:right-16 top-1/2 transform -translate-y-1/2 z-10",children:(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})})]}),(0,Ct.jsx)("button",{className:"hidden md:block px-4 py-4 rounded-lg shadow-md bg-gradient-to-r from-[#39A7FF] to-[#525CEB] text-white hover:opacity-90 transition-all duration-200",onClick:g,disabled:y||c.trim().length<1,children:y?"Searching...":"Search"})]})})},Ut=()=>{const t=le(),[r,a]=(0,e.useState)([]),[n,s]=(0,e.useState)(!0),[i,o]=(0,e.useState)("");(0,e.useEffect)(()=>{l()},[]);const l=async()=>{try{var e;s(!0);const t=Dt.Ay.getState(),r=await fetch("".concat(t.products.search,"?productType=stationary&limit=5"),{headers:t.getAuthHeaders()});if(!r.ok)throw new Error("Failed to fetch stationary products");const n=await r.json();a((null===(e=n.data)||void 0===e?void 0:e.products)||[]),o("")}catch(t){console.error("Error fetching stationary products:",t),o(t.message),a([{id:1,title:"School Bag",img:"https://images.pexels.com/photos/2905238/pexels-photo-2905238.jpeg?cs=srgb&dl=pexels-bertellifotografia-2905238.jpg&fm=jpg",category:"stationary"},{id:2,title:"Stationery Kit",img:"https://www.thestapleberry.in/cdn/shop/files/image_70e48829-3a4a-419d-b1c6-2a3ea4fb3cf9_2048x.jpg?v=1689778176",category:"stationary"},{id:3,title:"Lunch Box",img:"https://m.media-amazon.com/images/I/51eiw+NsxpL._UF1000,1000_QL80_.jpg",category:"stationary"},{id:4,title:"School Bag",img:"https://images.pexels.com/photos/2905238/pexels-photo-2905238.jpeg?cs=srgb&dl=pexels-bertellifotografia-2905238.jpg&fm=jpg",category:"stationary"},{id:5,title:"Stationery Kit",img:"https://www.thestapleberry.in/cdn/shop/files/image_70e48829-3a4a-419d-b1c6-2a3ea4fb3cf9_2048x.jpg?v=1689778176",category:"stationary"}])}finally{s(!1)}},c=r.length>0?r:[{id:1,title:"School Bag",img:"https://images.pexels.com/photos/2905238/pexels-photo-2905238.jpeg?cs=srgb&dl=pexels-bertellifotografia-2905238.jpg&fm=jpg"},{id:2,title:"Stationery Kit",img:"https://www.thestapleberry.in/cdn/shop/files/image_70e48829-3a4a-419d-b1c6-2a3ea4fb3cf9_2048x.jpg?v=1689778176"},{id:3,title:"Lunch Box",img:"https://m.media-amazon.com/images/I/51eiw+NsxpL._UF1000,1000_QL80_.jpg"},{id:4,title:"School Bag",img:"https://images.pexels.com/photos/2905238/pexels-photo-2905238.jpeg?cs=srgb&dl=pexels-bertellifotografia-2905238.jpg&fm=jpg"},{id:5,title:"Stationery Kit",img:"https://www.thestapleberry.in/cdn/shop/files/image_70e48829-3a4a-419d-b1c6-2a3ea4fb3cf9_2048x.jpg?v=1689778176"}];return(0,Ct.jsx)("div",{className:"my-6 mx-4 md:mx-12",children:(0,Ct.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:c.slice(0,5).map((e,r)=>{var a;return(0,Ct.jsxs)("div",{onClick:()=>{t("/products",{state:{categorySlug:"stationary",source:"School Essentials"}})},className:"relative w-full bg-white rounded-2xl shadow-lg hover:scale-105 transition-transform hover:cursor-pointer",children:[(0,Ct.jsx)("img",{src:e.img||(null===(a=e.primaryImage)||void 0===a?void 0:a.url),alt:e.title||e.name,className:"w-full md:h-[200px] h-[150px] object-cover rounded-2xl"}),(0,Ct.jsxs)("div",{className:"px-4 py-2 flex flex-col items-start justify-start gap-1",children:[(0,Ct.jsx)("p",{className:"font-nunito font-semibold",children:e.title||e.name}),(0,Ct.jsx)("p",{className:"text-sm text-gray-500 font-nunito font-bold",children:"Min. 50% Off"})]})]},e.id||r)})})})},Ht=()=>(0,Ct.jsxs)("div",{className:"relative",children:[(0,Ct.jsx)("img",{src:"/promo_card.png",alt:"Promo Card",className:"w-full h-36 sm:h-auto"}),(0,Ct.jsx)("div",{className:"absolute inset-0 flex items-center justify-start pl-12 sm:pl-36 ",children:(0,Ct.jsxs)("div",{className:"text-start text-white",children:[(0,Ct.jsx)("h2",{className:"text-sm sm:text-4xl font-bold sm:mb-2 ",children:"One App for all your"}),(0,Ct.jsx)("h2",{className:"text-sm sm:text-4xl font-bold sm:mb-4",children:"School Needs"}),(0,Ct.jsx)("button",{children:(0,Ct.jsx)("img",{src:"/image 54.png",alt:"Menu",className:"h-4 sm:h-12 mx-0 md:mx-4 "})}),(0,Ct.jsx)("button",{children:(0,Ct.jsx)("img",{src:"/image 55.png",alt:"Search",className:"h-4 sm:h-12 mx-1 md:mx-4 "})})]})})]});const Gt=function(){const[t,r]=(0,e.useState)(null),[a,n]=(0,e.useState)(""),[s,i]=(0,e.useState)(!1),[o,l]=(0,e.useState)("");return(0,e.useEffect)(()=>{const e=localStorage.getItem("selectedCity");if(e){l({gurgaon:"Gurugram",kanpur:"Kanpur"}[e]||e)}else l("Gurugram");const t=()=>{const e=localStorage.getItem("selectedCity");if(e){l({gurgaon:"Gurugram",kanpur:"Kanpur"}[e]||e)}};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[]),(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col relative",children:[(0,Ct.jsx)(Vt,{onSearchResults:e=>{r(e),i(null!==e)},searchTerm:a,onSearchTermChange:e=>{n(e),""===e.trim()?(r(null),i(!1)):i(!0)}}),(0,Ct.jsx)(Pt,{}),(0,Ct.jsx)(It,{}),(0,Ct.jsxs)("div",{className:"mx-4 md:mx-12 my-4 mb-4 max-w flex flex-col items-center justify-center",children:[(0,Ct.jsxs)("div",{className:"w-full flex flex-col md:flex-row items-center justify-center relative",children:[(0,Ct.jsxs)("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-[#7E30E1] to-[#39A7FF] text-transparent bg-clip-text text-center",children:["Pick Your School in ",o]}),(0,Ct.jsx)("a",{href:"/school",className:"text-blue-600 hover:underline mt-28 md:mt-16 absolute right-0 text-sm md:text-base",children:"View All Schools \u2192"})]}),(0,Ct.jsx)("p",{className:"font-nunito font-semibold text-green text-center text-sm md:text-base md:mt-1",children:"Fresh Look , New Term - Grab Your Uniform Today"})]}),(0,Ct.jsx)(Ft,{searchResults:t,isSearchActive:s,searchTerm:a}),!s&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("h1",{className:"mx-4 md:mx-12 text-2xl md:text-4xl font-bold my-4",children:"School Essentials"}),(0,Ct.jsx)(Ut,{}),(0,Ct.jsx)(Mt,{})]})]})},qt=e=>{let{products:t,searchTerm:r}=e;const a=le();if(console.log(t),!t||0===t.length)return null;return(0,Ct.jsxs)("div",{className:"my-2",children:[(0,Ct.jsx)("div",{className:"mx-4 md:mx-12 mb-4",children:(0,Ct.jsxs)("p",{className:"text-gray-700 text-lg",children:["Found ",(0,Ct.jsx)("span",{className:"font-bold text-blue-600",children:t.length})," ","product",1!==t.length?"s":"",r&&(0,Ct.jsxs)("span",{children:[" ",'matching "',(0,Ct.jsx)("span",{className:"font-semibold",children:r}),'"']})]})}),(0,Ct.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 my-4 px-4 mx-0 md:mx-12",children:t.map(e=>{var t;return(0,Ct.jsx)("div",{className:"flex flex-col items-center justify-center rounded-lg",children:(0,Ct.jsxs)("div",{className:"relative w-full bg-white rounded-2xl shadow-lg hover:scale-105 transition-transform hover:cursor-pointer p-3",onClick:()=>{return t=e.id,void a("/product/".concat(t));var t},children:[(0,Ct.jsx)("div",{className:"h-[150px] md:h-[200px] w-full flex items-center justify-center bg-gray-50 rounded-xl mb-3 overflow-hidden",children:(0,Ct.jsx)("img",{src:(null===(t=e.images)||void 0===t?void 0:t[0])||e.image_url||"https://placehold.co/300x300?text=Product",alt:e.title,className:"w-full h-full object-contain mix-blend-multiply"})}),(0,Ct.jsxs)("div",{className:"px-1",children:[(0,Ct.jsx)("p",{className:"text-gray-800 font-semibold truncate text-sm md:text-base mb-1",children:e.title}),(0,Ct.jsx)("div",{className:"flex items-center justify-between",children:(0,Ct.jsxs)("div",{children:[(0,Ct.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["\u20b9",e.min_price||e.base_price||0]}),(e.min_price||e.base_price)<1.2*(e.min_price||e.base_price||0)&&(0,Ct.jsxs)("span",{className:"text-xs text-gray-500 line-through ml-2",children:["\u20b9",Math.round(1.2*(e.min_price||e.base_price||0))]})]})})]})]})},e.id)})})]})};const Wt=function(){var t,r;const a=se(),[n,s]=(0,e.useState)(null),[i,o]=(0,e.useState)((null===(t=a.state)||void 0===t?void 0:t.searchTerm)||""),[l,c]=(0,e.useState)(!(null===(r=a.state)||void 0===r||!r.searchTerm)),d=Array.isArray(n)?n:(null===n||void 0===n?void 0:n.schools)||[],u=Array.isArray(n)?[]:(null===n||void 0===n?void 0:n.products)||[],h=d.length>0||u.length>0;return(0,Ct.jsxs)("div",{className:" bg-[#F3F8FF] flex flex-col relative",children:[(0,Ct.jsx)(Vt,{onSearchResults:e=>{s(e),c(null!==e)},searchTerm:i,onSearchTermChange:e=>{o(e),""===e.trim()?(s(null),c(!1)):c(!0)}}),(0,Ct.jsxs)("div",{className:"mx-12 my-4 mb-10 max-w flex flex-col items-center justify-center",children:[(0,Ct.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-[#7E30E1] to-[#39A7FF] text-transparent bg-clip-text",children:l?h?"Search Results":"No Results Found":"Pick Your School in Gurugram"}),(0,Ct.jsx)("p",{className:"font-nunito font-semibold text-green",children:l?"Find the perfect school or product for your needs":"Fresh Look , New Term - Grab Your Uniform Today"})]}),(0,Ct.jsx)(Ft,{searchResults:d,isSearchActive:l,searchTerm:i}),l&&u.length>0&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"mx-12 my-4",children:(0,Ct.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Products"})}),(0,Ct.jsx)(qt,{products:u,searchTerm:i})]})]})},Yt=(0,Rt.v)((e,t)=>({cart:{items:[],totalItems:0,subtotal:0,discount:0,deliveryCharges:0,platformFees:2,totalAmount:0},loading:!1,error:null,addToCart:async function(r,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e({loading:!0,error:null});try{const{cart:h}=t(),p=h.items.findIndex(e=>e.productId===r.id&&e.variantId===(null===n||void 0===n?void 0:n.id));let m=[...h.items];if(p>=0)m[p]=(0,a.A)((0,a.A)({},m[p]),{},{quantity:m[p].quantity+s});else{var i,o,l,c,d,u;const e=()=>{if(r.images&&r.images.length>0){const e=r.images.find(e=>e.isPrimary||e.is_primary);return e?e.url:r.images[0].url}return null!==n&&void 0!==n&&n.image?n.image:r.mainImage?r.mainImage:r.image?r.image:"/api/placeholder/300/300"},t=n?{id:n.id,sku:n.sku,price:n.price,compareAtPrice:n.compare_at_price||n.compareAtPrice,stock:n.stock,weight:n.weight,metadata:n.metadata,image:n.image,optionValues:{option1:n.option_value_1_ref?{id:n.option_value_1_ref.id,value:n.option_value_1_ref.value,attributeName:n.option_value_1_ref.attribute_name||"Set Type",priceModifier:n.option_value_1_ref.price_modifier||0}:null,option2:n.option_value_2_ref?{id:n.option_value_2_ref.id,value:n.option_value_2_ref.value,attributeName:n.option_value_2_ref.attribute_name||"Branch",priceModifier:n.option_value_2_ref.price_modifier||0}:null,option3:n.option_value_3_ref?{id:n.option_value_3_ref.id,value:n.option_value_3_ref.value,attributeName:n.option_value_3_ref.attribute_name||"Optional Subject",priceModifier:n.option_value_3_ref.price_modifier||0}:null},optionValueIds:{option_value_1:(null===(i=n.option_value_1_ref)||void 0===i?void 0:i.id)||null,option_value_2:(null===(o=n.option_value_2_ref)||void 0===o?void 0:o.id)||null,option_value_3:(null===(l=n.option_value_3_ref)||void 0===l?void 0:l.id)||null},variantDescription:[null===(c=n.option_value_1_ref)||void 0===c?void 0:c.value,null===(d=n.option_value_2_ref)||void 0===d?void 0:d.value,null===(u=n.option_value_3_ref)||void 0===u?void 0:u.value].filter(Boolean).join(" \u2022 ")}:null,a=(()=>{let e=(null===n||void 0===n?void 0:n.price)||r.basePrice||r.base_price||0;return n&&null!==t&&void 0!==t&&t.optionValues&&Object.values(t.optionValues).forEach(t=>{null!==t&&void 0!==t&&t.priceModifier&&(e+=t.priceModifier)}),Math.max(0,e)})(),h={id:"".concat(r.id,"-").concat((null===n||void 0===n?void 0:n.id)||"default"),productId:r.id,variantId:(null===n||void 0===n?void 0:n.id)||null,title:r.title||"Product Title",sku:(null===n||void 0===n?void 0:n.sku)||r.sku||"",price:a,originalPrice:(null===n||void 0===n?void 0:n.compare_at_price)||(null===n||void 0===n?void 0:n.compareAtPrice)||1.2*a,image:e(),quantity:s,productDetails:{id:r.id,title:r.title,sku:r.sku,productType:r.productType||r.product_type,basePrice:r.basePrice||r.base_price,currency:r.currency||"INR",retailerId:r.retailerId||r.retailer_id,retailerName:r.retailerName||r.retailer_name,metadata:r.metadata||{},shortDescription:r.shortDescription||r.short_description,description:r.description,images:r.images||[]},variantDetails:t,productType:r.productType||r.product_type||"product"};m.push(h)}const f=$t(m),g=(0,a.A)({items:m},f);return e({cart:g,loading:!1,error:null}),localStorage.setItem("bukizz_cart",JSON.stringify(g)),g}catch(h){throw console.error("Error adding to cart:",h),e({loading:!1,error:h.message}),h}},removeFromCart:function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const{cart:s}=t(),i=s.items.filter(e=>!(e.productId===r&&e.variantId===n)),o=$t(i),l=(0,a.A)({items:i},o);e({cart:l,error:null}),localStorage.setItem("bukizz_cart",JSON.stringify(l))}catch(s){console.error("Error removing from cart:",s),e({error:s.message})}},updateQuantity:function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2?arguments[2]:void 0;try{if(s<=0)return void t().removeFromCart(r,n);const{cart:i}=t(),o=i.items.map(e=>e.productId===r&&e.variantId===n?(0,a.A)((0,a.A)({},e),{},{quantity:Math.max(1,Math.min(1e3,s))}):e),l=$t(o),c=(0,a.A)({items:o},l);e({cart:c,error:null}),localStorage.setItem("bukizz_cart",JSON.stringify(c))}catch(i){console.error("Error updating quantity:",i),e({error:i.message})}},clearCart:()=>{try{e({cart:{items:[],totalItems:0,subtotal:0,discount:0,deliveryCharges:0,platformFees:0,totalAmount:0},error:null}),localStorage.removeItem("bukizz_cart")}catch(t){console.error("Error clearing cart:",t),e({error:t.message})}},loadCart:()=>{try{const t=localStorage.getItem("bukizz_cart");if(t){const r=JSON.parse(t);if(r&&Array.isArray(r.items)){const t=$t(r.items),n=(0,a.A)((0,a.A)({},r),t);e({cart:n,error:null})}}}catch(t){console.error("Error loading cart from localStorage:",t),e({error:"Failed to load saved cart"}),localStorage.removeItem("bukizz_cart")}},getCartItemCount:()=>{const{cart:e}=t();return e.totalItems||0},isInCart:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{cart:a}=t();return a.items.some(t=>t.productId===e&&t.variantId===r)},getOrderItems:()=>{const{cart:e}=t();return e.items.map(e=>{var t,r;return{productId:e.productId,variantId:e.variantId,quantity:e.quantity,unitPrice:e.price,totalPrice:e.price*e.quantity,sku:e.sku,title:e.title,variantDetails:e.variantDetails,productDetails:e.productDetails,productSnapshot:{title:e.title,sku:e.sku,price:e.price,variantDescription:null===(t=e.variantDetails)||void 0===t?void 0:t.variantDescription,optionValues:null===(r=e.variantDetails)||void 0===r?void 0:r.optionValues}}})},getCartSummary:()=>{const{cart:e}=t();return{itemCount:e.totalItems||0,subtotal:e.subtotal||0,discount:e.discount||0,deliveryCharges:e.deliveryCharges||0,platformFees:e.platformFees||0,totalAmount:e.totalAmount||0,items:t().getOrderItems()}},validateCartItems:async()=>{const{cart:e}=t(),r=[];if(null===e||void 0===e||!e.items||0===e.items.length)return{isValid:!0,results:[],totalIssues:0};for(const t of e.items){var a,n;const e={itemId:t.id,productId:t.productId,variantId:t.variantId,isValid:!0,issues:[],currentStock:(null===(a=t.variantDetails)||void 0===a?void 0:a.stock)||0,requestedQuantity:t.quantity||0};t.title&&t.price||(e.isValid=!1,e.issues.push({type:"INVALID_DATA",message:"Item is missing required data (title or price)"})),t.price<=0&&(e.isValid=!1,e.issues.push({type:"INVALID_PRICE",message:"Item has invalid price"})),void 0!==(null===(n=t.variantDetails)||void 0===n?void 0:n.stock)&&t.quantity>t.variantDetails.stock&&(e.isValid=!1,e.issues.push({type:"INSUFFICIENT_STOCK",message:"Only ".concat(t.variantDetails.stock," units available, but ").concat(t.quantity," requested"),availableStock:t.variantDetails.stock})),t.variantId&&!t.variantDetails&&(e.isValid=!1,e.issues.push({type:"VARIANT_NOT_FOUND",message:"Selected variant is no longer available"})),t.quantity>1e3&&(e.isValid=!1,e.issues.push({type:"QUANTITY_LIMIT",message:"Quantity exceeds maximum limit of 1000"})),r.push(e)}return{isValid:r.every(e=>e.isValid),results:r,totalIssues:r.reduce((e,t)=>e+t.issues.length,0)}}})),$t=e=>{if(!Array.isArray(e)||0===e.length)return{totalItems:0,subtotal:0,discount:0,deliveryCharges:0,platformFees:0,totalAmount:0};const t=e.reduce((e,t)=>e+(t.price||0)*(t.quantity||0),0),r=e.reduce((e,t)=>e+(t.quantity||0),0),a=Math.min(.2*t,500),n=t>500?0:50,s=t>0?2:0,i=Math.max(0,t-a+n+s);return{totalItems:r,subtotal:parseFloat(t.toFixed(2)),discount:parseFloat(a.toFixed(2)),deliveryCharges:parseFloat(n.toFixed(2)),platformFees:parseFloat(s.toFixed(2)),totalAmount:parseFloat(i.toFixed(2))}},Kt=Yt;var Jt=__webpack_require__(723);const Qt=function(){var t,r;const a=le(),{isAuthenticated:n}=(0,Jt.default)(),{cart:s,updateQuantity:i,removeFromCart:o,clearCart:l,validateCartItems:c,loading:d,loadCart:u}=Kt(),[h,p]=(0,e.useState)(null),m=(0,e.useRef)(new Set);(0,e.useEffect)(()=>{u()},[]),(0,e.useEffect)(()=>{var e;(null===s||void 0===s||null===(e=s.items)||void 0===e?void 0:e.length)>0?c().then(p):p(null)},[null===s||void 0===s||null===(t=s.items)||void 0===t?void 0:t.length]);const f=(e,t,r)=>{r<1?g(e,t):i(e,t,r)},g=(e,t)=>{o(e,t)},y=(0,e.useCallback)((e,t)=>{t&&(m.current.has(t)||m.current.add(t),e.target.src="/api/placeholder/80/80")},[]),v=(0,e.useCallback)(e=>{var t,r,a,n;return e.image&&"/placeholder.jpg"!==e.image?e.image:null!==(t=e.productDetails)&&void 0!==t&&null!==(r=t.images)&&void 0!==r&&null!==(a=r[0])&&void 0!==a&&a.url?e.productDetails.images[0].url:null!==(n=e.variantDetails)&&void 0!==n&&n.image?e.variantDetails.image:"/api/placeholder/80/80"},[]),b=e=>{if(!e.variantDetails)return null;if(e.variantDetails.variantDescription)return e.variantDetails.variantDescription;if(e.variantDetails.optionValues){const t=Object.values(e.variantDetails.optionValues).filter(e=>e&&e.value).map(e=>e.value);return t.length>0?t.join(" \u2022 "):null}return null},x=e=>"number"===typeof e?e.toFixed(2):"0.00";return d?(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"flex justify-center items-center flex-1",children:(0,Ct.jsxs)("div",{className:"text-center",children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ct.jsx)("p",{className:"text-gray-600",children:"Loading your cart..."})]})})]}):(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ct.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Shopping Cart"}),(null===s||void 0===s||null===(r=s.items)||void 0===r?void 0:r.length)>0&&(0,Ct.jsx)("button",{onClick:l,className:"text-red-600 hover:text-red-800 font-medium",children:"Clear Cart"})]}),null!==s&&void 0!==s&&s.items&&0!==s.items.length?(0,Ct.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,Ct.jsx)("div",{className:"lg:col-span-2",children:(0,Ct.jsx)("div",{className:"bg-white rounded-lg shadow-sm",children:(0,Ct.jsxs)("div",{className:"p-6",children:[(0,Ct.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Cart Items (",s.totalItems||0,")"]}),h&&!h.isValid&&(0,Ct.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[(0,Ct.jsx)("h3",{className:"font-medium text-yellow-800 mb-2",children:"\u26a0\ufe0f Cart Issues Found:"}),h.results.map((e,t)=>e.issues.map((e,r)=>(0,Ct.jsxs)("p",{className:"text-sm text-yellow-700",children:["\u2022 ",e.message]},"".concat(t,"-").concat(r))))]}),(0,Ct.jsx)("div",{className:"space-y-6",children:s.items.map(e=>{var t;return(0,Ct.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,Ct.jsxs)("div",{className:"flex gap-4",children:[(0,Ct.jsx)("div",{className:"flex-shrink-0",children:(0,Ct.jsx)("img",{src:v(e),alt:e.title||"Product",className:"w-20 h-20 object-cover rounded-lg border",onError:t=>y(t,e.image)})}),(0,Ct.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ct.jsx)("h3",{className:"font-semibold text-gray-800 text-lg mb-1",children:e.title||"Product Title"}),(0,Ct.jsx)("p",{className:"text-sm text-gray-600 capitalize mb-2",children:e.productType||"Product"}),e.sku&&(0,Ct.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:["SKU: ",e.sku]}),e.variantDetails&&(0,Ct.jsxs)("div",{className:"mb-3",children:[b(e)&&(0,Ct.jsx)("p",{className:"text-sm font-medium text-blue-800 mb-1",children:b(e)}),e.variantDetails.optionValues&&(0,Ct.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:Object.entries(e.variantDetails.optionValues).map(e=>{let[t,r]=e;return r&&r.value&&(0,Ct.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:r.value},t)})}),void 0!==e.variantDetails.stock&&(0,Ct.jsxs)("p",{className:"text-xs text-gray-500",children:["Stock:"," ",e.variantDetails.stock||"Out of Stock"]})]}),(0,Ct.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ct.jsxs)("span",{className:"font-semibold text-lg text-green-600",children:["\u20b9",x(e.price)]}),e.originalPrice&&e.originalPrice>e.price&&(0,Ct.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["\u20b9",x(e.originalPrice)]})]})]}),(0,Ct.jsxs)("div",{className:"flex flex-col items-end gap-3",children:[(0,Ct.jsx)("button",{onClick:()=>g(e.productId,e.variantId),className:"text-red-500 hover:text-red-700 p-1",title:"Remove item",children:(0,Ct.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ct.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,Ct.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ct.jsx)("button",{onClick:()=>f(e.productId,e.variantId,e.quantity-1),className:"w-8 h-8 border border-gray-300 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors",disabled:e.quantity<=1,children:"\u2212"}),(0,Ct.jsx)("span",{className:"w-12 text-center font-medium",children:e.quantity||1}),(0,Ct.jsx)("button",{onClick:()=>f(e.productId,e.variantId,e.quantity+1),className:"w-8 h-8 border border-gray-300 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors",disabled:(null===(t=e.variantDetails)||void 0===t?void 0:t.stock)&&e.quantity>=e.variantDetails.stock,children:"+"})]}),(0,Ct.jsxs)("div",{className:"text-right",children:[(0,Ct.jsxs)("p",{className:"font-semibold text-lg",children:["\u20b9",x(e.price*e.quantity)]}),(0,Ct.jsxs)("p",{className:"text-xs text-gray-500",children:["\u20b9",x(e.price)," each"]})]})]})]})},e.id||"".concat(e.productId,"-").concat(e.variantId))})})]})})}),(0,Ct.jsx)("div",{className:"lg:col-span-1",children:(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-4",children:[(0,Ct.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),(0,Ct.jsxs)("div",{className:"space-y-3",children:[(0,Ct.jsxs)("div",{className:"flex justify-between",children:[(0,Ct.jsxs)("span",{children:["Subtotal (",s.totalItems||0," items)"]}),(0,Ct.jsxs)("span",{children:["\u20b9",x(s.subtotal)]})]}),(0,Ct.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,Ct.jsx)("span",{children:"Discount"}),(0,Ct.jsxs)("span",{children:["-\u20b9",x(s.discount)]})]}),(0,Ct.jsxs)("div",{className:"flex justify-between",children:[(0,Ct.jsx)("span",{children:"Delivery Charges"}),(0,Ct.jsx)("span",{children:0===s.deliveryCharges?(0,Ct.jsx)("span",{className:"text-green-600",children:"FREE"}):"\u20b9".concat(x(s.deliveryCharges))})]}),(0,Ct.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ct.jsx)("span",{children:"Platform Fees"}),(0,Ct.jsxs)("span",{children:["\u20b9",x(s.platformFees)]})]}),(0,Ct.jsx)("div",{className:"border-t pt-3",children:(0,Ct.jsxs)("div",{className:"flex justify-between font-semibold text-lg",children:[(0,Ct.jsx)("span",{children:"Total Amount"}),(0,Ct.jsxs)("span",{className:"text-green-600",children:["\u20b9",x(s.totalAmount)]})]})})]}),(0,Ct.jsx)("button",{onClick:()=>{n?!h||h.isValid?a("/checkout"):alert("Please fix cart issues before proceeding to checkout."):a("/login")},disabled:!(null!==h&&void 0!==h&&h.isValid)&&null!==h,className:"w-full mt-6 py-3 px-4 rounded-lg font-medium transition-colors ".concat(null!==h&&void 0!==h&&h.isValid||null===h?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:null!==h&&void 0!==h&&h.isValid||null===h?"Proceed to Checkout":"Fix Cart Issues First"}),(0,Ct.jsx)("div",{className:"mt-4 text-center",children:(0,Ct.jsx)("button",{onClick:()=>a("/"),className:"text-blue-500 hover:text-blue-700 font-medium",children:"Continue Shopping"})})]})})]}):(0,Ct.jsxs)("div",{className:"text-center py-16",children:[(0,Ct.jsx)("div",{className:"text-gray-400 mb-4",children:(0,Ct.jsx)("svg",{className:"w-24 h-24 mx-auto mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ct.jsx)("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zM8 6V5a2 2 0 114 0v1H8zm2 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Your cart is empty"}),(0,Ct.jsx)("p",{className:"text-gray-500 mb-6",children:"Add some products to get started!"}),(0,Ct.jsx)("button",{onClick:()=>a("/"),className:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:"Continue Shopping"})]})]})]})},Xt=Dt.Ay.getState().baseUrl,Zt=(0,Rt.v)((e,t)=>({addresses:[],loading:!1,error:null,selectedAddressId:null,geoLoading:!1,geoError:null,currentLocation:null,detectedAddress:null,setLoading:t=>e({loading:t}),setError:t=>e({error:t}),clearError:()=>e({error:null}),setGeoLoading:t=>e({geoLoading:t}),setGeoError:t=>e({geoError:t}),clearGeoError:()=>e({geoError:null}),getCurrentLocation:()=>new Promise((t,r)=>{navigator.geolocation?(e({geoLoading:!0,geoError:null}),navigator.geolocation.getCurrentPosition(r=>{const a={lat:r.coords.latitude,lng:r.coords.longitude,accuracy:r.coords.accuracy,altitude:r.coords.altitude,altitudeAccuracy:r.coords.altitudeAccuracy,heading:r.coords.heading,speed:r.coords.speed,timestamp:r.timestamp};e({currentLocation:a,geoLoading:!1,geoError:null}),t(a)},a=>{navigator.geolocation.getCurrentPosition(r=>{const a={lat:r.coords.latitude,lng:r.coords.longitude,accuracy:r.coords.accuracy,altitude:r.coords.altitude,altitudeAccuracy:r.coords.altitudeAccuracy,heading:r.coords.heading,speed:r.coords.speed,timestamp:r.timestamp};e({currentLocation:a,geoLoading:!1,geoError:null}),t(a)},t=>{let a="Unable to get your location";switch(t.code){case t.PERMISSION_DENIED:a="Location access denied. Please allow location access and try again.";break;case t.POSITION_UNAVAILABLE:a="Location information unavailable. Please check your GPS settings.";break;case t.TIMEOUT:a="Location request timed out. Please try again.";break;default:a="An unknown error occurred while getting location."}e({geoLoading:!1,geoError:a}),r(new Error(a))},{enableHighAccuracy:!1,timeout:15e3,maximumAge:6e5})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})):r(new Error("Geolocation is not supported by this browser"))}),reverseGeocodeEnhanced:async(r,a)=>{e({geoLoading:!0,geoError:null});const n=[{name:"BigDataCloud",fn:()=>t().reverseGeocodeBigDataCloud(r,a)},{name:"Nominatim",fn:()=>t().reverseGeocodeNominatim(r,a)},{name:"LocationIQ",fn:()=>t().reverseGeocodeLocationIQ(r,a)}];for(const t of n)try{console.log("Trying ".concat(t.name," for reverse geocoding..."));const r=await t.fn();if(r&&r.line1)return console.log("Successfully got address from ".concat(t.name)),e({detectedAddress:r,geoLoading:!1,geoError:null}),r}catch(i){console.warn("".concat(t.name," failed:"),i.message)}const s={line1:"Please enter your address manually",line2:"",city:"",state:"",country:"India",postalCode:"",lat:r,lng:a};return e({detectedAddress:s,geoLoading:!1,geoError:"Could not automatically detect address. Please enter manually."}),s},reverseGeocodeBigDataCloud:async(e,r)=>{var a,n,s,i,o,l,c,d,u,h,p,m,f,g,y,v,b,x;const w=await fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(e,"&longitude=").concat(r,"&localityLanguage=en"));if(!w.ok)throw new Error("BigDataCloud API request failed");const S=await w.json();return{line1:t().buildAddressLine1(S),line2:t().buildAddressLine2(S),city:S.city||S.locality||(null===(a=S.localityInfo)||void 0===a||null===(n=a.administrative)||void 0===n||null===(s=n[2])||void 0===s?void 0:s.name)||"",state:S.principalSubdivision||(null===(i=S.localityInfo)||void 0===i||null===(o=i.administrative)||void 0===o||null===(l=o[1])||void 0===l?void 0:l.name)||"",country:S.countryName||"India",postalCode:S.postcode||"",lat:e,lng:r,neighborhood:(null===(c=S.localityInfo)||void 0===c||null===(d=c.administrative)||void 0===d||null===(u=d[3])||void 0===u?void 0:u.name)||"",district:(null===(h=S.localityInfo)||void 0===h||null===(p=h.administrative)||void 0===p||null===(m=p[2])||void 0===m?void 0:m.name)||"",subDistrict:(null===(f=S.localityInfo)||void 0===f||null===(g=f.administrative)||void 0===g||null===(y=g[4])||void 0===y?void 0:y.name)||"",landmark:(null===(v=S.localityInfo)||void 0===v||null===(b=v.informative)||void 0===b||null===(x=b[0])||void 0===x?void 0:x.name)||""}},reverseGeocodeNominatim:async(e,r)=>{const a=await fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(r,"&zoom=18&addressdetails=1"),{headers:{"User-Agent":"Bukizz-DeliveryApp/1.0"}});if(!a.ok)throw new Error("Nominatim API request failed");const n=await a.json();if(!n.address)throw new Error("No address data from Nominatim");const s=n.address;return{line1:t().buildNominatimAddressLine1(s),line2:s.neighbourhood||s.suburb||s.residential||"",city:s.city||s.town||s.village||s.municipality||"",state:s.state||s.state_district||"",country:s.country||"India",postalCode:s.postcode||"",lat:e,lng:r,neighborhood:s.neighbourhood||s.suburb||"",district:s.city_district||s.county||"",landmark:s.amenity||s.shop||""}},reverseGeocodeLocationIQ:async(e,t)=>{const r=await fetch("https://us1.locationiq.com/v1/reverse.php?key=demo&lat=".concat(e,"&lon=").concat(t,"&format=json&addressdetails=1"));if(!r.ok)throw new Error("LocationIQ API request failed");const a=await r.json();if(!a.address)throw new Error("No address data from LocationIQ");const n=a.address;return{line1:"".concat(n.house_number||""," ").concat(n.road||n.street||"").trim()||"Address Line 1",line2:n.neighbourhood||n.suburb||n.quarter||"",city:n.city||n.town||n.village||"",state:n.state||"",country:n.country||"India",postalCode:n.postcode||"",lat:e,lng:t}},buildAddressLine1:e=>{var t,r,a,n,s,i;const o=[];return null!==(t=e.localityInfo)&&void 0!==t&&null!==(r=t.administrative)&&void 0!==r&&null!==(a=r[4])&&void 0!==a&&a.name&&o.push(e.localityInfo.administrative[4].name),e.locality&&o.push(e.locality),null!==(n=e.localityInfo)&&void 0!==n&&null!==(s=n.administrative)&&void 0!==s&&null!==(i=s[3])&&void 0!==i&&i.name&&o.push(e.localityInfo.administrative[3].name),o.length>0?o.join(", "):"Address Line 1"},buildAddressLine2:e=>{var t,r,a,n,s,i;return(null===(t=e.localityInfo)||void 0===t||null===(r=t.administrative)||void 0===r||null===(a=r[2])||void 0===a?void 0:a.name)||(null===(n=e.localityInfo)||void 0===n||null===(s=n.administrative)||void 0===s||null===(i=s[1])||void 0===i?void 0:i.name)||""},buildNominatimAddressLine1:e=>{const t=[];return e.house_number&&t.push(e.house_number),e.road&&t.push(e.road),e.street&&t.push(e.street),t.length>0?t.join(" "):"Address Line 1"},getCurrentLocationAndAddress:async function(){try{const e=await t().getCurrentLocation();return{location:e,address:await t().reverseGeocodeEnhanced(e.lat,e.lng)}}catch(e){throw console.error("Error getting location and address:",e),e}},reverseGeocodeGoogle:async(e,t,r)=>{try{const a=await fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e,",").concat(t,"&key=").concat(r,"&result_type=street_address|premise|subpremise"));if(!a.ok)throw new Error("Google Maps API request failed");const n=await a.json();if("OK"!==n.status||!n.results.length)throw new Error("Google Maps API error: ".concat(n.status));const s=n.results[0],i=s.address_components,o=e=>{const t=i.find(t=>t.types.some(t=>e.includes(t)));return t?t.long_name:""};return{line1:"".concat(o(["street_number"])," ").concat(o(["route"])).trim()||o(["premise"])||o(["subpremise"])||"Address Line 1",line2:o(["sublocality_level_2","sublocality_level_1","sublocality"])||o(["neighborhood"])||"",city:o(["locality","administrative_area_level_2"])||"",state:o(["administrative_area_level_1"])||"",country:o(["country"])||"India",postalCode:o(["postal_code"])||"",lat:e,lng:t,formattedAddress:s.formatted_address,placeId:s.place_id}}catch(a){throw console.error("Google reverse geocoding error:",a),a}},fetchAddresses:async()=>{e({loading:!0,error:null});try{const a=localStorage.getItem("custom_token");if(!a)return e({loading:!1,error:null}),[];const n=await fetch("".concat(Xt,"/users/addresses"),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(!n.ok){var r;const a=await n.json();if(401===n.status||null!==(r=a.message)&&void 0!==r&&r.includes("token")){console.log("Token expired, attempting refresh...");try{const{default:r}=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,723));await r.getState().refreshToken(),console.log("Token refreshed successfully, retrying request...");const a=localStorage.getItem("custom_token"),n=await fetch("".concat(Xt,"/users/addresses"),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(n.ok){const r=(await n.json()).data.addresses||[];return!t().selectedAddressId&&r.length>0&&e({selectedAddressId:r[0].id}),e({addresses:r,loading:!1,error:null}),r}throw new Error("Failed to fetch addresses after token refresh")}catch(s){return console.error("Token refresh failed:",s),e({loading:!1,error:"Session expired. Please login again."}),[]}}throw new Error(a.message||"Failed to fetch addresses")}const i=(await n.json()).data.addresses||[];return!t().selectedAddressId&&i.length>0&&e({selectedAddressId:i[0].id}),e({addresses:i,loading:!1,error:null}),i}catch(i){var a,n;throw null!==(a=i.message)&&void 0!==a&&a.includes("fetch")||null!==(n=i.message)&&void 0!==n&&n.includes("network")?e({loading:!1,error:"Connection issue. Please check your internet and try again."}):e({loading:!1,error:i.message}),i}},addAddress:async t=>{e({loading:!0,error:null});try{const r=localStorage.getItem("custom_token");if(!r)return e({loading:!1,error:null}),null;const n=["label","line1","city","state","country","postalCode"];for(const e of n)if(!t[e]||!t[e].toString().trim())throw new Error("".concat(e," is required"));const s=(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},t),t.lat&&t.lng&&{lat:parseFloat(t.lat),lng:parseFloat(t.lng)}),t.neighborhood&&{neighborhood:t.neighborhood}),t.district&&{district:t.district}),t.landmark&&{landmark:t.landmark}),t.formattedAddress&&{formattedAddress:t.formattedAddress}),t.placeId&&{placeId:t.placeId}),i=await fetch("".concat(Xt,"/users/addresses"),{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok){const e=await i.json();throw new Error(e.message||"Failed to add address")}const o=(await i.json()).data.address;return e(e=>({addresses:[...e.addresses,o],selectedAddressId:o.id,loading:!1,error:null})),o}catch(r){throw e({loading:!1,error:r.message}),r}},updateAddress:async(t,r)=>{e({loading:!0,error:null});try{const n=localStorage.getItem("custom_token");if(!n)return e({loading:!1,error:null}),null;const s=(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},r),r.lat&&r.lng&&{lat:parseFloat(r.lat),lng:parseFloat(r.lng)}),r.neighborhood&&{neighborhood:r.neighborhood}),r.district&&{district:r.district}),r.landmark&&{landmark:r.landmark}),r.formattedAddress&&{formattedAddress:r.formattedAddress}),r.placeId&&{placeId:r.placeId}),i=await fetch("".concat(Xt,"/users/addresses/").concat(t),{method:"PUT",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok){const e=await i.json();throw new Error(e.message||"Failed to update address")}const o=(await i.json()).data.address;return e(e=>({addresses:e.addresses.map(e=>e.id===t?o:e),loading:!1,error:null})),o}catch(n){throw e({loading:!1,error:n.message}),n}},deleteAddress:async t=>{e({loading:!0,error:null});try{const r=localStorage.getItem("custom_token");if(!r)return e({loading:!1,error:null}),null;const a=await fetch("".concat(Xt,"/users/addresses/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});if(!a.ok){const e=await a.json();throw new Error(e.message||"Failed to delete address")}return e(e=>{const r=e.addresses.filter(e=>e.id!==t);return{addresses:r,selectedAddressId:e.selectedAddressId===t&&r.length>0?r[0].id:e.selectedAddressId===t?null:e.selectedAddressId,loading:!1,error:null}}),!0}catch(r){throw e({loading:!1,error:r.message}),r}},selectAddress:t=>{e({selectedAddressId:t})},getSelectedAddress:()=>{const{addresses:e,selectedAddressId:r}=t();return e.find(e=>e.id===r)||null},clear:()=>{e({addresses:[],loading:!1,error:null,selectedAddressId:null,geoLoading:!1,geoError:null,currentLocation:null,detectedAddress:null})}})),er=Zt,tr=Dt.Ay.getState().baseUrl,rr=(0,Rt.v)((e,t)=>({currentOrder:null,orderSummary:null,loading:!1,error:null,placingOrder:!1,orderPlaced:!1,paymentProcessing:!1,orderValidation:{cartValid:!1,addressValid:!1,stockValid:!1,priceValid:!1},setLoading:t=>e({loading:t}),setError:t=>e({error:t}),clearError:()=>e({error:null}),setPlacingOrder:t=>e({placingOrder:t}),setPaymentProcessing:t=>e({paymentProcessing:t}),validateOrderPrerequisites:async(r,a,n)=>{e({loading:!0,error:null});try{const s={cartValid:!1,addressValid:!1,stockValid:!1,priceValid:!1,errors:[]};if(r&&0!==r.length?s.cartValid=!0:s.errors.push("Cart is empty. Please add items to place an order."),a?a.line1&&a.city&&a.state&&a.postalCode?s.addressValid=!0:s.errors.push("Incomplete delivery address. Please provide complete address details."):s.errors.push("Please select a delivery address."),n||s.errors.push("Please select a payment method."),s.cartValid){const e=await t().validateStockAvailability(r);s.stockValid=e.allInStock,e.allInStock||s.errors.push(...e.errors)}if(s.cartValid){const e=await t().validateCurrentPricing(r);s.priceValid=e.allValid,e.allValid||s.errors.push(...e.errors)}return e({orderValidation:s,loading:!1}),s}catch(s){return console.error("Error validating order prerequisites:",s),e({loading:!1,error:s.message,orderValidation:{cartValid:!1,addressValid:!1,stockValid:!1,priceValid:!1,errors:[s.message]}}),{cartValid:!1,addressValid:!1,stockValid:!1,priceValid:!1,errors:[s.message]}}},validateStockAvailability:async e=>{try{const t=localStorage.getItem("custom_token");if(!t)throw new Error("Authentication required");const r=await Promise.allSettled(e.map(async e=>{const r=new URLSearchParams({quantity:e.quantity.toString()});e.variantId&&r.append("variantId",e.variantId);const a=await fetch("".concat(tr,"/products/").concat(e.productId,"/availability?").concat(r),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw new Error("Failed to check availability for ".concat(e.title));const n=await a.json();console.log("Stock check response for",e.title,":",n);const s=n.data;return{item:e,available:s.available,stock:s.availableQuantity||s.stock||0,requested:e.quantity}})),a=[];let n=!0;return r.forEach((e,t)=>{if("rejected"===e.status)a.push("Stock check failed for item ".concat(t+1,": ").concat(e.reason)),n=!1;else if(!e.value.available){const{item:t,stock:r,requested:s}=e.value;a.push("".concat(t.title," - Only ").concat(r||0," available, but ").concat(s," requested")),n=!1}}),{allInStock:n,errors:a}}catch(t){return{allInStock:!1,errors:["Stock validation failed: ".concat(t.message)]}}},validateCurrentPricing:async e=>{try{const t=localStorage.getItem("custom_token");if(!t)throw new Error("Authentication required");const r=await Promise.allSettled(e.map(async e=>{let r="".concat(tr,"/products/").concat(e.productId);const a=await fetch(r,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw new Error("Failed to fetch current price for ".concat(e.title));const n=(await a.json()).data.product;let s=n.basePrice;if(e.variantId&&n.variants){const t=n.variants.find(t=>t.id===e.variantId);t&&(s=t.price||n.basePrice)}return{item:e,currentPrice:parseFloat(s),cartPrice:parseFloat(e.price),priceChanged:Math.abs(parseFloat(s)-parseFloat(e.price))>.01}})),a=[];let n=!0;return r.forEach((e,t)=>{if("rejected"===e.status)a.push("Price check failed for item ".concat(t+1,": ").concat(e.reason)),n=!1;else if(e.value.priceChanged){const{item:t,currentPrice:r,cartPrice:s}=e.value;a.push("".concat(t.title," - Price changed from \u20b9").concat(s," to \u20b9").concat(r,". Please refresh your cart.")),n=!1}}),{allValid:n,errors:a}}catch(t){return{allValid:!1,errors:["Price validation failed: ".concat(t.message)]}}},calculateFinalOrderSummary:async r=>{try{const a=t().calculateOrderSummaryFallback(r);return e({orderSummary:a}),a}catch(a){console.error("Error calculating order summary:",a);try{const a=t().calculateOrderSummaryFallback(r);return e({orderSummary:a}),a}catch(n){throw console.error("Fallback calculation also failed:",n),new Error("Failed to calculate order summary")}}},calculateOrderSummaryFallback:e=>{if(!Array.isArray(e)||0===e.length)return{subtotal:0,deliveryFee:0,platformFee:0,tax:0,total:0,savings:0,currency:"INR"};const t=e.reduce((e,t)=>e+(t.price||0)*(t.quantity||0),0),r=t>=500?0:50,a=t>0?2:0,n=.18*t,s=Math.min(.2*t,500),i=t+r+a+n-s;return{subtotal:parseFloat(t.toFixed(2)),deliveryFee:parseFloat(r.toFixed(2)),platformFee:parseFloat(a.toFixed(2)),tax:parseFloat(n.toFixed(2)),total:parseFloat(Math.max(0,i).toFixed(2)),savings:parseFloat(s.toFixed(2)),currency:"INR"}},placeOrder:async r=>{const{cartItems:n,selectedAddress:s,paymentMethod:i="cod",contactPhone:o,contactEmail:l}=r;e({placingOrder:!0,error:null,orderPlaced:!1});try{console.log("\ud83d\udd0d Step 1: Validating order prerequisites...");const r=await t().validateOrderPrerequisites(n,s,i);if(!r.cartValid||!r.addressValid||!r.stockValid||!r.priceValid)throw new Error("Order validation failed: ".concat(r.errors.join(", ")));console.log("\ud83d\udcb0 Step 2: Calculating final order summary...");const d=await t().calculateFinalOrderSummary(n);console.log("\ud83d\udccb Step 3: Preparing order data...");const u=localStorage.getItem("custom_token");if(!u)throw new Error("Authentication required. Please log in again.");const h={items:n.map(e=>({productId:e.productId,variantId:e.variantId||null,quantity:e.quantity,unitPrice:e.price,totalPrice:e.price*e.quantity,productSnapshot:{title:e.title,sku:e.sku,description:e.description||"",image:e.image||"",category:e.category||"",brand:e.brand||""}})),shippingAddress:(0,a.A)((0,a.A)((0,a.A)((0,a.A)({recipientName:s.recipientName||"",phone:s.phone||o||"",line1:s.line1,line2:s.line2||"",city:s.city,state:s.state,country:s.country||"India",postalCode:s.postalCode},s.lat&&s.lng&&{coordinates:{lat:parseFloat(s.lat),lng:parseFloat(s.lng)}}),s.landmark&&{landmark:s.landmark}),s.neighborhood&&{neighborhood:s.neighborhood}),s.district&&{district:s.district}),billingAddress:s,contactPhone:o||s.phone||"",contactEmail:l||"",paymentMethod:i,orderSummary:{subtotal:d.subtotal,deliveryFee:d.deliveryFee,platformFee:d.platformFee,tax:d.tax,total:d.total,currency:d.currency||"INR",savings:d.savings||0},metadata:{source:"web",userAgent:navigator.userAgent,orderPlacedAt:(new Date).toISOString(),cartSessionId:localStorage.getItem("cart_session_id")||"",deviceInfo:{screen:"".concat(screen.width,"x").concat(screen.height),language:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}};console.log("\ud83d\ude80 Step 4: Submitting order...");const p=await fetch("".concat(tr,"/orders"),{method:"POST",headers:{Authorization:"Bearer ".concat(u),"Content-Type":"application/json"},body:JSON.stringify(h)});if(!p.ok){const e=await p.json();throw 400===p.status?new Error(e.message||"Invalid order data. Please check your cart and try again."):401===p.status?new Error("Session expired. Please log in again."):409===p.status?new Error("Some items are out of stock. Please refresh your cart and try again."):422===p.status?new Error("Order validation failed. Please check all required fields."):new Error(e.message||"Failed to place order. Please try again.")}const m=(await p.json()).data.order;if(console.log("\u2705 Order placed successfully:",m.id),"cod"!==i){console.log("\ud83d\udcb3 Step 5: Processing payment..."),e({paymentProcessing:!0});try{await t().processPayment(m,i)}catch(c){console.warn("Payment processing failed, but order was created:",c.message)}finally{e({paymentProcessing:!1})}}return console.log("\ud83e\uddf9 Step 6: Cleaning up..."),e({currentOrder:m,orderPlaced:!0,placingOrder:!1,error:null}),localStorage.removeItem("cart_items"),localStorage.removeItem("cart_session_id"),m}catch(d){throw console.error("\u274c Order placement failed:",d),e({placingOrder:!1,paymentProcessing:!1,error:d.message}),d}},initiateRazorpayPayment:async e=>{try{const t=localStorage.getItem("custom_token");if(!t)throw new Error("Authentication required");const r=await fetch(Dt.Ay.getState().payments.createOrder,{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({orderId:e})}),a=await r.json();if(!r.ok)throw new Error(a.message||"Failed to initiate payment");return a.data}catch(t){throw console.error("Razorpay initiation failed:",t),t}},verifyRazorpayPayment:async e=>{try{const t=localStorage.getItem("custom_token");if(!t)throw new Error("Authentication required");const r=await fetch(Dt.Ay.getState().payments.verify,{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await r.json();if(!r.ok)throw new Error(a.message||"Payment verification failed");return a}catch(t){throw console.error("Payment verification failed:",t),t}},reportPaymentFailure:async e=>{try{const t=localStorage.getItem("custom_token");if(!t)return;const r="".concat(tr,"/payments/failure");await fetch(r,{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){console.error("Failed to report payment failure:",t)}},processPayment:async(e,t)=>"cod"===t?{status:"pending",method:"cod"}:{status:"pending",method:t},getOrderDetails:async t=>{e({loading:!0,error:null});try{const r=localStorage.getItem("custom_token");if(!r)throw new Error("Authentication required");const a=await fetch("".concat(tr,"/orders/").concat(t),{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});if(!a.ok){const e=await a.json();throw new Error(e.message||"Failed to fetch order details")}const n=(await a.json()).data.order;return e({currentOrder:n,loading:!1}),n}catch(r){throw e({loading:!1,error:r.message}),r}},resetOrderState:()=>{e({currentOrder:null,orderSummary:null,loading:!1,error:null,placingOrder:!1,orderPlaced:!1,paymentProcessing:!1,orderValidation:{cartValid:!1,addressValid:!1,stockValid:!1,priceValid:!1}})},retryOrderPlacement:async()=>{const{currentOrder:e}=t();if(e&&e.retryData)return await t().placeOrder(e.retryData);throw new Error("No retry data available")},syncOrderStatus:async r=>{try{const a=await t().getOrderDetails(r);return"cancelled"===a.status&&e({error:"This order has been cancelled"}),a}catch(a){throw console.error("Failed to sync order status:",a),a}},clear:()=>{e({currentOrder:null,orderSummary:null,loading:!1,error:null,placingOrder:!1,orderPlaced:!1,paymentProcessing:!1,orderValidation:{cartValid:!1,addressValid:!1,stockValid:!1,priceValid:!1}})}})),ar=rr,nr=(0,Rt.v)((e,t)=>({notifications:[],showNotification:t=>{const r=Date.now()+Math.random(),n=(0,a.A)({id:r,type:"error",title:"Notification",message:"",autoClose:!0,duration:5e3},t);return e(e=>({notifications:[...e.notifications,n]})),r},hideNotification:t=>{e(e=>({notifications:e.notifications.filter(e=>e.id!==t)}))},clearAllNotifications:()=>{e({notifications:[]})},showError:function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t().showNotification((0,a.A)({type:"error",title:e,message:r},n))},showSuccess:function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t().showNotification((0,a.A)({type:"success",title:e,message:r},n))},showWarning:function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t().showNotification((0,a.A)({type:"warning",title:e,message:r},n))},showInfo:function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t().showNotification((0,a.A)({type:"info",title:e,message:r},n))}})),sr=nr;const ir=function(){var t;const r=le(),n=(0,e.useRef)(new Set),[s,i]=(0,e.useState)(1),[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(null),[u,h]=(0,e.useState)("cod"),[p,m]=(0,e.useState)({phone:"",email:""}),[f,g]=(0,e.useState)(""),[y,v]=(0,e.useState)(!1),[b,x]=(0,e.useState)([]),[w,S]=(0,e.useState)(!1),[k,j]=(0,e.useState)(0),[_,N]=(0,e.useState)({label:"Home",recipientName:"",phone:"",line1:"",line2:"",city:"",state:"",country:"India",postalCode:"",landmark:""}),{cart:E,updateQuantity:C,removeFromCart:P,loadCart:A,clearCart:T}=Kt(),{addresses:I,loading:D,error:M,selectedAddressId:F,geoLoading:R,geoError:O,currentLocation:L,fetchAddresses:B,addAddress:z,updateAddress:V,deleteAddress:U,selectAddress:H,getSelectedAddress:G,clearError:q,clearGeoError:W,getCurrentLocationAndAddress:Y}=er(),{user:$,isAuthenticated:K,setModalOpen:J}=(0,Jt.default)(),{orderSummary:Q,loading:X,placingOrder:Z,orderPlaced:ee,paymentProcessing:te,error:re,orderValidation:ae,validateOrderPrerequisites:ne,calculateFinalOrderSummary:se,placeOrder:ie,resetOrderState:oe,syncOrderStatus:ce,initiateRazorpayPayment:de,verifyRazorpayPayment:ue,reportPaymentFailure:he}=ar(),{showNotification:pe}=sr(),me=(0,e.useCallback)((e,t)=>{t&&(n.current.has(t)||n.current.add(t),e.target.src="/no-product-image.svg")},[]);(0,e.useEffect)(()=>{let e=!0;return K&&e?(A(),B(),oe(),$&&m({phone:$.phone||"",email:$.email||""})):K||r("/"),()=>{e=!1}},[]),(0,e.useEffect)(()=>{var e;if(F&&u&&(null===E||void 0===E||null===(e=E.items)||void 0===e?void 0:e.length)>0){const e=G();e&&e.line1&&e.city?x([]):x(["Please complete your delivery address"])}},[F,u,null===E||void 0===E||null===(t=E.items)||void 0===t?void 0:t.length,G]);const fe=async(e,t,r)=>{if(r<1)ge(e,t);else if(r>1e3)pe({message:"Maximum quantity limit is 1000 per item",type:"error"});else try{await C(e,t,r),pe({message:"Cart updated successfully",type:"success"})}catch(a){pe({message:"Failed to update cart. Please try again.",type:"error"})}},ge=async(e,t)=>{try{await P(e,t),pe({message:"Item removed from cart",type:"success"})}catch(r){pe({message:"Failed to remove item. Please try again.",type:"error"})}},ye=e=>e.variantOptions&&0!==e.variantOptions.length?e.variantOptions.map(e=>"".concat(e.name,": ").concat(e.value)).join(", "):null,ve=(e,t)=>{N(r=>(0,a.A)((0,a.A)({},r),{},{[e]:t}))},be=()=>{l(!1),d(null),N({label:"Home",recipientName:"",phone:"",line1:"",line2:"",city:"",state:"",country:"India",postalCode:"",landmark:""})},xe=async e=>{const t=I.find(t=>t.id===e);if(t&&t.postalCode)try{const e=await fetch(Dt.Ay.getState().pincodes.check(t.postalCode)),r=await e.json();if(!r.success||!r.serviceable)return void pe({message:"This address is not deliverable. Kindly change the address and pincode.",type:"error"})}catch(r){return console.error("Pincode check failed:",r),void pe({message:"Unable to verify delivery availability. Please try again.",type:"error"})}H(e),i(3),pe({message:"Delivery address selected",type:"success"})},we=(e,t)=>{m(r=>(0,a.A)((0,a.A)({},r),{},{[e]:t}))},Se=()=>{var e;const t=[];return null!==E&&void 0!==E&&E.items&&0!==E.items.length||t.push("Your cart is empty"),F&&G()||t.push("Please select a delivery address"),p.phone||null!==(e=G())&&void 0!==e&&e.phone||t.push("Please provide a contact phone number"),u||t.push("Please select a payment method"),y||t.push("Please agree to terms and conditions"),p.phone&&!/^\+?[\d\s\-\(\)]{10,15}$/.test(p.phone)&&t.push("Please enter a valid contact phone number"),p.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email)&&t.push("Please enter a valid email address"),t},ke=async()=>{try{j(0);const t=Se();if(t.length>0)return x(t),void S(!0);x([]);const a=G(),n={cartItems:E.items,selectedAddress:a,paymentMethod:u,contactPhone:p.phone||a.phone,contactEmail:p.email,notes:f};console.log("\ud83d\ude80 Placing order with data:",n);const s=await ie(n);if("cod"===u)T(),r("/order-success/".concat(s.id),{state:{order:s,message:"Your order has been placed successfully!"}});else try{const e=await de(s.id),t={key:e.key,amount:e.amount,currency:e.currency,name:"Bukizz Books",description:"Order #".concat(s.orderNumber),order_id:e.id,prefill:{name:a.recipientName,email:p.email,contact:p.phone||a.phone},theme:{color:"#3B82F6"},handler:async function(e){try{await ue({razorpay_order_id:e.razorpay_order_id,razorpay_payment_id:e.razorpay_payment_id,razorpay_signature:e.razorpay_signature,orderId:s.id}),T(),r("/order-success/".concat(s.id),{state:{order:s,message:"Payment successful! Your order has been placed."}})}catch(t){console.error("Payment verification failed:",t),pe({message:"Payment verification failed. Please contact support.",type:"error"}),T(),r("/order-success/".concat(s.id),{state:{order:s,error:"Payment verification failed. Status is pending."}})}},modal:{ondismiss:function(){pe({message:"Payment process cancelled. Order cancelled.",type:"warning"}),he({razorpay_order_id:e.id,error_code:"CANCELLED",error_description:"User closed payment modal",orderId:s.id})}}},n=new window.Razorpay(t);n.on("payment.failed",function(t){var r,a;console.error("Payment failed:",t.error),pe({message:"Payment failed: ".concat(t.error.description||"Please try again."),type:"error"}),he({razorpay_order_id:(null===(r=t.error.metadata)||void 0===r?void 0:r.order_id)||e.id,razorpay_payment_id:null===(a=t.error.metadata)||void 0===a?void 0:a.payment_id,error_code:t.error.code,error_description:t.error.description,orderId:s.id})}),n.open()}catch(e){console.error("Payment initiation failed:",e),pe({message:"Failed to initiate payment: ".concat(e.message||"Please try again or choose COD."),type:"error"}),s&&s.id&&he({error_code:"INITIATION_FAILED",error_description:e.message,orderId:s.id})}}catch(t){console.error("Order placement failed:",t),t.message.includes("stock")||t.message.includes("availability")?(pe({message:"Some items are out of stock. Please update your cart.",type:"error"}),i(1)):t.message.includes("price")?(pe({message:"Product prices have changed. Please review your order.",type:"error"}),(async()=>{try{var e;(null===E||void 0===E||null===(e=E.items)||void 0===e?void 0:e.length)>0&&await se(E.items)}catch(t){console.error("Failed to calculate order summary:",t),pe({message:"Failed to calculate order summary. Please refresh and try again.",type:"error"})}})()):t.message.includes("authentication")||t.message.includes("session")?(pe({message:"Session expired. Please log in again.",type:"error"}),r("/")):k<3&&!t.message.includes("validation")?(j(e=>e+1),pe({message:"Order placement failed. Retrying... (".concat(k+1,"/").concat(3,")"),type:"warning"}),setTimeout(()=>ke(),2e3*(k+1))):(x([t.message]),S(!0))}},je=null!==E&&void 0!==E&&E.items?E.items.reduce((e,t)=>e+t.price*t.quantity,0):0,_e=null!==E&&void 0!==E&&E.items?E.items.reduce((e,t)=>e+t.quantity,0):0,Ne=G();return X||D?(0,Ct.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ct.jsxs)("div",{className:"text-center",children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,Ct.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading checkout..."})]})}):null!==E&&void 0!==E&&E.items&&0!==E.items.length?(0,Ct.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"bg-white border-b",children:(0,Ct.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:(0,Ct.jsx)("div",{className:"flex flex-wrap md:flex-nowrap items-center justify-center gap-2 md:gap-8",children:[{step:1,label:"Review Order",icon:"1"},{step:2,label:"Delivery Address",icon:"2"},{step:3,label:"Payment & Place Order",icon:"3"}].map(e=>{let{step:t,label:r,icon:a}=e;return(0,Ct.jsxs)("div",{className:"flex flex-col md:flex-row items-center relative gap-2 md:gap-0",children:[(0,Ct.jsx)("div",{className:"flex items-center justify-center w-6 h-6 md:w-10 md:h-10 rounded-full ".concat(s===t?"bg-blue-500 text-white":s>t?"bg-green-500 text-white":"bg-gray-200 text-gray-600"),children:s>t?"\u2713":a}),(0,Ct.jsx)("span",{className:"md:ml-3 text-[10px] md:text-sm font-medium text-center ".concat(s===t?"text-blue-600":"text-gray-600"),children:r}),t<3&&(0,Ct.jsx)("div",{className:"hidden md:block ml-8 w-8 h-0.5 ".concat(s>t?"bg-green-500":"bg-gray-200")})]},t)})})})}),(0,Ct.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:(0,Ct.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Ct.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[1===s&&(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Review Your Order"}),(0,Ct.jsxs)("span",{className:"text-sm text-gray-600",children:[_e," items"]})]}),b.length>0&&(0,Ct.jsx)("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Ct.jsxs)("div",{className:"flex",children:[(0,Ct.jsx)("div",{className:"text-yellow-600 mr-3",children:"\u26a0\ufe0f"}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("h4",{className:"font-medium text-yellow-800",children:"Please address the following issues:"}),(0,Ct.jsx)("ul",{className:"mt-2 text-sm text-yellow-700 list-disc list-inside",children:b.map((e,t)=>(0,Ct.jsx)("li",{children:e},t))})]})]})}),(0,Ct.jsx)("div",{className:"space-y-4",children:E.items.map(e=>(0,Ct.jsxs)("div",{className:"flex items-start space-x-4 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Ct.jsx)("img",{src:e.image||"/no-product-image.svg",alt:e.title,className:"w-20 h-20 object-cover rounded-lg",onError:t=>me(t,e.image)}),(0,Ct.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ct.jsx)("h3",{className:"font-medium text-gray-800 truncate",children:e.title}),ye(e)&&(0,Ct.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:ye(e)}),e.sku&&(0,Ct.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["SKU: ",e.sku]}),(0,Ct.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,Ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ct.jsx)("button",{onClick:()=>fe(e.productId,e.variantId,e.quantity-1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:X||e.quantity<=1,children:"\u2212"}),(0,Ct.jsx)("span",{className:"font-medium min-w-[2rem] text-center",children:e.quantity}),(0,Ct.jsx)("button",{onClick:()=>fe(e.productId,e.variantId,e.quantity+1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:X||e.quantity>=1e3,children:"+"})]}),(0,Ct.jsxs)("div",{className:"text-right",children:[(0,Ct.jsxs)("div",{className:"font-semibold text-gray-800",children:["\u20b9",(e.price*e.quantity).toFixed(2)]}),(0,Ct.jsxs)("div",{className:"text-sm text-gray-600",children:["\u20b9",e.price," each"]})]})]})]}),(0,Ct.jsx)("button",{onClick:()=>ge(e.productId,e.variantId),className:"text-red-500 hover:text-red-700 p-2 transition-colors",disabled:X,children:"\ud83d\uddd1\ufe0f"})]},"".concat(e.productId,"-").concat(e.variantId||"default")))}),(0,Ct.jsxs)("div",{className:"mt-6 flex justify-between",children:[(0,Ct.jsx)("button",{onClick:()=>r("/"),className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"\u2190 Continue Shopping"}),(0,Ct.jsx)("button",{onClick:()=>i(2),disabled:!(()=>{var e;switch(s){case 1:return(null===E||void 0===E||null===(e=E.items)||void 0===e?void 0:e.length)>0;case 2:return F&&G();case 3:return 0===Se().length;default:return!1}})(),className:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Proceed to Delivery \u2192"})]})]}),2===s&&(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Select Delivery Address"}),(0,Ct.jsx)("button",{onClick:()=>l(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"+ Add New Address"})]}),o&&(0,Ct.jsxs)("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border",children:[(0,Ct.jsx)("h3",{className:"font-semibold text-gray-800 mb-4",children:c?"Edit Address":"Add New Address"}),(0,Ct.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=["recipientName","phone","line1","city","state","postalCode"].filter(e=>!_[e]);if(t.length>0)pe({message:"Please fill in all required fields: ".concat(t.join(", ")),type:"error"});else if(/^\+?[\d\s\-\(\)]{10,15}$/.test(_.phone))if(/^\d{6}$/.test(_.postalCode))try{if(c)await V(c.id,_),pe({message:"Address updated successfully",type:"success"});else{const e=await z(_);if(!e)return J(!0),void pe({message:"Please login to add an address",type:"info"});H(e.id),pe({message:"Address added successfully",type:"success"})}be()}catch(r){pe({message:r.message||"Failed to save address. Please try again.",type:"error"})}else pe({message:"Please enter a valid 6-digit postal code",type:"error"});else pe({message:"Please enter a valid phone number",type:"error"})},className:"space-y-4",children:[(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Label *"}),(0,Ct.jsxs)("select",{value:_.label,onChange:e=>ve("label",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,Ct.jsx)("option",{value:"Home",children:"Home"}),(0,Ct.jsx)("option",{value:"Work",children:"Work"}),(0,Ct.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient Name *"}),(0,Ct.jsx)("input",{type:"text",value:_.recipientName,onChange:e=>ve("recipientName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Full name",required:!0})]})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),(0,Ct.jsx)("input",{type:"tel",value:_.phone,onChange:e=>ve("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"10-digit phone number",required:!0})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),(0,Ct.jsx)("input",{type:"text",value:_.line1,onChange:e=>ve("line1",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"House/Flat/Building details",required:!0})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),(0,Ct.jsx)("input",{type:"text",value:_.line2,onChange:e=>ve("line2",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Area/Locality details"})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Landmark"}),(0,Ct.jsx)("input",{type:"text",value:_.landmark,onChange:e=>ve("landmark",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nearby landmark (optional)"})]}),(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,Ct.jsx)("input",{type:"text",value:_.city,onChange:e=>ve("city",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"City",required:!0})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),(0,Ct.jsx)("input",{type:"text",value:_.state,onChange:e=>ve("state",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"State",required:!0})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code *"}),(0,Ct.jsx)("input",{type:"text",value:_.postalCode,onChange:e=>ve("postalCode",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"6-digit PIN",pattern:"\\d{6}",required:!0})]})]}),(0,Ct.jsx)("div",{className:"flex items-center space-x-3",children:(0,Ct.jsx)("button",{type:"button",onClick:async()=>{try{await Y(),L&&N(e=>(0,a.A)((0,a.A)({},e),{},{line1:L.address||"",city:L.city||"",state:L.state||"",postalCode:L.postalCode||""}))}catch(e){pe({message:"Failed to get current location. Please enter address manually.",type:"error"})}},disabled:R,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-300 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:R?(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Ct.jsx)("span",{children:"Getting Location..."})]}):(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("span",{children:"\ud83d\udccd"}),(0,Ct.jsx)("span",{children:"Use Current Location"})]})})}),(0,Ct.jsxs)("div",{className:"flex space-x-4",children:[(0,Ct.jsx)("button",{type:"submit",disabled:D,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:D?"Saving...":c?"Update Address":"Add Address"}),(0,Ct.jsx)("button",{type:"button",onClick:be,className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})]}),I.length>0?(0,Ct.jsx)("div",{className:"space-y-4",children:I.map(e=>(0,Ct.jsxs)("div",{className:"p-4 border rounded-lg transition-all cursor-pointer ".concat(F===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>H(e.id),children:[(0,Ct.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ct.jsxs)("div",{className:"flex-1",children:[(0,Ct.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Ct.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("Home"===e.label?"bg-green-100 text-green-800":"Work"===e.label?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.label}),e.isDefault&&(0,Ct.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs font-medium",children:"Default"}),F===e.id&&(0,Ct.jsx)("span",{className:"text-blue-600 font-medium text-sm",children:"Selected"})]}),(0,Ct.jsx)("div",{className:"text-gray-800 font-medium mb-1",children:e.recipientName}),(0,Ct.jsxs)("div",{className:"text-gray-600 text-sm",children:[e.line1,e.line2&&", ".concat(e.line2),e.landmark&&" (Near ".concat(e.landmark,")"),(0,Ct.jsx)("br",{}),e.city,", ",e.state," -"," ",e.postalCode,(0,Ct.jsx)("br",{}),"\ud83d\udcde ",e.phone]})]}),(0,Ct.jsxs)("div",{className:"flex space-x-2",children:[(0,Ct.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{d(e),N({label:e.label||"Home",recipientName:e.recipientName||"",phone:e.phone||"",line1:e.line1||"",line2:e.line2||"",city:e.city||"",state:e.state||"",country:e.country||"India",postalCode:e.postalCode||"",landmark:e.landmark||""}),l(!0)})(e)},className:"text-blue-600 hover:text-blue-700 p-1 transition-colors",children:"\u270f\ufe0f"}),(0,Ct.jsx)("button",{onClick:t=>{t.stopPropagation(),window.confirm("Are you sure you want to delete this address?")&&U(e.id)},className:"text-red-600 hover:text-red-700 p-1 transition-colors",children:"\ud83d\uddd1\ufe0f"})]})]}),F===e.id&&(0,Ct.jsx)("div",{className:"mt-4 pt-4 border-t border-blue-200",children:(0,Ct.jsx)("button",{onClick:()=>xe(e.id),className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Deliver to this Address \u2192"})})]},e.id))}):!o&&(0,Ct.jsxs)("div",{className:"text-center py-8",children:[(0,Ct.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",children:(0,Ct.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),(0,Ct.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No addresses found"}),(0,Ct.jsx)("p",{className:"text-gray-600 mb-4",children:"Add your first delivery address to continue"}),(0,Ct.jsx)("button",{onClick:()=>l(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Add Address"})]}),!o&&I.length>0&&(0,Ct.jsxs)("div",{className:"mt-6 flex justify-between",children:[(0,Ct.jsx)("button",{onClick:()=>i(1),className:"text-gray-600 hover:text-gray-700 font-medium transition-colors",children:"\u2190 Back to Cart"}),(0,Ct.jsx)("button",{onClick:()=>xe(F),disabled:!F,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Continue to Payment \u2192"})]})]}),3===s&&(0,Ct.jsxs)("div",{className:"space-y-6",children:[(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Ct.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Order Review"}),Ne&&(0,Ct.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,Ct.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ct.jsx)("h4",{className:"font-medium text-gray-800",children:"Delivery Address"}),(0,Ct.jsx)("button",{onClick:()=>i(2),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Change"})]}),(0,Ct.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Ct.jsx)("div",{className:"font-medium",children:Ne.recipientName}),(0,Ct.jsxs)("div",{children:[Ne.line1,Ne.line2&&", ".concat(Ne.line2)]}),(0,Ct.jsxs)("div",{children:[Ne.city,", ",Ne.state," -"," ",Ne.postalCode]}),(0,Ct.jsxs)("div",{children:["\ud83d\udcde ",Ne.phone]})]})]}),(0,Ct.jsxs)("div",{className:"mb-6",children:[(0,Ct.jsxs)("h4",{className:"font-medium text-gray-800 mb-3",children:["Items (",_e,")"]}),(0,Ct.jsx)("div",{className:"space-y-3",children:E.items.map(e=>(0,Ct.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,Ct.jsx)("img",{src:e.image||"/no-product-image.svg",alt:e.title,className:"w-10 h-10 object-cover rounded",onError:t=>me(t,e.image)}),(0,Ct.jsxs)("div",{className:"flex-1",children:[(0,Ct.jsx)("div",{className:"font-medium",children:e.title}),ye(e)&&(0,Ct.jsx)("div",{className:"text-gray-500",children:ye(e)})]}),(0,Ct.jsxs)("div",{className:"text-right",children:[(0,Ct.jsxs)("div",{className:"font-medium",children:["\u20b9",(e.price*e.quantity).toFixed(2)]}),(0,Ct.jsxs)("div",{className:"text-gray-500",children:["Qty: ",e.quantity]})]})]},"".concat(e.productId,"-").concat(e.variantId||"default")))})]})]}),(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Ct.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Contact Information"}),(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone"}),(0,Ct.jsx)("input",{type:"tel",value:p.phone,onChange:e=>we("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Phone number for order updates"})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Optional)"}),(0,Ct.jsx)("input",{type:"email",value:p.email,onChange:e=>we("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Email for order confirmation"})]})]})]}),(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Ct.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Payment Method"}),(0,Ct.jsx)("div",{className:"space-y-3",children:[{value:"cod",label:"Cash on Delivery",icon:"\ud83d\udcb5",desc:"Pay when your order is delivered"},{value:"upi",label:"UPI Payment",icon:"\ud83d\udcf1",desc:"Pay using UPI apps like GPay, PhonePe, Paytm"},{value:"card",label:"Credit/Debit Card",icon:"\ud83d\udcb3",desc:"Secure payment with your card"},{value:"netbanking",label:"Net Banking",icon:"\ud83c\udfe6",desc:"Pay using internet banking"},{value:"wallet",label:"Digital Wallet",icon:"\ud83d\udcb0",desc:"Pay using digital wallets"}].map(e=>(0,Ct.jsxs)("label",{className:"flex items-start p-4 border rounded-lg cursor-pointer transition-all ".concat(u===e.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,Ct.jsx)("input",{type:"radio",name:"paymentMethod",value:e.value,checked:u===e.value,onChange:e=>h(e.target.value),className:"mt-1 text-blue-600 focus:ring-blue-500"}),(0,Ct.jsxs)("div",{className:"ml-3 flex-1",children:[(0,Ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ct.jsx)("span",{className:"text-lg",children:e.icon}),(0,Ct.jsx)("span",{className:"font-medium text-gray-800",children:e.label})]}),(0,Ct.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.desc})]})]},e.value))})]}),(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Ct.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Additional Notes (Optional)"}),(0,Ct.jsx)("textarea",{value:f,onChange:e=>g(e.target.value),rows:3,maxLength:500,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Any special instructions for delivery..."}),(0,Ct.jsxs)("div",{className:"text-right text-sm text-gray-500 mt-1",children:[f.length,"/500 characters"]})]}),(0,Ct.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,Ct.jsxs)("label",{className:"flex items-start space-x-3",children:[(0,Ct.jsx)("input",{type:"checkbox",checked:y,onChange:e=>v(e.target.checked),className:"mt-1 text-blue-600 focus:ring-blue-500"}),(0,Ct.jsxs)("div",{className:"text-sm text-gray-700",children:["I agree to the"," ",(0,Ct.jsx)("a",{href:"/terms",target:"_blank",className:"text-blue-600 hover:underline",children:"Terms and Conditions"})," ","and"," ",(0,Ct.jsx)("a",{href:"/privacy",target:"_blank",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]})}),b.length>0&&(0,Ct.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,Ct.jsxs)("div",{className:"flex",children:[(0,Ct.jsx)("div",{className:"text-red-600 mr-3",children:"\u274c"}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("h4",{className:"font-medium text-red-800",children:"Please fix the following issues:"}),(0,Ct.jsx)("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside",children:b.map((e,t)=>(0,Ct.jsx)("li",{children:e},t))})]})]})}),(0,Ct.jsxs)("div",{className:"flex space-x-4",children:[(0,Ct.jsx)("button",{onClick:()=>i(2),className:"text-gray-600 hover:text-gray-700 font-medium transition-colors",children:"\u2190 Back to Address"}),(0,Ct.jsx)("button",{onClick:ke,disabled:Z||te||!y,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-300 text-white py-3 px-6 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2",children:Z?(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,Ct.jsx)("span",{children:"Placing Order..."})]}):te?(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,Ct.jsx)("span",{children:"Processing Payment..."})]}):(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("span",{children:"\ud83d\uded2"}),(0,Ct.jsx)("span",{children:"Place Order"})]})})]}),k>0&&(0,Ct.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["Retry attempt: ",k,"/",3]})]})]}),(0,Ct.jsxs)("div",{className:"space-y-6",children:[(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 sticky top-4",children:[(0,Ct.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Order Summary"}),(0,Ct.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,Ct.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ct.jsxs)("span",{className:"text-gray-600",children:["Subtotal (",_e," items)"]}),(0,Ct.jsxs)("span",{className:"font-medium",children:["\u20b9",je.toFixed(2)]})]}),Q&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ct.jsx)("span",{className:"text-gray-600",children:"Delivery Fee"}),(0,Ct.jsxs)("span",{className:"font-medium",children:["\u20b9",Q.deliveryFee.toFixed(2)]})]}),Q.platformFee>0&&(0,Ct.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ct.jsx)("span",{className:"text-gray-600",children:"Platform Fee"}),(0,Ct.jsxs)("span",{className:"font-medium",children:["\u20b9",Q.platformFee.toFixed(2)]})]}),(0,Ct.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ct.jsx)("span",{className:"text-gray-600",children:"Tax"}),(0,Ct.jsxs)("span",{className:"font-medium",children:["\u20b9",Q.tax.toFixed(2)]})]}),Q.savings>0&&(0,Ct.jsxs)("div",{className:"flex justify-between text-sm text-green-600",children:[(0,Ct.jsx)("span",{children:"Savings"}),(0,Ct.jsxs)("span",{className:"font-medium",children:["-\u20b9",Q.savings.toFixed(2)]})]})]})]}),(0,Ct.jsx)("div",{className:"border-t pt-4",children:(0,Ct.jsxs)("div",{className:"flex justify-between text-lg font-semibold text-gray-800",children:[(0,Ct.jsx)("span",{children:"Total"}),(0,Ct.jsxs)("span",{children:["\u20b9",((null===Q||void 0===Q?void 0:Q.total)||je).toFixed(2)]})]})}),3===s&&"cod"===u&&(0,Ct.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Ct.jsxs)("div",{className:"flex items-center text-sm text-yellow-800",children:[(0,Ct.jsx)("span",{className:"mr-2",children:"\ud83d\udcb5"}),(0,Ct.jsxs)("span",{children:["Cash on Delivery selected. Pay \u20b9",((null===Q||void 0===Q?void 0:Q.total)||je).toFixed(2)," when your order arrives."]})]})}),(0,Ct.jsx)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,Ct.jsxs)("div",{className:"flex items-center text-sm text-green-800",children:[(0,Ct.jsx)("span",{className:"mr-2",children:"\ud83d\udd12"}),(0,Ct.jsx)("span",{children:"100% secure checkout with SSL encryption"})]})})]}),(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Ct.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"Need Help?"}),(0,Ct.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Ct.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Ct.jsx)("span",{className:"mr-3",children:"\ud83d\udcde"}),(0,Ct.jsx)("span",{children:"Call: +91-XXXXX-XXXXX"})]}),(0,Ct.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Ct.jsx)("span",{className:"mr-3",children:"\ud83d\udce7"}),(0,Ct.jsx)("span",{children:"Email: support@bukizz.com"})]}),(0,Ct.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Ct.jsx)("span",{className:"mr-3",children:"\ud83d\udcac"}),(0,Ct.jsx)("span",{children:"Live Chat Available"})]})]})]})]})]})}),w&&(0,Ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ct.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,Ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Ct.jsx)("div",{className:"text-red-600 text-2xl mr-3",children:"\u26a0\ufe0f"}),(0,Ct.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Order Issues Found"})]}),(0,Ct.jsxs)("div",{className:"mb-6",children:[(0,Ct.jsx)("p",{className:"text-gray-600 mb-3",children:"Please address the following issues before placing your order:"}),(0,Ct.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700",children:b.map((e,t)=>(0,Ct.jsx)("li",{children:e},t))})]}),(0,Ct.jsxs)("div",{className:"flex space-x-3",children:[(0,Ct.jsx)("button",{onClick:()=>S(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-lg font-medium transition-colors",children:"Close"}),!b.some(e=>e.includes("cart is empty")||e.includes("address")||e.includes("terms"))&&(0,Ct.jsx)("button",{onClick:()=>{S(!1),x([]),ke()},className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Retry Order"})]})]})})]}):(0,Ct.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,Ct.jsxs)("div",{className:"text-center",children:[(0,Ct.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 text-gray-300",children:(0,Ct.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{d:"M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z"})})}),(0,Ct.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Your cart is empty"}),(0,Ct.jsx)("p",{className:"text-gray-600 mb-6",children:"Add some items to your cart to continue with checkout"}),(0,Ct.jsx)("button",{onClick:()=>r("/"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Continue Shopping"})]})})]})};var or=__webpack_require__(750),lr=__webpack_require__.n(or);const cr=()=>{const t=le(),[r,a]=(0,e.useState)(null);return(0,e.useEffect)(()=>{fetch("/order_completed.json").then(e=>e.json()).then(e=>a(e)).catch(e=>console.error("Error loading animation:",e));const e=setTimeout(()=>{t("/")},3e3);return()=>clearTimeout(e)},[t]),r?(0,Ct.jsx)("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center",children:(0,Ct.jsxs)("div",{className:"w-full max-w-md p-8 flex flex-col items-center",children:[(0,Ct.jsx)(lr(),{animationData:r,loop:!1,className:"w-64 h-64"}),(0,Ct.jsx)("p",{className:"text-center text-2xl font-bold text-gray-800 mt-6 font-nunito",children:"Order Placed Successfully!"})]})}):(0,Ct.jsx)("div",{className:"min-h-screen bg-white"})},dr=()=>{const{user:t}=(0,Jt.default)(),r=le();return(0,e.useEffect)(()=>{t?r("/profile?tab=orders",{replace:!0}):r("/")},[t,r]),null},ur=e=>{let{props:t}=e;const r=le();return(0,Ct.jsxs)("div",{className:"relative w-[154px] h-[151px] md:w-[225px] md:h-[221px] bg-white rounded-[13px] md:rounded-[19px] shadow-lg hover:scale-105 transition-transform cursor-pointer",onClick:()=>{t.id&&r("/product/".concat(t.id))},children:[(0,Ct.jsx)("div",{className:"absolute w-[154px] h-[100px] md:w-[225px] md:h-[146px] top-0 left-0 rounded-[13px_13px_0px_0px] md:rounded-[19px_19px_0px_0px] overflow-hidden bg-[linear-gradient(180deg,rgba(57,167,255,1)_0%,rgba(0,116,209,1)_100%)]"}),(0,Ct.jsxs)("div",{className:"inline-flex flex-col h-[65px] md:h-[95px] items-center gap-[1.5px] md:gap-[2.5px] relative top-[18px] md:top-[26px] left-[50px] md:left-[74px]",children:[(0,Ct.jsx)("div",{className:"relative w-fit mt-[-0.6px] font-nunito font-semibold text-[#f4f4f4cc] text-base md:text-2xl tracking-[0] leading-[22.4px] md:leading-[33.6px] whitespace-nowrap",children:"CLASS"}),(0,Ct.jsx)("div",{className:"relative w-fit mt-[-0.6px] [font-family:'Lora-Bold',Helvetica] font-bold text-white text-[25px] md:text-4xl tracking-[0] leading-[34px] md:leading-[50.4px] whitespace-nowrap",children:(e=>{const t=parseInt(e);if(t>=11&&t<=13)return"".concat(t,"th");switch(t%10){case 1:return"".concat(t,"st");case 2:return"".concat(t,"nd");case 3:return"".concat(t,"rd");default:return"".concat(t,"th")}})(t.class.replace("Class ",""))})]}),(0,Ct.jsxs)("div",{className:"absolute w-[84px] h-[46px] md:w-[123px] md:h-[68px] top-[104px] md:top-[152px] left-[12px] md:left-[18px]",children:[(0,Ct.jsxs)("div",{className:"flex w-[76px] h-[18px] md:w-[112px] md:h-[26px] items-start gap-1 absolute top-0 left-[6px] md:left-[8px]",children:[(0,Ct.jsx)("div",{className:"relative w-[34px] h-[18px] md:w-[50px] md:h-[26px]",children:(0,Ct.jsx)("div",{className:"relative w-[34px] h-[18px] md:w-[50px] md:h-[26px]",children:(0,Ct.jsx)("div",{className:"absolute top-0 left-0 [font-family:'Nunito-Medium',Helvetica] font-medium text-gray-400 text-xs md:text-lg leading-[17px] md:leading-[25.2px] tracking-[0] whitespace-nowrap overflow-hidden text-ellipsis [display:-webkit-box] [-webkit-line-clamp:2] [-webkit-box-orient:vertical] line-through",children:"\u20b9".concat(t.originalPrice)})})}),(0,Ct.jsx)("div",{className:"relative w-fit mt-[-0.75px] [font-family:'Nunito-Bold',Helvetica] font-bold text-gray-900 text-xs md:text-lg leading-[17px] md:leading-[25.2px] tracking-[0] whitespace-nowrap overflow-hidden text-ellipsis [display:-webkit-box] [-webkit-line-clamp:2] [-webkit-box-orient:vertical]",children:"\u20b9".concat(t.discountedPrice)})]}),(0,Ct.jsxs)("div",{className:"absolute top-[17px] md:top-[25px] left-[6px] md:left-[8px] [font-family:'Nunito-Bold',Helvetica] font-bold text-primaryblue-700 text-xs md:text-lg tracking-[0] leading-[17px] md:leading-[25.2px] whitespace-nowrap overflow-hidden text-ellipsis [display:-webkit-box] [-webkit-line-clamp:2] [-webkit-box-orient:vertical]",children:[100*((t.originalPrice-t.discountedPrice)/t.originalPrice).toFixed(1),"% off"]}),(0,Ct.jsx)("div",{className:"flex flex-col w-[84px] h-[16px] md:w-[123px] md:h-[23px] items-start gap-0.5 px-1 md:px-2 py-0.5 absolute top-[31px] md:top-[46px] left-0",children:(0,Ct.jsxs)("div",{className:"inline-flex items-center gap-[3px] md:gap-1 relative flex-[0_0_auto]",children:[(0,Ct.jsx)("div",{className:"inline-flex items-start gap-[3px] md:gap-1 relative flex-[0_0_auto]",children:(()=>{const e=parseFloat(t.rating),r=[];for(let t=1;t<=5;t++)r.push((0,Ct.jsx)("img",{className:"relative w-[6px] h-[5.5px] md:w-[8.5px] md:h-[8px]",alt:"Star",src:"/star.svg",style:{filter:"brightness(0) saturate(100%) ".concat(t<=e?"invert(33%) sepia(93%) saturate(1969%) hue-rotate(202deg) brightness(96%) contrast(101%)":"invert(88%) sepia(8%) saturate(348%) hue-rotate(202deg) brightness(95%) contrast(88%)")}},t));return r})()}),(0,Ct.jsx)("div",{className:"relative w-fit mt-[-0.75px] [font-family:'Nunito-Medium',Helvetica] font-medium text-gray-700 text-[10px] md:text-xs leading-[11px] md:leading-[16.8px] tracking-[0] whitespace-nowrap overflow-hidden text-ellipsis [display:-webkit-box] [-webkit-line-clamp:2] [-webkit-box-orient:vertical]",children:"(".concat(t.rating,")")})]})})]})]})},hr=e=>{let{props:t}=e;const r=le();return(0,Ct.jsxs)("div",{className:"relative w-[300px] h-[295px] bg-white rounded-[25px] shadow-lg hover:scale-105 transition-transform cursor-pointer",onClick:()=>{t.id&&r("/product/".concat(t.id))},children:[(0,Ct.jsxs)("div",{className:"absolute w-[300px] h-[194px] top-0 left-0 rounded-[25px_25px_0px_0px] overflow-hidden",children:[(0,Ct.jsx)("img",{src:t.image||t.img||"https://via.placeholder.com/300x194/3fa7ff/ffffff?text=Uniform",alt:t.name||"Uniform Item",className:"w-full h-full object-cover"}),(0,Ct.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,Ct.jsxs)("div",{className:"absolute bottom-4 left-4 right-4",children:[(0,Ct.jsx)("div",{className:"text-white font-bold text-lg leading-tight",children:t.name||"School Uniform"}),(0,Ct.jsx)("div",{className:"text-white/80 text-sm",children:t.category||"Uniform"})]})]}),(0,Ct.jsxs)("div",{className:"absolute w-[164px] h-[91px] top-[202px] left-6",children:[(0,Ct.jsxs)("div",{className:"flex w-[149px] h-[34px] items-start gap-1.5 absolute top-0 left-[11px]",children:[(0,Ct.jsx)("div",{className:"relative w-[67px] h-[34px]",children:(0,Ct.jsx)("div",{className:"relative w-[66px] h-[34px]",children:(0,Ct.jsx)("div",{className:"absolute top-0 left-0 [font-family:'Nunito-Medium',Helvetica] font-medium text-gray-400 text-2xl leading-[33.6px] tracking-[0] whitespace-nowrap overflow-hidden text-ellipsis line-through",children:"\u20b9 ".concat(t.originalPrice||0)})})}),(0,Ct.jsx)("div",{className:"relative w-fit mt-[-1.00px] [font-family:'Nunito-Bold',Helvetica] font-bold text-gray-900 text-2xl leading-[33.6px] tracking-[0] whitespace-nowrap overflow-hidden text-ellipsis",children:"\u20b9 ".concat(t.discountedPrice||t.price||0)})]}),(0,Ct.jsx)("div",{className:"absolute top-[33px] left-[11px] [font-family:'Nunito-Bold',Helvetica] font-bold text-primaryblue-700 text-2xl tracking-[0] leading-[33.6px] whitespace-nowrap overflow-hidden text-ellipsis",children:t.discount||"20% off"}),(0,Ct.jsx)("div",{className:"flex flex-col w-[164px] h-[30px] items-start gap-0.5 px-3 py-1 absolute top-[61px] left-0",children:(0,Ct.jsxs)("div",{className:"inline-flex items-center gap-1 relative flex-[0_0_auto]",children:[(0,Ct.jsx)("div",{className:"inline-flex items-start gap-1 relative flex-[0_0_auto]",children:(()=>{const e=parseFloat(t.rating||4.5),r=[];for(let t=1;t<=5;t++)r.push((0,Ct.jsx)("img",{className:"relative w-[11.41px] h-[10.85px]",alt:"Star",src:"/star.svg",style:{filter:"brightness(0) saturate(100%) ".concat(t<=e?"invert(33%) sepia(93%) saturate(1969%) hue-rotate(202deg) brightness(96%) contrast(101%)":"invert(88%) sepia(8%) saturate(348%) hue-rotate(202deg) brightness(95%) contrast(88%)")}},t));return r})()}),(0,Ct.jsx)("div",{className:"relative w-fit mt-[-1.00px] [font-family:'Nunito-Medium',Helvetica] font-medium text-gray-700 text-base leading-[22.4px] tracking-[0] whitespace-nowrap overflow-hidden text-ellipsis",children:"(".concat(t.rating||4.5,")")})]})})]})]})},pr=()=>{const e=le();return(0,Ct.jsx)("div",{children:(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col relative",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"mx-12 my-8",children:(0,Ct.jsxs)("div",{className:"text-center py-16",children:[(0,Ct.jsx)("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"Product Not Found"}),(0,Ct.jsx)("p",{className:"text-gray-500",children:"The product you're looking for doesn't exist or has been removed."}),(0,Ct.jsx)("button",{onClick:()=>e("/"),className:"text-blue-600 hover:underline mt-4 inline-block",children:"\u2190 Back to Home"})]})})]})})},mr=e=>{let{items:t}=e;return(0,Ct.jsx)("nav",{className:"flex my-1 items-start text-sm font-medium text-gray-500 ","aria-label":"Breadcrumb",children:(0,Ct.jsx)("ol",{className:"flex items-center space-x-2",children:t.map((e,r)=>(0,Ct.jsxs)("li",{className:"flex items-center",children:[r>0&&(0,Ct.jsx)("svg",{className:"w-5 h-5 text-gray-400 mx-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ct.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.link?(0,Ct.jsx)(ut,{to:e.link,className:"hover:text-blue-600 transition-colors text-gray-400",children:e.label}):(0,Ct.jsx)("span",{className:"".concat(r===t.length-1?"text-gray-400 font-semibold":""),children:e.label})]},r))})})};const fr=function(){var t,r,n,s,i,o,l,c,d;const{id:u}=ce(),h=le(),{getProduct:p,searchProducts:m,getSchool:f,loading:g,error:y}=Bt(),{addToCart:v,loading:b,isInCart:x}=Kt(),[w,S]=(0,e.useState)(null),[k,j]=(0,e.useState)(null),[_,N]=(0,e.useState)([]),[E,C]=(0,e.useState)([]),[P,A]=(0,e.useState)(!0),[T,I]=(0,e.useState)(!1),[D,M]=(0,e.useState)(null),[F,R]=(0,e.useState)({option1:null,option2:null,option3:null}),[O,L]=(0,e.useState)(null),[B,z]=(0,e.useState)(1),[V,U]=(0,e.useState)(""),[H,G]=(0,e.useState)([]),[q,W]=(0,e.useState)(!1);(0,e.useEffect)(()=>{if(null===w||void 0===w||!w.variants||0===H.length)return void L(null);console.log("Finding variant for selected options:",F),console.log("Available variants:",w.variants),console.log("Product options structure:",H);let e=null;for(const n of w.variants){let s=!0;for(const e of H){const i=F["option".concat(e.position)];if(!i){s=!1;break}let o=null;var t;if(1===e.position)o=null===(t=n.option_value_1_ref)||void 0===t?void 0:t.id;else if(2===e.position){var r;o=null===(r=n.option_value_2_ref)||void 0===r?void 0:r.id}else if(3===e.position){var a;o=null===(a=n.option_value_3_ref)||void 0===a?void 0:a.id}if(o!==i){s=!1;break}}if(s){e=n,console.log("Found matching variant:",e);break}}e||console.log("No matching variant found for options:",F),L(e)},[F,w,H]);const Y=(0,e.useCallback)(async()=>{if(u)try{var e,t,r;A(!0),M(null),console.log("Fetching product with ID:",u);const n=await p(u);if(console.log("Product data:",n),S(n),(null===(e=n.mainImages)||void 0===e?void 0:e.length)>0)N(n.mainImages);else if((null===(t=n.images)||void 0===t?void 0:t.length)>0){const e=n.images.filter(e=>!e.variantId);N(e)}if(I(!1),(null===(r=n.variants)||void 0===r?void 0:r.length)>0){const e=(e=>{if(!e||0===e.length)return[];const t=new Map;return e.forEach(e=>{if(e.option_value_1_ref&&e.option_value_1_ref.attribute_name){const r=e.option_value_1_ref.attribute_position||1;t.has(r)||t.set(r,{name:e.option_value_1_ref.attribute_name,position:r,options:new Map}),t.get(r).options.set(e.option_value_1_ref.id,{id:e.option_value_1_ref.id,value:e.option_value_1_ref.value,priceModifier:e.option_value_1_ref.price_modifier||0})}if(e.option_value_2_ref&&e.option_value_2_ref.attribute_name){const r=e.option_value_2_ref.attribute_position||2;t.has(r)||t.set(r,{name:e.option_value_2_ref.attribute_name,position:r,options:new Map}),t.get(r).options.set(e.option_value_2_ref.id,{id:e.option_value_2_ref.id,value:e.option_value_2_ref.value,priceModifier:e.option_value_2_ref.price_modifier||0})}if(e.option_value_3_ref&&e.option_value_3_ref.attribute_name){const r=e.option_value_3_ref.attribute_position||3;t.has(r)||t.set(r,{name:e.option_value_3_ref.attribute_name,position:r,options:new Map}),t.get(r).options.set(e.option_value_3_ref.id,{id:e.option_value_3_ref.id,value:e.option_value_3_ref.value,priceModifier:e.option_value_3_ref.price_modifier||0})}}),Array.from(t.values()).sort((e,t)=>e.position-t.position).map(e=>({name:e.name,position:e.position,options:Array.from(e.options.values())}))})(n.variants);G(e);const t={option1:null,option2:null,option3:null};e.forEach(e=>{1===e.position&&e.options.length>0?t.option1=e.options[0].id:2===e.position&&e.options.length>0?t.option2=e.options[0].id:3===e.position&&e.options.length>0&&(t.option3=e.options[0].id)}),console.log("Setting initial options selection:",t),console.log("Option groups found:",e),R(t)}if(n.product_type&&m({productType:n.product_type,limit:4}).then(e=>{var t;const r=(null===(t=e.products)||void 0===t?void 0:t.filter(e=>e.id!==n.id))||[];C(r.slice(0,4))}).catch(e=>{console.error("Error fetching similar products:",e)}),n.school_id)try{const e=await f(n.school_id);e&&j(e.name)}catch(a){console.error("Error fetching school:",a)}}catch(a){console.error("Error fetching product:",a),M(a.message)}finally{A(!1)}else A(!1)},[u,p,m]);(0,e.useEffect)(()=>{Y()},[Y]);const $=()=>{if(O){const e=O.price||(null===w||void 0===w?void 0:w.base_price)||0;return{current:e,original:O.compare_at_price||e+200,basePrice:O.base_price||(null===w||void 0===w?void 0:w.base_price)||0,variantPrice:O.variant_price||null}}const e=(null===w||void 0===w?void 0:w.base_price)||0;return{current:e,original:e+200,basePrice:e,variantPrice:null}},K=w&&x(w.id,null===O||void 0===O?void 0:O.id);if(P||g)return(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col relative",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"mx-12 my-8",children:(0,Ct.jsxs)("div",{className:"text-center py-16",children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-600",children:"Loading product details..."})]})})]});if(D||y)return(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col relative",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"mx-12 my-8",children:(0,Ct.jsxs)("div",{className:"text-center py-16",children:[(0,Ct.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Product"}),(0,Ct.jsx)("p",{className:"text-gray-500 mb-4",children:D||y}),(0,Ct.jsx)("button",{onClick:()=>h(-1),className:"text-blue-600 hover:underline mt-4 inline-block",children:"\u2190 Go Back"})]})})]});if(!w)return(0,Ct.jsx)(pr,{});const J=$();return(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col relative",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsxs)("div",{className:"mx-4 md:mx-12 mb-10 max-w flex flex-col md:flex-row gap-4 md:gap-10",children:[(0,Ct.jsxs)("div",{className:"flex flex-col-reverse md:flex-row gap-4 justify-start items-start w-full md:w-[33%]",children:[(0,Ct.jsx)("div",{className:"flex gap-4 flex-row md:flex-col justify-start items-start overflow-x-auto w-full md:w-auto pb-2 md:pb-0",children:null===_||void 0===_?void 0:_.slice(0,5).map((e,t)=>(0,Ct.jsx)("img",{src:e.url||"https://via.placeholder.com/144x144",alt:e.altText||"".concat(w.title," ").concat(t+1),className:"w-10 h-10 md:w-20 md:h-20 object-cover rounded-lg cursor-pointer hover:opacity-80 flex-shrink-0"},e.id||t))}),(0,Ct.jsxs)("div",{className:"flex flex-col justify-start items-start w-full",children:[(0,Ct.jsx)("img",{src:(null===_||void 0===_||null===(t=_[0])||void 0===t?void 0:t.url)||(null===w||void 0===w||null===(r=w.primaryImage)||void 0===r?void 0:r.url)||"https://via.placeholder.com/384x384",alt:(null===_||void 0===_||null===(n=_[0])||void 0===n?void 0:n.altText)||(null===w||void 0===w||null===(s=w.primaryImage)||void 0===s?void 0:s.altText)||w.title,className:"w-full md:w-96 h-[300px] md:h-96 object-cover rounded-lg"}),T&&(0,Ct.jsx)("div",{className:"absolute inset-0 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),(0,Ct.jsxs)("div",{className:"flex gap-4 my-6",children:[(0,Ct.jsx)("button",{onClick:async()=>{if(w)try{await v(w,O,B),console.log("Item added to cart successfully"),W(!0)}catch(y){console.error("Error adding item to cart:",y)}},disabled:b||!O||O&&O.stock<B,className:"px-6 py-3 border-2 rounded-2xl flex items-center gap-2 transition-all ".concat(K?"bg-green-100 text-green-600 border-green-500":b||!O||O&&O.stock<B?"bg-gray-200 text-gray-400 border-gray-300 cursor-not-allowed":"text-blue-500 border-blue-500 hover:bg-blue-50"),children:b?(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),"Adding..."]}):K?(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ct.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Added to Cart"]}):(0,Ct.jsxs)(Ct.Fragment,{children:["Add to Cart",(0,Ct.jsx)("img",{src:"/cart_svg.svg",alt:"cart",className:"w-5 h-5"})]})}),(0,Ct.jsx)("button",{className:"px-12 py-3 bg-sky-500 text-white rounded-2xl hover:bg-sky-600",children:"\u20b9 Buy Now"})]})]})]}),(0,Ct.jsxs)("div",{className:"font-nunito w-full md:w-1/2",children:[(0,Ct.jsxs)("h1",{className:"text-2xl font-normal",children:[(0,Ct.jsx)(mr,{items:[{label:"Home",link:"/"},...k?[{label:k,link:w.school_id?"/school/".concat(w.school_id):null}]:[],{label:w.title,link:null}]}),w.title,(null===(i=w.metadata)||void 0===i?void 0:i.grade)&&(0,Ct.jsxs)("span",{className:"text-2xl text-gray-600 ml-2",children:["Class ",w.metadata.grade]})]}),(0,Ct.jsx)("span",{className:"text-sm text-green-600 font-bold",children:"Offer Price"}),(0,Ct.jsxs)("div",{className:"flex gap-2 font-semibold",children:[(0,Ct.jsxs)("h2",{className:"text-2xl text-green-600",children:[Math.round((J.original-J.current)/J.original*100),"%"]}),(0,Ct.jsxs)("h2",{className:"text-3xl",children:["\u20b9 ",J.current]})]}),(0,Ct.jsxs)("div",{className:"text-sm",children:["MRP \u20b9 ",(0,Ct.jsx)("span",{className:"line-through",children:J.original})," (Inclusive of all taxes)"]}),H&&H.length>0&&(0,Ct.jsxs)("div",{className:"my-2",children:[H.map((e,t)=>(0,Ct.jsxs)("div",{className:"mb-6 flex gap-4 items-center",children:[(0,Ct.jsx)("h3",{className:"text-lg font-medium text-gray-700",children:e.name}),(0,Ct.jsx)("div",{className:"flex gap-3 flex-wrap",children:e.options.map(t=>(0,Ct.jsx)("button",{onClick:()=>{return r=e.position,n=t.id,void R(e=>(0,a.A)((0,a.A)({},e),{},{["option".concat(r)]:n}));var r,n},className:"px-4 py-2 border rounded-lg transition-all text-sm font-medium ".concat(F["option".concat(e.position)]===t.id?"bg-blue-500 text-white border-blue-500 shadow-md":"border-gray-300 hover:bg-gray-50 hover:border-gray-400 text-gray-700"),children:t.value},t.id))})]},t)),O&&(0,Ct.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Ct.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"Selected Combination:"}),(0,Ct.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:H.map((e,t)=>{const r=e.options.find(t=>t.id===F["option".concat(e.position)]);return r?(0,Ct.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm",children:r.value},t):null})}),(0,Ct.jsxs)("div",{className:"text-sm text-blue-600",children:[(0,Ct.jsx)("span",{className:"font-medium",children:"Price:"})," \u20b9",O.price," \u2022",(0,Ct.jsx)("span",{className:"font-medium ml-2",children:"Stock:"})," ",O.stock||0," units \u2022",(0,Ct.jsx)("span",{className:"font-medium ml-2",children:"SKU:"})," ",O.sku]})]})]}),(0,Ct.jsxs)("div",{className:"my-4",children:[(0,Ct.jsx)("h2",{className:"text-2xl font-semibold my-2",children:"Quantity"}),(0,Ct.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ct.jsx)("button",{onClick:()=>z(Math.max(1,B-1)),className:"w-10 h-10 border border-gray-300 rounded-full flex items-center justify-center hover:bg-gray-200",children:"-"}),(0,Ct.jsx)("span",{className:"text-xl font-semibold",children:B}),(0,Ct.jsx)("button",{onClick:()=>{const e=(null===O||void 0===O?void 0:O.stock)||999;z(Math.min(e,B+1))},className:"w-10 h-10 border border-gray-300 rounded-full flex items-center justify-center hover:bg-gray-200",children:"+"}),(0,Ct.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:["Max: ",(null===O||void 0===O?void 0:O.stock)||"N/A"]})]})]}),(0,Ct.jsxs)("div",{className:"my-4",children:[(0,Ct.jsx)("h2",{className:"text-2xl font-semibold my-2",children:"Delivery & Service"}),(0,Ct.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,Ct.jsx)("input",{type:"text",placeholder:"Enter Delivery Pincode",value:V,onChange:e=>U(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Ct.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-700",children:"Check"})]}),(0,Ct.jsxs)("div",{className:"flex gap-2 items-center my-2",children:[(0,Ct.jsx)("img",{src:"/delivery_truck.svg",alt:"delivery truck",className:"w-6 h-6"}),(0,Ct.jsx)("p",{className:"text-sm",children:"Delivery by Tomorrow, 11 AM - 1 PM"})]}),(0,Ct.jsx)("h2",{className:"text-2xl font-semibold my-4",children:"Product Details"}),(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("p",{className:"font-semibold",children:"Product Type"}),(0,Ct.jsx)("p",{className:"capitalize",children:w.product_type}),(0,Ct.jsx)("div",{className:"h-0.5 w-full bg-gray-300 my-2"}),(0,Ct.jsx)("p",{className:"font-semibold",children:"SKU"}),(0,Ct.jsx)("p",{children:w.sku}),(0,Ct.jsx)("div",{className:"h-0.5 w-full bg-gray-300 my-2"}),(0,Ct.jsx)("p",{className:"font-semibold",children:"Currency"}),(0,Ct.jsx)("p",{children:w.currency}),(0,Ct.jsx)("div",{className:"h-0.5 w-full bg-gray-300 my-2"}),(null===(o=w.brands)||void 0===o?void 0:o.length)>0&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("p",{className:"font-semibold",children:"Brand"}),(0,Ct.jsx)("p",{children:w.brands[0].name}),(0,Ct.jsx)("div",{className:"h-0.5 w-full bg-gray-300 my-2"})]}),(null===(l=w.categories)||void 0===l?void 0:l.length)>0&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("p",{className:"font-semibold",children:"Category"}),(0,Ct.jsx)("p",{children:w.categories[0].name}),(0,Ct.jsx)("div",{className:"h-0.5 w-full bg-gray-300 my-2"})]})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("p",{className:"font-semibold",children:"Warehouse"}),(0,Ct.jsx)("p",{children:(null===(c=w.warehouses)||void 0===c||null===(d=c[0])||void 0===d?void 0:d.name)||"Bukizz"}),(0,Ct.jsx)("div",{className:"h-0.5 w-full bg-gray-300 my-2"}),(0,Ct.jsx)("p",{className:"font-semibold",children:"Status"}),(0,Ct.jsx)("p",{className:w.is_active?"text-green-600":"text-red-600",children:w.is_active?"Active":"Inactive"}),(0,Ct.jsx)("div",{className:"h-0.5 w-full bg-gray-300 my-2"}),(null===O||void 0===O?void 0:O.stock)&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("p",{className:"font-semibold",children:"Stock"}),(0,Ct.jsxs)("p",{children:[O.stock," units available"]}),(0,Ct.jsx)("div",{className:"h-0.5 w-full bg-gray-300 my-2"})]}),(0,Ct.jsx)("p",{className:"font-semibold",children:"Base Price"}),(0,Ct.jsxs)("p",{children:["\u20b9",w.base_price]}),(0,Ct.jsx)("div",{className:"h-0.5 w-full bg-gray-300 my-2"}),w.min_price&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("p",{className:"font-semibold",children:"Min Price"}),(0,Ct.jsxs)("p",{children:["\u20b9",w.min_price]}),(0,Ct.jsx)("div",{className:"h-0.5 w-full bg-gray-300 my-2"})]})]})]}),(0,Ct.jsx)("h2",{className:"text-2xl font-semibold my-4",children:"Product Description"}),(0,Ct.jsx)("p",{className:"text-sm",children:w.description||w.short_description||"No description available."})]})]})]}),E.length>0&&(0,Ct.jsxs)("div",{className:"mx-4 md:mx-12 my-10",children:[(0,Ct.jsx)("h2",{className:"text-2xl font-semibold my-4",children:"Similar Products"}),(0,Ct.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 items-center justify-center",children:E.map((e,t)=>{const r=(e=>{const t=$();var r,a,n,s,i;return"uniform"===e.product_type?{name:e.title,originalPrice:t.original,discountedPrice:t.current,rating:4.5,category:"School Uniform",image:(null===(r=e.mainImages)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.url)||(null===(n=e.images)||void 0===n||null===(s=n[0])||void 0===s?void 0:s.url)||"https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?w=300&h=200&fit=crop&auto=format",discount:"20% off"}:{class:(null===(i=e.metadata)||void 0===i?void 0:i.grade)||"General",originalPrice:t.original,discountedPrice:t.current,rating:4.5,name:e.title}})(e);return(0,Ct.jsx)("div",{onClick:()=>h("/product/".concat(e.id)),className:"cursor-pointer",children:"uniform"===e.product_type?(0,Ct.jsx)(hr,{props:r}):(0,Ct.jsx)(ur,{props:r})},e.id)})})]}),q&&(0,Ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-sm w-full p-6 animate-fade-in",children:[(0,Ct.jsxs)("div",{className:"text-center mb-6",children:[(0,Ct.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ct.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Item Added to Cart!"}),(0,Ct.jsxs)("p",{className:"text-gray-600",children:[B," x ",w.title," added successfully."]})]}),(0,Ct.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,Ct.jsxs)("button",{onClick:()=>{W(!1),h("/checkout")},className:"w-full px-4 py-3 text-white bg-blue-600 hover:bg-blue-700 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:["Go to Cart",(0,Ct.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]}),(0,Ct.jsx)("button",{onClick:()=>{W(!1)},className:"w-full px-4 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Continue Shopping"})]})]})})]})};class gr extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class yr extends gr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vr extends gr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class br extends gr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xr;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(xr||(xr={}));var wr=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function i(e){try{l(a.next(e))}catch(yi){s(yi)}}function o(e){try{l(a.throw(e))}catch(yi){s(yi)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())})};class Sr{constructor(e){let{headers:t={},customFetch:r,region:a=xr.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return wr(this,void 0,void 0,function*(){try{const{headers:a,method:n,body:s}=t;let i={},{region:o}=t;o||(o=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;o&&"any"!==o&&(i["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&("undefined"!==typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",c=s):"string"===typeof s?(i["Content-Type"]="text/plain",c=s):"undefined"!==typeof FormData&&s instanceof FormData?c=s:(i["Content-Type"]="application/json",c=JSON.stringify(s)));const d=yield this.fetch(l.toString(),{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),a),body:c}).catch(e=>{throw new yr(e)}),u=d.headers.get("x-relay-error");if(u&&"true"===u)throw new vr(d);if(!d.ok)throw new br(d);let h,p=(null!==(r=d.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return h="application/json"===p?yield d.json():"application/octet-stream"===p?yield d.blob():"text/event-stream"===p?d:"multipart/form-data"===p?yield d.formData():yield d.text(),{data:h,error:null,response:d}}catch(a){return{data:null,error:a,response:a instanceof br||a instanceof vr?a.context:void 0}}})}}var kr=__webpack_require__(980);const{PostgrestClient:jr,PostgrestQueryBuilder:_r,PostgrestFilterBuilder:Nr,PostgrestTransformBuilder:Er,PostgrestBuilder:Cr,PostgrestError:Pr}=kr;const Ar=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof __webpack_require__.g&&"undefined"!==typeof __webpack_require__.g.WebSocket)return{type:"native",constructor:__webpack_require__.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process){const e=process.versions;if(e&&e.node){const t=e.node,r=parseInt(t.replace(/^v/,"").split(".")[0]);return r>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(r," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(r," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},Tr="realtime-js/".concat("2.15.5"),Ir=1e4;var Dr,Mr,Fr,Rr,Or,Lr;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Dr||(Dr={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Mr||(Mr={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Fr||(Fr={})),function(e){e.websocket="websocket"}(Rr||(Rr={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Or||(Or={}));class Br{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const a=t.getUint8(1),n=t.getUint8(2);let s=this.HEADER_LENGTH+2;const i=r.decode(e.slice(s,s+a));s+=a;const o=r.decode(e.slice(s,s+n));s+=n;return{ref:null,topic:i,event:o,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class zr{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Lr||(Lr={}));const Vr=function(e,t){var r;const a=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((r,n)=>(r[n]=Ur(n,e,t,a),r),{})},Ur=(e,t,r,a)=>{const n=t.find(t=>t.name===e),s=null===n||void 0===n?void 0:n.type,i=r[e];return s&&!a.includes(s)?Hr(s,i):Gr(i)},Hr=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return $r(t,r)}switch(e){case Lr.bool:return qr(t);case Lr.float4:case Lr.float8:case Lr.int2:case Lr.int4:case Lr.int8:case Lr.numeric:case Lr.oid:return Wr(t);case Lr.json:case Lr.jsonb:return Yr(t);case Lr.timestamp:return Kr(t);case Lr.abstime:case Lr.date:case Lr.daterange:case Lr.int4range:case Lr.int8range:case Lr.money:case Lr.reltime:case Lr.text:case Lr.time:case Lr.timestamptz:case Lr.timetz:case Lr.tsrange:case Lr.tstzrange:default:return Gr(t)}},Gr=e=>e,qr=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Wr=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Yr=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},$r=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,a=e[r];if("{"===e[0]&&"}"===a){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch(n){a=s?s.split(","):[]}return a.map(e=>Hr(t,e))}return e},Kr=e=>"string"===typeof e?e.replace(" ","T"):e,Jr=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Qr{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ir;this.channel=e,this.event=t,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Xr,Zr,ea,ta;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(Xr||(Xr={}));class ra{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ra.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=ra.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=ra.syncDiff(this.state,e,t,r),a())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,a){const n=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(n,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const r=n[e];if(r){const a=t.map(e=>e.presence_ref),n=r.map(e=>e.presence_ref),s=t.filter(e=>n.indexOf(e.presence_ref)<0),l=r.filter(e=>a.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(n,{joins:i,leaves:o},r,a)}static syncDiff(e,t,r,a){const{joins:n,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(n,(t,a)=>{var n;const s=null!==(n=e[t])&&void 0!==n?n:[];if(e[t]=this.cloneDeep(a),s.length>0){const r=e[t].map(e=>e.presence_ref),a=s.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...a)}r(t,s,a)}),this.map(s,(t,r)=>{let n=e[t];if(!n)return;const s=r.map(e=>e.presence_ref);n=n.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=n,a(t,n,r),0===n.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const a=e[r];return t[r]="metas"in a?a.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(Zr||(Zr={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(ea||(ea={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(ta||(ta={}));class aa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Mr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Qr(this,Fr.join,this.params,this.timeout),this.rejoinTimer=new zr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Mr.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Mr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fr.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new ra(this),this.broadcastEndpointURL=Jr(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,a,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Mr.closed){const{config:{broadcast:s,presence:i,private:o}}=this.params,l=null!==(a=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==a?a:[],c=!!this.bindings[ea.PRESENCE]&&this.bindings[ea.PRESENCE].length>0||!0===(null===(n=this.params.config.presence)||void 0===n?void 0:n.enabled),d={},u={broadcast:s,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(ta.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(ta.CLOSED)),this.updateJoinPayload(Object.assign({config:u},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:r}=t;var a;if(this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,n=null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0,s=[];for(let a=0;a<n;a++){const n=t[a],{filter:{event:i,schema:o,table:l,filter:c}}=n,d=r&&r[a];if(!d||d.event!==i||d.schema!==o||d.table!==l||d.filter!==c)return this.unsubscribe(),this.state=Mr.errored,void(null===e||void 0===e||e(ta.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},n),{id:d.id}))}return this.bindings.postgres_changes=s,void(e&&e(ta.SUBSCRIBED))}null===e||void 0===e||e(ta.SUBSCRIBED)}).receive("error",t=>{this.state=Mr.errored,null===e||void 0===e||e(ta.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(ta.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Mr.joined&&e===ea.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,a;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var a,n,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(n=null===(a=this.params)||void 0===a?void 0:a.config)||void 0===n?void 0:n.broadcast)||void 0===s?void 0:s.ack)||r("ok"),i.receive("ok",()=>r("ok")),i.receive("error",()=>r("error")),i.receive("timeout",()=>r("timed out"))});{const{event:s,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(a=e.body)||void 0===a?void 0:a.cancel()),e.ok?"ok":"error"}catch(n){return"AbortError"===n.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Mr.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(Fr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Qr(this,Fr.leave,{},e),r.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null===r||void 0===r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mr.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const a=new AbortController,n=setTimeout(()=>a.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(n),s}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let a=new Qr(this,e,t,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var a,n;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=Fr;if(r&&[i,o,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let d=this._onMessage(s,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(a=this.bindings.postgres_changes)||void 0===a||a.filter(e=>{var t,r,a;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(a=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===a?void 0:a.toLocaleLowerCase())===s}).map(e=>e.callback(d,r)):null===(n=this.bindings[s])||void 0===n||n.filter(e=>{var r,a,n,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(a=t.ids)||void 0===a?void 0:a.includes(s))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(n=t.data)||void 0===n?void 0:n.type.toLocaleLowerCase()))}{const r=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof d&&"ids"in d){const e=d.data,{schema:t,table:r,commit_timestamp:a,type:n,errors:s}=e,i={schema:t,table:r,commit_timestamp:a,eventType:n,new:{},old:{},errors:s};d=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(d,r)})}_isClosed(){return this.state===Mr.closed}_isJoined(){return this.state===Mr.joined}_isJoining(){return this.state===Mr.joining}_isLeaving(){return this.state===Mr.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,r){const a=e.toLocaleLowerCase(),n={type:a,filter:t,callback:r};return this.bindings[a]?this.bindings[a].push(n):this.bindings[a]=[n],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var a;return!((null===(a=e.type)||void 0===a?void 0:a.toLocaleLowerCase())===r&&aa.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Fr.close,{},e)}_onError(e){this._on(Fr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Vr(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Vr(e.columns,e.old_record)),t}}const na=()=>{},sa=25e3,ia=10,oa=100,la=[1e3,2e3,5e3,1e4];class ca{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ir,this.transport=null,this.heartbeatIntervalMs=sa,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=na,this.ref=0,this.reconnectTimer=null,this.logger=na,this.conn=null,this.sendBuffer=[],this.serializer=new Br,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,630)).then(e=>{let{default:r}=e;return r(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(Rr.websocket),this.httpEndpoint=Jr(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ar.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Dr.connecting:return Or.Connecting;case Dr.open:return Or.Open;case Dr.closing:return Or.Closing;default:return Or.Closed}}isConnected(){return this.connectionState()===Or.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r="realtime:".concat(e),a=this.getChannels().find(e=>e.topic===r);if(a)return a;{const r=new aa("realtime:".concat(e),t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:a,ref:n}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(r," (").concat(n,")"),a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(yi){this.log("error","error in heartbeat callback",yi)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},oa)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(yi){this.log("error","error in heartbeat callback",yi)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(yi){this.log("error","error in heartbeat callback",yi)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(yi){this.log("error","error in heartbeat callback",yi)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:a,ref:n}=e,s=n?"(".concat(n,")"):"",i=a.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(r," ").concat(s).trim(),a),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,a,n)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Fr.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return"".concat(e).concat(r).concat(a)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const r={access_token:e,version:Tr};e&&t.updateJoinPayload(r),t.joinedOnce&&t._isJoined()&&t._push(Fr.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(yi){this.log("error","error in ".concat(e," callback"),yi)}})}catch(yi){this.log("error","error triggering ".concat(e," callbacks"),yi)}}_setupReconnectionTimer(){this.reconnectTimer=new zr(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ia)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,a,n,s,i,o,l,c;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null===e||void 0===e?void 0:e.timeout)&&void 0!==r?r:Ir,this.heartbeatIntervalMs=null!==(a=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==a?a:sa,this.worker=null!==(n=null===e||void 0===e?void 0:e.worker)&&void 0!==n&&n,this.accessToken=null!==(s=null===e||void 0===e?void 0:e.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(i=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==i?i:na,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(o=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==o?o:e=>la[e-1]||1e4,this.encode=null!==(l=null===e||void 0===e?void 0:e.encode)&&void 0!==l?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null===e||void 0===e?void 0:e.decode)&&void 0!==c?c:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class da extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ua(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class ha extends da{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pa extends da{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ma=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function i(e){try{l(a.next(e))}catch(yi){s(yi)}}function o(e){try{l(a.throw(e))}catch(yi){s(yi)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())})};const fa=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},ga=e=>{if(Array.isArray(e))return e.map(e=>ga(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[r,a]=e;const n=r.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[n]=ga(a)}),t};var ya=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function i(e){try{l(a.next(e))}catch(yi){s(yi)}}function o(e){try{l(a.throw(e))}catch(yi){s(yi)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())})};const va=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ba=(e,t,r)=>ya(void 0,void 0,void 0,function*(){const a=yield ma(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(__webpack_require__.bind(__webpack_require__,630))).Response:Response});e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(r=>{const a=e.status||500,n=(null===r||void 0===r?void 0:r.statusCode)||a+"";t(new ha(va(r),a,n))}).catch(e=>{t(new pa(va(e),e))}):t(new pa(va(e),e))}),xa=(e,t,r,a)=>{const n={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&a?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(a)?(n.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,(null===t||void 0===t?void 0:t.duplex)&&(n.duplex=t.duplex),Object.assign(Object.assign({},n),r)):n};function wa(e,t,r,a,n,s){return ya(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(r,xa(t,a,n,s)).then(e=>{if(!e.ok)throw e;return(null===a||void 0===a?void 0:a.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>ba(e,o,a))})})}function Sa(e,t,r,a){return ya(this,void 0,void 0,function*(){return wa(e,"GET",t,r,a)})}function ka(e,t,r,a,n){return ya(this,void 0,void 0,function*(){return wa(e,"POST",t,a,n,r)})}function ja(e,t,r,a,n){return ya(this,void 0,void 0,function*(){return wa(e,"PUT",t,a,n,r)})}function _a(e,t,r,a,n){return ya(this,void 0,void 0,function*(){return wa(e,"DELETE",t,a,n,r)})}var Na=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function i(e){try{l(a.next(e))}catch(yi){s(yi)}}function o(e){try{l(a.throw(e))}catch(yi){s(yi)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())})};const Ea={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ca={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Pa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=fa(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,a){return Na(this,void 0,void 0,function*(){try{let n;const s=Object.assign(Object.assign({},Ca),a);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const o=s.metadata;"undefined"!==typeof Blob&&r instanceof Blob?(n=new FormData,n.append("cacheControl",s.cacheControl),o&&n.append("metadata",this.encodeMetadata(o)),n.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(n=r,n.append("cacheControl",s.cacheControl),o&&n.append("metadata",this.encodeMetadata(o))):(n=r,i["cache-control"]="max-age=".concat(s.cacheControl),i["content-type"]=s.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===a||void 0===a?void 0:a.headers)&&(i=Object.assign(Object.assign({},i),a.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield("PUT"==e?ja:ka)(this.fetch,"".concat(this.url,"/object/").concat(c),n,Object.assign({headers:i},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}upload(e,t,r){return Na(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,a){return Na(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),s=this._getFinalPath(n),i=new URL(this.url+"/object/upload/sign/".concat(s));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Ca.upsert},a),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,s["cache-control"]="max-age=".concat(t.cacheControl),s["content-type"]=t.contentType);return{data:{path:n,fullPath:(yield ja(this.fetch,i.toString(),e,{headers:s})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ua(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return Na(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(a["x-upsert"]="true");const n=yield ka(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(r),{},{headers:a}),s=new URL(this.url+n.url),i=s.searchParams.get("token");if(!i)throw new da("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ua(r))return{data:null,error:r};throw r}})}update(e,t,r){return Na(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Na(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ua(a))return{data:null,error:a};throw a}})}copy(e,t,r){return Na(this,void 0,void 0,function*(){try{return{data:{path:(yield ka(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ua(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,r){return Na(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),n=yield ka(this.fetch,"".concat(this.url,"/object/sign/").concat(a),Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const s=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return n={signedUrl:encodeURI("".concat(this.url).concat(n.signedURL).concat(s))},{data:n,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ua(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,r){return Na(this,void 0,void 0,function*(){try{const a=yield ka(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),n=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return{data:a.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(n)):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ua(a))return{data:null,error:a};throw a}})}download(e,t){return Na(this,void 0,void 0,function*(){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",a=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),n=a?"?".concat(a):"";try{const t=this._getFinalPath(e),a=yield Sa(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(t).concat(n),{headers:this.headers,noResolveJson:!0});return{data:yield a.blob(),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ua(s))return{data:null,error:s};throw s}})}info(e){return Na(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Sa(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:ga(e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ua(r))return{data:null,error:r};throw r}})}exists(e){return Na(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,a){return ya(this,void 0,void 0,function*(){return wa(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ua(r)&&r instanceof pa){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),a=[],n=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==n&&a.push(n);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&a.push(i);let o=a.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(r).concat(o))}}}remove(e){return Na(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ua(t))return{data:null,error:t};throw t}})}list(e,t,r){return Na(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Ea),t),{prefix:e||""});return{data:yield ka(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ua(a))return{data:null,error:a};throw a}})}listV2(e,t){return Na(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ka(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ua(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Aa={"X-Client-Info":"storage-js/".concat("2.12.1")};var Ta=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function i(e){try{l(a.next(e))}catch(yi){s(yi)}}function o(e){try{l(a.throw(e))}catch(yi){s(yi)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())})};class Ia{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const n=new URL(e);if(null===a||void 0===a?void 0:a.useNewHostname){/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase."))}this.url=n.href,this.headers=Object.assign(Object.assign({},Aa),t),this.fetch=fa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ta(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ua(e))return{data:null,error:e};throw e}})}getBucket(e){return Ta(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ua(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Ta(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ua(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Ta(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ua(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ta(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ua(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ta(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ua(t))return{data:null,error:t};throw t}})}}class Da extends Ia{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Pa(this.url,this.headers,e,this.fetch)}}let Ma="";Ma="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Fa={headers:{"X-Client-Info":"supabase-js-".concat(Ma,"/").concat("2.57.4")}},Ra={schema:"public"},Oa={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},La={};var Ba=__webpack_require__(630),za=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function i(e){try{l(a.next(e))}catch(yi){s(yi)}}function o(e){try{l(a.throw(e))}catch(yi){s(yi)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())})};const Va=e=>{let t;return t=e||("undefined"===typeof fetch?Ba.default:fetch),function(){return t(...arguments)}},Ua=(e,t,r)=>{const a=Va(r),n="undefined"===typeof Headers?Ba.Headers:Headers;return(r,s)=>za(void 0,void 0,void 0,function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new n(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),a(r,Object.assign(Object.assign({},s),{headers:l}))})};var Ha=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function i(e){try{l(a.next(e))}catch(yi){s(yi)}}function o(e){try{l(a.throw(e))}catch(yi){s(yi)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())})};const Ga="2.71.1",qa=3e4,Wa=9e4,Ya={"X-Client-Info":"gotrue-js/".concat(Ga)},$a="X-Supabase-Api-Version",Ka={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Ja=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Qa extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Xa(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Za extends Qa{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class en extends Qa{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class tn extends Qa{constructor(e,t,r,a){super(e,r,a),this.name=t,this.status=r}}class rn extends tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class an extends tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nn extends tn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sn extends tn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class on extends tn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ln extends tn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function cn(e){return Xa(e)&&"AuthRetryableFetchError"===e.name}class dn extends tn{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class un extends tn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pn=" \t\n\r=".split(""),mn=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pn.length;t+=1)e[pn[t].charCodeAt(0)]=-2;for(let t=0;t<hn.length;t+=1)e[hn[t].charCodeAt(0)]=t;return e})();function fn(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(hn[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(hn[e]),t.queuedBits-=6}}function gn(e,t,r){const a=mn[e];if(!(a>-1)){if(-2===a)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function yn(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,a,r)};for(let i=0;i<e.length;i+=1)gn(e.charCodeAt(i),n,s);return t.join("")}function vn(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function bn(e,t){for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(a>55295&&a<=56319){const t=1024*(a-55296)&65535;a=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}vn(a,t)}}function xn(e){const t=[],r={queue:0,queuedBits:0},a=e=>{t.push(e)};for(let n=0;n<e.length;n+=1)gn(e.charCodeAt(n),r,a);return new Uint8Array(t)}function wn(e){const t=[],r={queue:0,queuedBits:0},a=e=>{t.push(e)};return e.forEach(e=>fn(e,r,a)),fn(null,r,a),t.join("")}const Sn=()=>"undefined"!==typeof window&&"undefined"!==typeof document,kn={tested:!1,writable:!1},jn=()=>{if(!Sn())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(yi){return!1}if(kn.tested)return kn.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),kn.tested=!0,kn.writable=!0}catch(yi){kn.tested=!0,kn.writable=!1}return kn.writable};const _n=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},Nn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},En=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(a){return r}},Cn=async(e,t)=>{await e.removeItem(t)};class Pn{constructor(){this.promise=new Pn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function An(e){const t=e.split(".");if(3!==t.length)throw new un("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Ja.test(t[r]))throw new un("JWT not in base64url format");return{header:JSON.parse(yn(t[0])),payload:JSON.parse(yn(t[1])),signature:xn(t[2]),raw:{header:t[0],payload:t[1]}}}function Tn(e){return("0"+e.toString(16)).substr(-2)}async function In(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(r);return Array.from(a).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dn(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let a=0;a<56;a++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,Tn).join("")}();let n=a;r&&(n+="/PASSWORD_RECOVERY"),await Nn(e,"".concat(t,"-code-verifier"),n);const s=await In(a);return[s,a===s?"plain":"s256"]}Pn.promiseConstructor=Promise;const Mn=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Fn=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rn(e){if(!Fn.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function On(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function Ln(e){return JSON.parse(JSON.stringify(e))}var Bn=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r};const zn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Vn=[502,503,504];async function Un(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new ln(zn(e),0);if(Vn.includes(e.status))throw new ln(zn(e),e.status);let a,n;try{a=await e.json()}catch(yi){throw new en(zn(yi),yi)}const s=function(e){const t=e.headers.get($a);if(!t)return null;if(!t.match(Mn))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(yi){return null}}(e);if(s&&s.getTime()>=Ka.timestamp&&"object"===typeof a&&a&&"string"===typeof a.code?n=a.code:"object"===typeof a&&a&&"string"===typeof a.error_code&&(n=a.error_code),n){if("weak_password"===n)throw new dn(zn(a),e.status,(null===(t=a.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===n)throw new rn}else if("object"===typeof a&&a&&"object"===typeof a.weak_password&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new dn(zn(a),e.status,a.weak_password.reasons);throw new Za(zn(a),e.status||500,n)}async function Hn(e,t,r,a){var n;const s=Object.assign({},null===a||void 0===a?void 0:a.headers);s[$a]||(s[$a]=Ka.name),(null===a||void 0===a?void 0:a.jwt)&&(s.Authorization="Bearer ".concat(a.jwt));const i=null!==(n=null===a||void 0===a?void 0:a.query)&&void 0!==n?n:{};(null===a||void 0===a?void 0:a.redirectTo)&&(i.redirect_to=a.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,r,a,n,s){const i=((e,t,r,a)=>{const n={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),r))})(t,a,n,s);let o;try{o=await e(r,Object.assign({},i))}catch(yi){throw console.error(yi),new ln(zn(yi),0)}o.ok||await Un(o);if(null===a||void 0===a?void 0:a.noResolveJson)return o;try{return await o.json()}catch(yi){await Un(yi)}}(e,t,r+o,{headers:s,noResolveJson:null===a||void 0===a?void 0:a.noResolveJson},{},null===a||void 0===a?void 0:a.body);return(null===a||void 0===a?void 0:a.xform)?null===a||void 0===a?void 0:a.xform(l):{data:Object.assign({},l),error:null}}function Gn(e){var t;let r=null;var a;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(a=e.expires_in,Math.round(Date.now()/1e3)+a)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function qn(e){const t=Gn(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Wn(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Yn(e){return{data:e,error:null}}function $n(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:s}=e,i=Bn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:s},user:Object.assign({},i)},error:null}}function Kn(e){return e}const Jn=["global","local","others"];var Qn=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r};class Xn{constructor(e){let{url:t="",headers:r={},fetch:a}=e;this.url=t,this.headers=r,this.fetch=_n(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn[0];if(Jn.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(Jn.join(", ")));try{return await Hn(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Xa(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Hn(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Wn})}catch(r){if(Xa(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Qn(e,["options"]),a=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(a.new_email=null===r||void 0===r?void 0:r.newEmail,delete a.newEmail),await Hn(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:a,headers:this.headers,xform:$n,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Xa(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Hn(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Wn})}catch(t){if(Xa(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,a,n,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Hn(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(n=null===(a=null===e||void 0===e?void 0:e.perPage)||void 0===a?void 0:a.toString())&&void 0!==n?n:""},xform:Kn});if(c.error)throw c.error;const d=await c.json(),u=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Xa(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Rn(e);try{return await Hn(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Wn})}catch(t){if(Xa(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Rn(e);try{return await Hn(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Wn})}catch(r){if(Xa(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Rn(e);try{return await Hn(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Wn})}catch(r){if(Xa(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Rn(e.userId);try{const{data:t,error:r}=await Hn(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(Xa(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Rn(e.userId),Rn(e.id);try{return{data:await Hn(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(Xa(t))return{data:null,error:t};throw t}}}function Zn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const es=!!(globalThis&&jn()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class ts extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rs extends ts{}async function as(e,t,r){es&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),es&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async a=>{if(!a){if(0===t)throw es&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new rs('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(es)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(yi){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",yi)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}es&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{es&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(yi){"undefined"!==typeof self&&(self.globalThis=self)}}();const ns={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ya,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ss(e,t,r){return await r()}const is={};class os{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=os.nextInstanceID,os.nextInstanceID+=1,this.instanceID>0&&Sn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},ns),e);if(this.logDebugMessages=!!a.debug,"function"===typeof a.debug&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Xn({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=_n(a.fetch),this.lock=a.lock||ss,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Sn()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=as:this.lock=ss,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:jn()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zn(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Zn(this.memoryStorage)),Sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(yi){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",yi)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=is[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=is[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(Ga,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(yi){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Sn()&&this.detectSessionInUrl&&"none"!==r){const{data:a,error:n}=await this._getSessionFromURL(t,r);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),function(e){return Xa(e)&&"AuthImplicitGrantRedirectError"===e.name}(n)){const t=null===(e=n.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:n}}return await this._removeSession(),{error:n}}const{session:s,redirectType:i}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Xa(t)?{error:t}:{error:new en("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,a;try{const n=await Hn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(a=null===e||void 0===e?void 0:e.options)||void 0===a?void 0:a.captchaToken}},xform:Gn}),{data:s,error:i}=n;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(n){if(Xa(n))return{data:{user:null,session:null},error:n};throw n}}async signUp(e){var t,r,a;try{let n;if("email"in e){const{email:r,password:a,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Dn(this.storage,this.storageKey)),n=await Hn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:r,password:a,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:Gn})}else{if(!("phone"in e))throw new nn("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;n=await Hn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null===i||void 0===i?void 0:i.data)&&void 0!==r?r:{},channel:null!==(a=null===i||void 0===i?void 0:i.channel)&&void 0!==a?a:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Gn})}}const{data:s,error:i}=n;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(n){if(Xa(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:a,options:n}=e;t=await Hn(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:r,password:a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken}},xform:qn})}else{if(!("phone"in e))throw new nn("You must provide either an email or phone number and a password");{const{phone:r,password:a,options:n}=e;t=await Hn(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:r,password:a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken}},xform:qn})}}const{data:r,error:a}=t;return a?{data:{user:null,session:null},error:a}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a}):{data:{user:null,session:null},error:new an}}catch(t){if(Xa(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,a,n;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:null===(n=e.options)||void 0===n?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,r,a,n,s,i,o,l,c,d,u,h;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:u,wallet:h,statement:f,options:g}=e;let y;if(Sn())if("object"===typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),m=t.signature}else{if(!("signMessage"in y)||"function"!==typeof y.signMessage||!("publicKey"in y)||"object"!==typeof y||!y.publicKey||!("toBase58"in y.publicKey)||"function"!==typeof y.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=["".concat(v.host," wants you to sign in with your Solana account:"),y.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1","URI: ".concat(v.href),"Issued At: ".concat(null!==(a=null===(r=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==a?a:(new Date).toISOString()),...(null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(d=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=e}}try{const{data:t,error:r}=await Hn(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:wn(m)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Gn});if(r)throw r;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}):{data:{user:null,session:null},error:new an}}catch(f){if(Xa(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(e){const t=await En(this.storage,"".concat(this.storageKey,"-code-verifier")),[r,a]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:n}=await Hn(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Gn});if(await Cn(this.storage,"".concat(this.storageKey,"-code-verifier")),n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==a&&void 0!==a?a:null}),error:n}):{data:{user:null,session:null,redirectType:null},error:new an}}catch(n){if(Xa(n))return{data:{user:null,session:null,redirectType:null},error:n};throw n}}async signInWithIdToken(e){try{const{options:t,provider:r,token:a,access_token:n,nonce:s}=e,i=await Hn(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:a,access_token:n,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Gn}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new an}}catch(t){if(Xa(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,a,n,s;try{if("email"in e){const{email:a,options:n}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await Dn(this.storage,this.storageKey));const{error:o}=await Hn(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:a,data:null!==(t=null===n||void 0===n?void 0:n.data)&&void 0!==t?t:{},create_user:null===(r=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null===n||void 0===n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:r}=e,{data:i,error:o}=await Hn(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(a=null===r||void 0===r?void 0:r.data)&&void 0!==a?a:{},create_user:null===(n=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(s=null===r||void 0===r?void 0:r.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new nn("You must provide either an email or phone number.")}catch(i){if(Xa(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,r;try{let a,n;"options"in e&&(a=null===(t=e.options)||void 0===t?void 0:t.redirectTo,n=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:s,error:i}=await Hn(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:a,xform:Gn});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(Xa(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,r,a;try{let n=null,s=null;return"pkce"===this.flowType&&([n,s]=await Dn(this.storage,this.storageKey)),await Hn(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(a=null===e||void 0===e?void 0:e.options)||void 0===a?void 0:a.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:s}),headers:this.headers,xform:Yn})}catch(n){if(Xa(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new rn;const{error:a}=await Hn(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Xa(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:r,type:a,options:n}=e,{error:s}=await Hn(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken}},redirectTo:null===n||void 0===n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:r,type:a,options:n}=e,{data:s,error:i}=await Hn(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i}}throw new nn("You must provide either an email or phone number and a type")}catch(t){if(Xa(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(yi){}})()),r}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(yi){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await En(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Wa;if(this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",e.expires_at),!r){if(this.userStorage){const t=await En(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=On()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,a)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,a))})}return{data:{session:e},error:null}}const{session:a,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Hn(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Wn}):await this._useSession(async e=>{var t,r,a;const{data:n,error:s}=e;if(s)throw s;return(null===(t=n.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Hn(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(a=null===(r=n.session)||void 0===r?void 0:r.access_token)&&void 0!==a?a:void 0,xform:Wn}):{data:{user:null},error:new rn}})}catch(t){if(Xa(t))return function(e){return Xa(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Cn(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async r=>{const{data:a,error:n}=r;if(n)throw n;if(!a.session)throw new rn;const s=a.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await Dn(this.storage,this.storageKey));const{data:l,error:c}=await Hn(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:Wn});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Xa(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rn;const t=Date.now()/1e3;let r=t,a=!0,n=null;const{payload:s}=An(e.access_token);if(s.exp&&(r=s.exp,a=r<=t),a){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};n=t}else{const{data:a,error:s}=await this._getUser(e.access_token);if(s)throw s;n={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(t){if(Xa(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:a,error:n}=t;if(n)throw n;e=null!==(r=a.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new rn;const{session:a,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{user:null,session:null},error:n}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Xa(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Sn())throw new sn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new on("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new sn("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new on("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const a=new URL(window.location.href);return a.searchParams.delete("code"),window.history.replaceState(window.history.state,"",a.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:n,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!n||!i||!s||!l)throw new sn("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(i);let u=c+d;o&&(u=parseInt(o));const h=u-c;1e3*h<=qa&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(d,"s"));const p=u-d;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,u,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,u,c);const{data:m,error:f}=await this._getUser(n);if(f)throw f;const g={provider_token:r,provider_refresh_token:a,access_token:n,expires_in:d,expires_at:u,refresh_token:s,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(Xa(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await En(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var r;const{data:a,error:n}=t;if(n)return{error:n};const s=null===(r=a.session)||void 0===r?void 0:r.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return Xa(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Cn(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,a;try{const{data:{session:a},error:n}=t;if(n)throw n;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(n){await(null===(a=this.stateChangeEmitters.get(e))||void 0===a?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,a=null;"pkce"===this.flowType&&([r,a]=await Dn(this.storage,this.storageKey,!0));try{return await Hn(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(Xa(n))return{data:null,error:n};throw n}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Xa(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:a}=await this._useSession(async t=>{var r,a,n,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(a=e.options)||void 0===a?void 0:a.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:!0});return await Hn(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(a)throw a;return Sn()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),{data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null}}catch(r){if(Xa(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,a;const{data:n,error:s}=t;if(s)throw s;return await Hn(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(a=null===(r=n.session)||void 0===r?void 0:r.access_token)&&void 0!==a?a:void 0})})}catch(t){if(Xa(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const n=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Hn(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Gn})),a=(e,t)=>{const r=200*Math.pow(2,e);return t&&cn(t)&&Date.now()+r-n<qa},new Promise((e,t)=>{(async()=>{for(let n=0;n<1/0;n++)try{const t=await r(n);if(!a(n,null,t))return void e(t)}catch(yi){if(!a(n,yi))return void t(yi)}})()}))}catch(n){if(this._debug(t,"error",n),Xa(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}var r,a}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Sn()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await En(this.storage,this.storageKey);if(n&&this.userStorage){let t=await En(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:n.user},await Nn(this.userStorage,this.storageKey+"-user",t)),n.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:On()}else if(n&&!n.user&&!n.user){const e=await En(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(n.user=e.user,await Cn(this.storage,this.storageKey+"-user"),await Nn(this.storage,this.storageKey,n)):n.user=On()}if(this._debug(r,"session from storage",n),!this._isValidSession(n))return this._debug(r,"session is not valid"),void(null!==n&&await this._removeSession());const s=1e3*(null!==(t=n.expires_at)&&void 0!==t?t:1/0)-Date.now()<Wa;if(this._debug(r,"session has".concat(s?"":" not"," expired with margin of ").concat(Wa,"s")),s){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),cn(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(n.user&&!0===n.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(n.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(n.user=e.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(r,"error",n),void console.error(n)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new rn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(a,"begin");try{this.refreshingDeferred=new Pn;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new rn;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const a={session:t.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(n){if(this._debug(a,"error",n),Xa(n)){const e={session:null,error:n};return cn(n)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(n),n}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a="#_notifyAllSubscribers(".concat(e,")");this._debug(a,"begin",t,"broadcast = ".concat(r));try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],n=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(yi){a.push(yi)}});if(await Promise.all(n),a.length>0){for(let e=0;e<a.length;e+=1)console.error(a[e]);throw a[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await Nn(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const a=Ln(e);await Nn(this.storage,this.storageKey,a)}else{const e=Ln(t);await Nn(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Cn(this.storage,this.storageKey),await Cn(this.storage,this.storageKey+"-code-verifier"),await Cn(this.storage,this.storageKey+"-user"),this.userStorage&&await Cn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Sn()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(yi){console.error("removing visibilitychange callback failed",yi)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qa);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*r.expires_at-e)/qa);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(a," ticks, a tick lasts ").concat(qa,"ms, refresh threshold is ").concat(3," ticks")),a<=3&&await this._callRefreshToken(r.refresh_token)})}catch(yi){console.error("Auto refresh tick failed with error. This is likely a transient error.",yi)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(yi){if(!(yi.isAcquireTimeout||yi instanceof ts))throw yi;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sn()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const a=["provider=".concat(encodeURIComponent(t))];if((null===r||void 0===r?void 0:r.redirectTo)&&a.push("redirect_to=".concat(encodeURIComponent(r.redirectTo))),(null===r||void 0===r?void 0:r.scopes)&&a.push("scopes=".concat(encodeURIComponent(r.scopes))),"pkce"===this.flowType){const[e,t]=await Dn(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});a.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);a.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&a.push("skip_http_redirect=".concat(r.skipBrowserRedirect)),"".concat(e,"?").concat(a.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:a,error:n}=t;return n?{data:null,error:n}:await Hn(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token})})}catch(t){if(Xa(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,a;const{data:n,error:s}=t;if(s)return{data:null,error:s};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await Hn(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(a=null===o||void 0===o?void 0:o.totp)||void 0===a?void 0:a.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),{data:o,error:null})})}catch(t){if(Xa(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:a,error:n}=t;if(n)return{data:null,error:n};const{data:s,error:i}=await Hn(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:i})})}catch(t){if(Xa(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:a,error:n}=t;return n?{data:null,error:n}:await Hn(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token})})}catch(t){if(Xa(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null===e||void 0===e?void 0:e.factors)||[],a=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),n=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:a,phone:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:a},error:n}=e;if(n)return{data:null,error:n};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=An(a.access_token);let i=null;s.aal&&(i=s.aal);let o=i;(null!==(r=null===(t=a.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const r=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>r)return t;const{data:a,error:n}=await Hn(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(n)throw n;return a.keys&&0!==a.keys.length?(this.jwks=a,this.jwks_cached_at=r,t=a.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:a,payload:n,signature:s,raw:{header:i,payload:o}}=An(r);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(n.exp);const l=a.alg&&!a.alg.startsWith("HS")&&a.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(a.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:n,header:a,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(a.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,function(e){const t=[];return bn(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new un("Invalid JWT signature");return{data:{claims:n,header:a,signature:s},error:null}}catch(r){if(Xa(r))return{data:null,error:r};throw r}}}os.nextInstanceID=0;const ls=os;class cs extends ls{constructor(e){super(e)}}var ds=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function i(e){try{l(a.next(e))}catch(yi){s(yi)}}function o(e){try{l(a.throw(e))}catch(yi){s(yi)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())})};class us{constructor(e,t,r){var a,n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((r=t).endsWith("/")?r:r+"/")}catch(a){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var r}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o="sb-".concat(i.hostname.split(".")[0],"-auth-token"),l=function(e,t){var r,a;const{db:n,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},u),o),{headers:Object.assign(Object.assign({},null!==(r=null===u||void 0===u?void 0:u.headers)&&void 0!==r?r:{}),null!==(a=null===o||void 0===o?void 0:o.headers)&&void 0!==a?a:{})}),accessToken:()=>Ha(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==r&&void 0!==r?r:{},{db:Ra,realtime:La,auth:Object.assign(Object.assign({},Oa),{storageKey:o}),global:Fa});this.storageKey=null!==(a=l.auth.storageKey)&&void 0!==a?a:"",this.headers=null!==(n=l.global.headers)&&void 0!==n?n:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(s=l.auth)&&void 0!==s?s:{},this.headers,l.global.fetch),this.fetch=Ua(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new jr(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Da(this.storageUrl.href,this.headers,this.fetch,null===r||void 0===r?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Sr(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return ds(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:a,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:o,storageKey:l,flowType:c,lock:d,debug:u}=e;const h={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new cs({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),t),storageKey:l,autoRefreshToken:a,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:o,flowType:c,lock:d,debug:u,fetch:r,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new ca(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hs=new us("https://qgufxqbsgewczleennbu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFndWZ4cWJzZ2V3Y3psZWVubmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc1NzgwOTcsImV4cCI6MjA3MzE1NDA5N30.En_vogdXxSu-xYGxc0EiLGNxwaADDFt6YaHEa63kvAM",ps);var ps;const ms=e=>{let{formData:t,setFormData:r,fieldErrors:n,showValidation:s,clearFieldError:i,getInputClassName:o}=e;return(0,Ct.jsxs)("div",{className:"space-y-6",children:[(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Basic Product Information"}),(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Title *"}),(0,Ct.jsx)("input",{type:"text",required:!0,name:"title",value:t.title,onChange:e=>{i("title"),r((0,a.A)((0,a.A)({},t),{},{title:e.target.value}))},className:o("title","w-full px-3 py-2 border rounded-md focus:outline-none"),placeholder:"e.g., Delhi Public School Class 11th Study Materials"}),s&&n.title&&(0,Ct.jsx)("p",{className:"text-red-500 text-sm mt-1",children:n.title})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU (Optional)"}),(0,Ct.jsx)("input",{type:"text",name:"sku",value:t.sku,onChange:e=>r((0,a.A)((0,a.A)({},t),{},{sku:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., DPS-CLASS11-2025"})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Type *"}),(0,Ct.jsxs)("select",{required:!0,name:"productType",value:t.productType,onChange:e=>r((0,a.A)((0,a.A)({},t),{},{productType:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Ct.jsx)("option",{value:"bookset",children:"Bookset"}),(0,Ct.jsx)("option",{value:"uniform",children:"Uniform"}),(0,Ct.jsx)("option",{value:"stationary",children:"Stationary"}),(0,Ct.jsx)("option",{value:"general",children:"General"})]})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Base Price (\u20b9) *"}),(0,Ct.jsx)("input",{type:"number",required:!0,name:"basePrice",min:"0",step:"0.01",value:t.basePrice,onChange:e=>{i("basePrice"),r((0,a.A)((0,a.A)({},t),{},{basePrice:parseFloat(e.target.value)||0}))},className:o("basePrice","w-full px-3 py-2 border rounded-md focus:outline-none"),placeholder:"800.00"}),s&&n.basePrice&&(0,Ct.jsx)("p",{className:"text-red-500 text-sm mt-1",children:n.basePrice})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),(0,Ct.jsxs)("select",{name:"currency",value:t.currency,onChange:e=>r((0,a.A)((0,a.A)({},t),{},{currency:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Ct.jsx)("option",{value:"INR",children:"INR (\u20b9)"}),(0,Ct.jsx)("option",{value:"USD",children:"USD ($)"}),(0,Ct.jsx)("option",{value:"EUR",children:"EUR (\u20ac)"})]})]}),(0,Ct.jsxs)("div",{className:"flex items-center",children:[(0,Ct.jsx)("input",{type:"checkbox",id:"isActive",checked:t.isActive,onChange:e=>r((0,a.A)((0,a.A)({},t),{},{isActive:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Ct.jsx)("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700",children:"Active Product"})]})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Short Description *"}),(0,Ct.jsx)("textarea",{rows:2,name:"shortDescription",value:t.shortDescription,onChange:e=>{i("shortDescription"),r((0,a.A)((0,a.A)({},t),{},{shortDescription:e.target.value}))},className:o("shortDescription","w-full px-3 py-2 border rounded-md focus:outline-none"),placeholder:"Brief description for listings..."}),s&&n.shortDescription&&(0,Ct.jsx)("p",{className:"text-red-500 text-sm mt-1",children:n.shortDescription})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detailed Description"}),(0,Ct.jsx)("textarea",{rows:6,name:"description",value:t.description,onChange:e=>r((0,a.A)((0,a.A)({},t),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Comprehensive product description..."})]})]})},fs=t=>{let{productOptions:r,updateOption:n,updateOptionValue:s,addOptionValue:i,removeOptionValue:o,productId:l,onOptionsUpdated:c}=t;const[d,u]=(0,e.useState)(!1),[h,p]=(0,e.useState)(""),[m,f]=(0,e.useState)(""),[g,y]=(0,e.useState)([]);(0,e.useEffect)(()=>{l&&v()},[l]);const v=async()=>{try{const e=Dt.Ay.getState(),t=await fetch("".concat(e.baseUrl,"/products/").concat(l,"/options"),{headers:e.getAuthHeaders()});if(t.ok){const e=await t.json();y(e.data||[])}}catch(e){console.error("Error fetching existing options:",e)}},b=e=>e.values.filter(e=>e.value.trim()).length;return(0,Ct.jsxs)("div",{className:"space-y-8",children:[(0,Ct.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Product Options"}),(0,Ct.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Create up to 3 option groups (e.g., Size, Color, Type)"})]}),(0,Ct.jsxs)("div",{className:"text-right",children:[(0,Ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Estimated variants: ",(0,Ct.jsx)("span",{className:"font-semibold text-blue-600",children:(()=>{const e=r.filter(e=>e.name.trim()&&e.values.some(e=>e.value.trim()));return 0===e.length?1:e.reduce((e,t)=>e*(b(t)||1),1)})()})]}),(0,Ct.jsx)("button",{type:"button",onClick:async()=>{u(!0),p(""),f("");try{const h=Dt.Ay.getState(),m=r.filter(e=>e.name.trim()&&e.values.some(e=>e.value.trim()));if(0===m.length)return p("Please add at least one option with values before saving."),void u(!1);console.log("Saving valid options:",m);const y=[];for(const r of m){const c=r.values.filter(e=>e.value.trim());if(0!==c.length)try{var e,t,n,s;const d={name:r.name.trim(),position:r.position,isRequired:r.isRequired};let u;console.log("Sending attribute data:",d);const p=g.find(e=>e.name===r.name&&e.position===r.position);p?(console.log("Updating existing attribute:",p.id),u=await fetch("".concat(h.baseUrl,"/products/options/").concat(p.id),{method:"PUT",headers:(0,a.A)((0,a.A)({},h.getAuthHeaders()),{},{"Content-Type":"application/json"}),body:JSON.stringify(d)})):(console.log("Creating new attribute for product:",l),u=await fetch("".concat(h.baseUrl,"/products/").concat(l,"/options"),{method:"POST",headers:(0,a.A)((0,a.A)({},h.getAuthHeaders()),{},{"Content-Type":"application/json"}),body:JSON.stringify(d)}));const m=await u.text();if(console.log("Attribute response:",m),!u.ok)throw new Error("Failed to save attribute: ".concat(m));const f=JSON.parse(m);console.log("Parsed attribute result:",f);const v=(null===(e=f.data)||void 0===e||null===(t=e.option)||void 0===t?void 0:t.id)||(null===(n=f.data)||void 0===n?void 0:n.id);if(!v)throw console.error("No attribute ID found in response:",f),new Error("Failed to get attribute ID from server response");console.log("Using attribute ID:",v);const b=[];for(const e of c)try{const t={value:e.value.trim(),priceModifier:parseFloat(e.priceModifier)||0,sortOrder:0};console.log("Sending value data:",t);const r=await fetch("".concat(h.baseUrl,"/products/options/").concat(v,"/values"),{method:"POST",headers:(0,a.A)((0,a.A)({},h.getAuthHeaders()),{},{"Content-Type":"application/json"}),body:JSON.stringify(t)}),n=await r.text();if(console.log("Value response:",n),r.ok){var i;const e=JSON.parse(n);console.log("Parsed value result:",e),b.push((null===(i=e.data)||void 0===i?void 0:i.value)||e.data)}else console.warn('Failed to save value "'.concat(e.value,'":'),n)}catch(o){console.error('Error saving value "'.concat(e.value,'":'),o)}y.push({attribute:(null===(s=f.data)||void 0===s?void 0:s.option)||f.data,values:b})}catch(d){throw console.error('Error saving option "'.concat(r.name,'":'),d),d}}y.length>0?(f("Successfully saved ".concat(y.length," product options with their values!")),await v(),c&&c(y)):p("No options were saved. Please check your data and try again.")}catch(h){console.error("Error saving product options:",h),p("Failed to save options: ".concat(h.message))}finally{u(!1)}},disabled:d,className:"mt-2 px-4 py-2 rounded-md text-sm font-medium ".concat(d?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:d?"Saving...":"Save Options"})]})]}),h&&(0,Ct.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:h}),m&&(0,Ct.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:m}),r.map((e,t)=>(0,Ct.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border",children:[(0,Ct.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ct.jsxs)("h3",{className:"text-lg font-medium text-gray-700",children:["Option Group ",t+1]}),(0,Ct.jsxs)("div",{className:"text-sm text-gray-600",children:["Values: ",b(e)]})]}),(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Option Name *"}),(0,Ct.jsx)("input",{type:"text",value:e.name,onChange:e=>n(t,"name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Size, Color, Type"})]}),(0,Ct.jsxs)("div",{className:"flex items-center mt-6",children:[(0,Ct.jsx)("input",{type:"checkbox",id:"required-".concat(t),checked:e.isRequired,onChange:e=>n(t,"isRequired",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Ct.jsx)("label",{htmlFor:"required-".concat(t),className:"ml-2 block text-sm text-gray-700",children:"Required Option"})]}),(0,Ct.jsxs)("div",{className:"flex items-center mt-6",children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:"Position:"}),(0,Ct.jsx)("span",{className:"text-sm text-gray-600",children:e.position})]})]}),(0,Ct.jsxs)("div",{className:"space-y-3",children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Option Values *"}),e.values.map((r,a)=>(0,Ct.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,Ct.jsx)("input",{type:"text",value:r.value,onChange:e=>s(t,a,"value",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Small, Medium, Large"}),(0,Ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Ct.jsx)("span",{className:"text-sm text-gray-600",children:"\u20b9"}),(0,Ct.jsx)("input",{type:"number",min:"0",step:"0.01",value:r.priceModifier,onChange:e=>s(t,a,"priceModifier",e.target.value),className:"w-24 px-2 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0",title:"Price modifier (added to base price)"})]}),e.values.length>1&&(0,Ct.jsx)("button",{type:"button",onClick:()=>o(t,a),className:"text-red-500 hover:text-red-700 p-1",title:"Remove this value",children:"\u2715"})]},a)),(0,Ct.jsx)("button",{type:"button",onClick:()=>i(t),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"+ Add Value"})]}),e.name.trim()&&e.values.some(e=>e.value.trim())&&(0,Ct.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-md",children:(0,Ct.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,Ct.jsxs)("strong",{children:[e.name,":"]})," ",e.values.filter(e=>e.value.trim()).map(e=>e.value).join(", ")]})})]},t)),(0,Ct.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:[(0,Ct.jsx)("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:"\ud83d\udca1 Tips for Product Options:"}),(0,Ct.jsxs)("ul",{className:"text-sm text-yellow-700 space-y-1",children:[(0,Ct.jsx)("li",{children:"\u2022 Each option group can have multiple values (e.g., Size: Small, Medium, Large)"}),(0,Ct.jsx)("li",{children:"\u2022 Price modifiers will be added to the base product price for each variant"}),(0,Ct.jsx)("li",{children:"\u2022 Save options before generating variants to ensure proper linking"}),(0,Ct.jsx)("li",{children:"\u2022 Required options must be selected by customers when ordering"})]})]})]})},gs=e=>{let{variants:t,productOptions:r,formData:a,showVariantGenerator:n,setShowVariantGenerator:s,generateVariants:i,updateVariant:o}=e;return(0,Ct.jsxs)("div",{className:"space-y-6",children:[(0,Ct.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Product Variants"}),(0,Ct.jsx)("button",{type:"button",onClick:()=>s(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:"Generate Variants"})]}),n&&(0,Ct.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Ct.jsxs)("p",{className:"text-yellow-800 mb-3",children:["This will generate all possible combinations based on your product options. Current options will create"," ",r.filter(e=>e.name&&e.values.some(e=>e.value)).reduce((e,t)=>e*Math.max(1,t.values.filter(e=>e.value).length),1)," ","variants."]}),(0,Ct.jsxs)("div",{className:"flex gap-3",children:[(0,Ct.jsx)("button",{type:"button",onClick:i,className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600",children:"Generate Now"}),(0,Ct.jsx)("button",{type:"button",onClick:()=>s(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600",children:"Cancel"})]})]}),0===t.length?(0,Ct.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Ct.jsx)("p",{children:"No variants created yet."}),(0,Ct.jsx)("p",{children:'Use "Generate Variants" button or set up product options first.'})]}):(0,Ct.jsx)("div",{className:"overflow-x-auto",children:(0,Ct.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,Ct.jsx)("thead",{className:"bg-gray-50",children:(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),(0,Ct.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combination"}),(0,Ct.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price (\u20b9)"}),(0,Ct.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Compare Price (\u20b9)"}),(0,Ct.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,Ct.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weight (kg)"})]})}),(0,Ct.jsx)("tbody",{className:"divide-y divide-gray-200",children:t.map((e,t)=>(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{className:"px-4 py-3",children:(0,Ct.jsx)("input",{type:"text",value:e.sku,onChange:e=>o(t,"sku",e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})}),(0,Ct.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:e.optionCombination}),(0,Ct.jsx)("td",{className:"px-4 py-3",children:(0,Ct.jsx)("input",{type:"number",min:"0",step:"0.01",value:e.price,onChange:e=>o(t,"price",e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})}),(0,Ct.jsx)("td",{className:"px-4 py-3",children:(0,Ct.jsx)("input",{type:"number",min:"0",step:"0.01",value:e.compareAtPrice,onChange:e=>o(t,"compareAtPrice",e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})}),(0,Ct.jsx)("td",{className:"px-4 py-3",children:(0,Ct.jsx)("input",{type:"number",min:"0",value:e.stock,onChange:e=>o(t,"stock",e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})}),(0,Ct.jsx)("td",{className:"px-4 py-3",children:(0,Ct.jsx)("input",{type:"number",min:"0",step:"0.01",value:e.weight,onChange:e=>o(t,"weight",e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})})]},t))})]})})]})},ys=e=>{let{formData:t,setFormData:r,schools:n,categories:s}=e;return(0,Ct.jsxs)("div",{className:"space-y-8",children:[(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Schools & Categories"}),(0,Ct.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,Ct.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Associate with Schools"}),(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade/Class"}),(0,Ct.jsxs)("select",{value:t.grade,onChange:e=>r((0,a.A)((0,a.A)({},t),{},{grade:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Ct.jsx)("option",{value:"Pre-KG",children:"Pre-KG"}),(0,Ct.jsx)("option",{value:"LKG",children:"LKG"}),(0,Ct.jsx)("option",{value:"UKG",children:"UKG"}),Array.from({length:12},(e,t)=>(0,Ct.jsxs)("option",{value:"".concat(t+1).concat(0===t?"st":1===t?"nd":2===t?"rd":"th"),children:["Class ",t+1]},t))]})]}),(0,Ct.jsxs)("div",{className:"flex items-center mt-6",children:[(0,Ct.jsx)("input",{type:"checkbox",id:"mandatory",checked:t.mandatory,onChange:e=>r((0,a.A)((0,a.A)({},t),{},{mandatory:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Ct.jsx)("label",{htmlFor:"mandatory",className:"ml-2 block text-sm text-gray-700",children:"Mandatory Product"})]})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Schools"}),(0,Ct.jsx)("div",{className:"max-h-48 overflow-y-auto border border-gray-300 rounded-md p-3 bg-white",children:n.map(e=>(0,Ct.jsxs)("label",{className:"flex items-center mb-2",children:[(0,Ct.jsx)("input",{type:"checkbox",checked:t.selectedSchools.includes(e.id),onChange:n=>{n.target.checked?r((0,a.A)((0,a.A)({},t),{},{selectedSchools:[...t.selectedSchools,e.id]})):r((0,a.A)((0,a.A)({},t),{},{selectedSchools:t.selectedSchools.filter(t=>t!==e.id)}))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Ct.jsxs)("span",{className:"ml-2 text-sm text-gray-700",children:[e.name," (",e.city,", ",e.state,")"]})]},e.id))})]})]}),(0,Ct.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,Ct.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Associate with Categories"}),(0,Ct.jsx)("div",{className:"max-h-48 overflow-y-auto border border-gray-300 rounded-md p-3 bg-white",children:s.map(e=>(0,Ct.jsxs)("label",{className:"flex items-center mb-2",children:[(0,Ct.jsx)("input",{type:"checkbox",checked:t.selectedCategories.includes(e.id),onChange:n=>{n.target.checked?r((0,a.A)((0,a.A)({},t),{},{selectedCategories:[...t.selectedCategories,e.id]})):r((0,a.A)((0,a.A)({},t),{},{selectedCategories:t.selectedCategories.filter(t=>t!==e.id)}))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Ct.jsxs)("span",{className:"ml-2 text-sm text-gray-700",children:[e.name,e.description&&(0,Ct.jsx)("span",{className:"text-gray-500 text-xs block ml-6",children:e.description})]})]},e.id))})]})]})},vs=t=>{let{formData:r,setFormData:n,variants:s,productOptions:i}=t;const[o,l]=(0,e.useState)([]),[c,d]=(0,e.useState)("file"),[u,h]=(0,e.useState)([]),[p,m]=(0,e.useState)(""),[f,g]=(0,e.useState)(null),[y,v]=(0,e.useState)("product"),[b,x]=(0,e.useState)(""),[w,S]=(0,e.useState)(!1),[k,j]=(0,e.useState)(!1),[_,N]=(0,e.useState)("");e.useEffect(()=>{r.productImages&&r.productImages.length>0&&l(r.productImages)},[r.productImages]);const E=e=>{if(!e)return"Main Product";const t=s.find(t=>t.id===e);return t?t.optionCombination:"Unknown Variant"},C=o.reduce((e,t)=>{const r=t.variantId||"main";return e[r]||(e[r]=[]),e[r].push(t),e},{});return(0,Ct.jsxs)("div",{className:"space-y-8",children:[(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Images & Media Management"}),_&&(0,Ct.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:_}),(0,Ct.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,Ct.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Add New Images"}),(0,Ct.jsxs)("div",{className:"mb-4",children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Method"}),(0,Ct.jsxs)("div",{className:"flex space-x-4",children:[(0,Ct.jsxs)("label",{className:"flex items-center",children:[(0,Ct.jsx)("input",{type:"radio",value:"file",checked:"file"===c,onChange:e=>d(e.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,Ct.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Upload Files"})]}),(0,Ct.jsxs)("label",{className:"flex items-center",children:[(0,Ct.jsx)("input",{type:"radio",value:"url",checked:"url"===c,onChange:e=>d(e.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,Ct.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Image URL"})]})]})]}),(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Ct.jsx)("div",{children:"file"===c?(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Images (Max 10MB each)"}),(0,Ct.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files).filter(e=>e.type.startsWith("image/")?!(e.size>10485760)||(N("File size must be less than 10MB"),!1):(N("Only image files are allowed"),!1));h(t),N("")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.length>0&&(0,Ct.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[u.length," file(s) selected"]})]}):(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),(0,Ct.jsx)("input",{type:"url",value:p,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/image.jpg"})]})}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Associate with Variant (Optional)"}),(0,Ct.jsxs)("select",{value:f||"",onChange:e=>g(e.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Ct.jsx)("option",{value:"",children:"Main Product Images"}),s.map(e=>(0,Ct.jsx)("option",{value:e.id||e.tempId,children:e.optionCombination},e.id||e.tempId))]})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Type"}),(0,Ct.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Ct.jsx)("option",{value:"product",children:"Product Image"}),(0,Ct.jsx)("option",{value:"thumbnail",children:"Thumbnail"}),(0,Ct.jsx)("option",{value:"gallery",children:"Gallery Image"}),(0,Ct.jsx)("option",{value:"variant",children:"Variant Specific"})]})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alt Text (SEO)"}),(0,Ct.jsx)("input",{type:"text",value:b,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descriptive text for accessibility"})]})]}),(0,Ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Ct.jsx)("input",{type:"checkbox",id:"primaryImage",checked:w,onChange:e=>S(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Ct.jsx)("label",{htmlFor:"primaryImage",className:"ml-2 block text-sm text-gray-700",children:"Set as primary image for this variant/product"})]}),(0,Ct.jsx)("button",{type:"button",onClick:async()=>{if("file"!==c||0!==u.length)if("url"!==c||p){j(!0),N("");try{const e=[];if("file"===c)for(const t of u){const r={tempId:Date.now()+Math.random(),isNew:!0,file:t,url:URL.createObjectURL(t),variantId:f,altText:b||t.name,imageType:y,isPrimary:w&&0===u.indexOf(t),source:"upload",fileName:t.name,fileSize:t.size,sortOrder:o.length+e.length};e.push(r)}else{const t={tempId:Date.now()+Math.random(),isNew:!0,url:p,variantId:f,altText:b||"Product image",imageType:y,isPrimary:w,source:"url",sortOrder:o.length};e.push(t)}l(t=>[...t,...e]),n(t=>(0,a.A)((0,a.A)({},t),{},{productImages:[...t.productImages||[],...e]})),h([]),m(""),x(""),S(!1)}catch(e){N("Upload failed: ".concat(e.message))}finally{j(!1)}}else N("Please enter an image URL");else N("Please select at least one file")},disabled:k,className:"px-4 py-2 rounded-md font-medium ".concat(k?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:k?"Uploading...":"Add Image(s)"})]}),(0,Ct.jsxs)("div",{className:"space-y-6",children:[(0,Ct.jsx)("h3",{className:"text-lg font-medium text-gray-700",children:"Current Images"}),0===Object.keys(C).length?(0,Ct.jsxs)("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:[(0,Ct.jsx)("p",{children:"No images uploaded yet"}),(0,Ct.jsx)("p",{className:"text-sm",children:"Add images using the form above"})]}):Object.entries(C).map(e=>{var t;let[r,i]=e;return(0,Ct.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,Ct.jsxs)("h4",{className:"font-medium text-gray-800 mb-3",children:[E("main"===r?null:null===(t=s[r])||void 0===t?void 0:t.id),"main"!==r&&(0,Ct.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:["(",i.length," image",1!==i.length?"s":"",")"]})]}),(0,Ct.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:i.map(e=>(0,Ct.jsxs)("div",{className:"relative group",children:[(0,Ct.jsxs)("div",{className:"border-2 rounded-lg overflow-hidden ".concat(e.isPrimary?"border-blue-500":"border-gray-200"),children:[(0,Ct.jsx)("img",{src:e.url,alt:e.altText,className:"w-full h-32 object-cover",onError:e=>{e.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlIEVycm9yPC90ZXh0Pjwvc3ZnPg=="}}),e.isPrimary&&(0,Ct.jsx)("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded",children:"Primary"}),(0,Ct.jsx)("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:e.imageType})]}),(0,Ct.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,Ct.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.altText}),(0,Ct.jsxs)("p",{className:"text-xs text-gray-500",children:["Source: ",e.source,e.fileName&&" (".concat(e.fileName,")")]}),e.fileSize&&(0,Ct.jsxs)("p",{className:"text-xs text-gray-500",children:["Size: ",(e.fileSize/1024/1024).toFixed(2)," MB"]}),e.isNew&&(0,Ct.jsx)("p",{className:"text-xs text-green-600 font-medium",children:"New Image (will be uploaded)"})]}),(0,Ct.jsxs)("div",{className:"mt-2 flex space-x-1",children:[!e.isPrimary&&(0,Ct.jsx)("button",{type:"button",onClick:()=>(e=>{const t=o.map(t=>(0,a.A)((0,a.A)({},t),{},{isPrimary:t.id===e||t.tempId===e}));l(t),n(t=>(0,a.A)((0,a.A)({},t),{},{productImages:(t.productImages||[]).map(t=>(0,a.A)((0,a.A)({},t),{},{isPrimary:t.id===e||t.tempId===e}))}))})(e.id||e.tempId),className:"text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded",children:"Set Primary"}),(0,Ct.jsx)("button",{type:"button",onClick:()=>(e=>{const t=o.filter(t=>t.id!==e&&t.tempId!==e);l(t),n(t=>(0,a.A)((0,a.A)({},t),{},{productImages:(t.productImages||[]).filter(t=>t.id!==e&&t.tempId!==e)}))})(e.id||e.tempId),className:"text-xs bg-red-200 hover:bg-red-300 text-red-700 px-2 py-1 rounded",children:"Remove"})]})]},e.id||e.tempId))})]},r)})]}),s.length>0&&(0,Ct.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Ct.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Bulk Variant Image Upload"}),(0,Ct.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Upload multiple images and automatically assign them to variants based on naming convention."}),(0,Ct.jsx)("button",{type:"button",className:"text-sm bg-yellow-200 hover:bg-yellow-300 px-3 py-1 rounded",onClick:()=>alert("Bulk upload feature would be implemented here"),children:"Open Bulk Upload Tool"})]})]})},bs=t=>{var r,n,s,i,o;let{formData:l,setFormData:c,retailers:d,productId:u}=t;const[h,p]=(0,e.useState)({name:"",slug:"",description:"",country:"",logo_url:"",existingBrandId:""}),[m,f]=(0,e.useState)({name:"",contact_email:"",contact_phone:"",address:"",website:"",existingWarehouseId:""}),[g,y]=(0,e.useState)([]),[v,b]=(0,e.useState)([]),[x,w]=(0,e.useState)(""),[S,k]=(0,e.useState)([]),[j,_]=(0,e.useState)(!1),[N,E]=(0,e.useState)("");(0,e.useEffect)(()=>{console.log(l),C(),P(),l.retailerId&&w(l.retailerId)},[l.retailerId]),(0,e.useEffect)(()=>{x?A(x):k([])},[x]);const C=async()=>{try{const{data:e,error:t}=await hs.from("brands").select("id, name, country, logo_url, slug, description").eq("is_active",!0).order("name");if(console.log("Fetched brands:",e),t)throw t;y(e||[])}catch(e){console.error("Error fetching brands:",e)}},P=async()=>{try{const e=Dt.Ay.getState(),t=await fetch("".concat(e.baseUrl,"/users/admin/search?role=retailer&limit=100"),{headers:e.getAuthHeaders()}),r=await t.json();r.success&&r.data&&r.data.users?(console.log("Fetched retailers:",r.data.users),b(r.data.users)):console.error("Failed to fetch retailers:",r)}catch(e){console.error("Error fetching retailers:",e)}},A=async e=>{try{_(!0);const t=Dt.Ay.getState(),r=await fetch("".concat(t.baseUrl,"/warehouses/retailer/").concat(e),{headers:t.getAuthHeaders()}),a=await r.json();if(!a.success)throw new Error(a.message||"Failed to fetch warehouses");console.log("Fetched warehouses for retailer:",a.data.warehouses),k(a.data.warehouses||[])}catch(t){console.error("Error fetching warehouses:",t),k([])}finally{_(!1)}},T=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return(0,e.useEffect)(()=>{console.log("Current formData:",l),console.log("Current brandData:",l.brandData),console.log("Current warehouseData:",l.warehouseData)},[l]),(0,Ct.jsxs)("div",{className:"space-y-8",children:[(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Brand & Warehouse Management"}),N&&(0,Ct.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:N}),(0,Ct.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,Ct.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Brand Information"}),(0,Ct.jsxs)("div",{className:"mb-4",children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Existing Brand (Optional)"}),(0,Ct.jsxs)("select",{value:h.existingBrandId,onChange:e=>p((0,a.A)((0,a.A)({},h),{},{existingBrandId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Ct.jsx)("option",{value:"",children:"Create New Brand"}),g.map(e=>(0,Ct.jsxs)("option",{value:e.id,children:[e.name," (",e.country,")"]},e.id))]})]}),!h.existingBrandId&&(0,Ct.jsx)("div",{className:"space-y-4",children:(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Name *"}),(0,Ct.jsx)("input",{type:"text",value:h.name,onChange:e=>{return t=e.target.value,void p(e=>(0,a.A)((0,a.A)({},e),{},{name:t,slug:T(t)}));var t},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Nike, Apple, etc."})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Slug (Auto-generated)"}),(0,Ct.jsx)("input",{type:"text",value:h.slug,onChange:e=>p((0,a.A)((0,a.A)({},h),{},{slug:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50",placeholder:"Auto-generated from name"}),(0,Ct.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Used for URL-friendly brand identification"})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),(0,Ct.jsx)("input",{type:"text",value:h.country,onChange:e=>p((0,a.A)((0,a.A)({},h),{},{country:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., India, USA, etc."})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Logo URL"}),(0,Ct.jsx)("input",{type:"url",value:h.logo_url,onChange:e=>p((0,a.A)((0,a.A)({},h),{},{logo_url:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/logo.png"})]}),(0,Ct.jsxs)("div",{className:"md:col-span-2",children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Ct.jsx)("textarea",{rows:3,value:h.description,onChange:e=>p((0,a.A)((0,a.A)({},h),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Brief description about the brand..."})]})]})}),(0,Ct.jsx)("button",{type:"button",onClick:async()=>{if(h.name||h.existingBrandId){_(!0);try{if(h.existingBrandId){const e=g.find(e=>e.id==h.existingBrandId);c(t=>(0,a.A)((0,a.A)({},t),{},{brandData:{type:"existing",brandId:h.existingBrandId,brandDetails:e}}))}else{const e={type:"new",name:h.name,slug:h.slug,description:h.description,country:h.country,logo_url:h.logo_url};c(t=>(0,a.A)((0,a.A)({},t),{},{brandData:e}))}p({name:"",slug:"",description:"",country:"",logo_url:"",existingBrandId:""}),E("")}catch(e){E("Failed to add brand: ".concat(e.message))}finally{_(!1)}}else E("Please select an existing brand or enter a new brand name")},disabled:j,className:"mt-4 px-4 py-2 rounded-md font-medium ".concat(j?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:j?"Adding...":"Add Brand"})]}),(0,Ct.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,Ct.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Warehouse Information"}),(0,Ct.jsxs)("div",{className:"mb-4",children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Retailer *"}),(0,Ct.jsxs)("select",{value:x,onChange:e=>{w(e.target.value),f(e=>(0,a.A)((0,a.A)({},e),{},{existingWarehouseId:""}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Ct.jsx)("option",{value:"",children:"Select Retailer..."}),v.map(e=>(0,Ct.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName," (",e.email,")"]},e.id))]})]}),(0,Ct.jsxs)("div",{className:"mb-4",children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Existing Warehouse (Belonging to Retailer)"}),(0,Ct.jsxs)("select",{value:m.existingWarehouseId,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{existingWarehouseId:e.target.value})),disabled:!x||j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[(0,Ct.jsx)("option",{value:"",children:x?"Select Warehouse...":"Select a retailer first"}),S.map(e=>(0,Ct.jsxs)("option",{value:e.id,children:[e.name," (",e.contact_email,")"]},e.id))]}),0===S.length&&x&&!j&&(0,Ct.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"No warehouses found for this retailer."})]}),(0,Ct.jsx)("button",{type:"button",onClick:async()=>{if(m.existingWarehouseId)if(x){_(!0);try{const e=S.find(e=>e.id==m.existingWarehouseId),t=v.find(e=>e.id===x);console.log("Selected warehouse:",e),c(r=>(0,a.A)((0,a.A)({},r),{},{retailerId:x,warehouseData:{type:"existing",warehouseId:m.existingWarehouseId,warehouseDetails:e,retailerDetails:t}})),f({name:"",contact_email:"",contact_phone:"",address:"",website:"",existingWarehouseId:""}),E("")}catch(e){E("Failed to select warehouse: ".concat(e.message))}finally{_(!1)}}else E("Please select a retailer first");else E("Please select an existing warehouse")},disabled:j||!m.existingWarehouseId,className:"mt-4 px-4 py-2 rounded-md font-medium ".concat(j||!m.existingWarehouseId?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:j?"Adding...":"Add Warehouse"})]}),(0,Ct.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,Ct.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Current Associations"}),(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Associated Brand"}),l.brandData?(0,Ct.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:["existing"===l.brandData.type?(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("p",{className:"font-medium",children:null===(r=l.brandData.brandDetails)||void 0===r?void 0:r.name}),(0,Ct.jsx)("p",{className:"text-sm text-gray-600",children:null===(n=l.brandData.brandDetails)||void 0===n?void 0:n.country}),(0,Ct.jsxs)("p",{className:"text-sm text-blue-600",children:["Existing Brand (ID: ",l.brandData.brandId,")"]})]}):(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("p",{className:"font-medium",children:l.brandData.name}),(0,Ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Slug: ",l.brandData.slug]}),l.brandData.country&&(0,Ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Country: ",l.brandData.country]}),l.brandData.description&&(0,Ct.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:l.brandData.description}),(0,Ct.jsx)("p",{className:"text-sm text-green-600",children:"New Brand (will be created)"})]}),(0,Ct.jsx)("button",{type:"button",onClick:()=>{var e;c(e=>{var t;return(0,a.A)((0,a.A)({},e),{},{brandData:null,removeBrand:(null===(t=l.brandData)||void 0===t?void 0:t.brandId)||null})}),console.log("Brand marked for removal (will be applied on update)",null===(e=l.brandData)||void 0===e?void 0:e.brandId)},className:"text-xs text-red-600 hover:text-red-800 mt-2",children:"Remove Brand"})]}):(0,Ct.jsx)("p",{className:"text-gray-500 text-sm",children:"No brand associated"})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Associated Warehouse"}),l.warehouseData?(0,Ct.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,Ct.jsx)("p",{className:"font-medium",children:(null===(s=l.warehouseData.warehouseDetails)||void 0===s?void 0:s.name)||l.warehouseData.name}),(0,Ct.jsx)("p",{className:"text-sm text-gray-600",children:(null===(i=l.warehouseData.warehouseDetails)||void 0===i?void 0:i.contact_email)||l.warehouseData.contact_email}),(0,Ct.jsx)("p",{className:"text-sm text-gray-600",children:(null===(o=l.warehouseData.warehouseDetails)||void 0===o?void 0:o.contact_phone)||l.warehouseData.contact_phone}),(0,Ct.jsxs)("p",{className:"text-sm text-blue-600",children:["Existing Warehouse (ID: ",l.warehouseData.warehouseId||l.warehouseData.existingWarehouseId,")"]}),(0,Ct.jsx)("button",{type:"button",onClick:()=>{c(e=>{var t;return(0,a.A)((0,a.A)({},e),{},{warehouseData:null,retailerId:null,removeWarehouse:!(null===(t=l.warehouseData)||void 0===t||!t.warehouseId)})}),console.log("Warehouse marked for removal (will be applied on update)")},className:"text-xs text-red-600 hover:text-red-800 mt-2",children:"Remove Warehouse"})]}):(0,Ct.jsx)("p",{className:"text-gray-500 text-sm",children:"No warehouse associated"})]})]})]})]})};const xs=function(){const t=le(),[r,n]=(0,e.useState)({title:"",shortDescription:"",description:"",sku:"",productType:"bookset",basePrice:0,currency:"INR",city:"",isActive:!0,metadata:{},selectedSchools:[],selectedCategories:[],grade:"1st",mandatory:!1,productImages:[],brandData:null,warehouseData:null}),[s,i]=(0,e.useState)([{name:"",position:1,isRequired:!0,values:[{value:"",priceModifier:0}]},{name:"",position:2,isRequired:!0,values:[{value:"",priceModifier:0}]},{name:"",position:3,isRequired:!0,values:[{value:"",priceModifier:0}]}]),[o,l]=(0,e.useState)([]),[c,d]=(0,e.useState)(!1),[u,h]=(0,e.useState)([]),[p,m]=(0,e.useState)([]),[f,g]=(0,e.useState)([]),[y,v]=(0,e.useState)(!1),[b,x]=(0,e.useState)(""),[w,S]=(0,e.useState)(""),[k,j]=(0,e.useState)("basic"),[_,N]=(0,e.useState)({}),[E,C]=(0,e.useState)(!1);(0,e.useEffect)(()=>{P()},[]);const P=async()=>{try{const{data:e,error:t}=await hs.from("schools").select("id, name, board, city, state").eq("is_active",!0).order("name");if(t)throw t;h(e||[]);const{data:r,error:a}=await hs.from("categories").select("id, name, slug, description").eq("is_active",!0).order("name");if(a)throw a;m(r||[]);const{data:n,error:s}=await hs.from("brands").select("id, name, slug").order("name");if(s)throw s;if(g(n||[]),s)throw s;g(n||[])}catch(e){console.error("Error fetching reference data:",e),x("Failed to load reference data")}};return(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"mx-12 my-8",children:(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,Ct.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Ct.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Add New Product"}),(0,Ct.jsx)("button",{onClick:()=>t(-1),className:"text-blue-600 hover:underline",children:"\u2190 Back to Products"})]}),b&&(0,Ct.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:b}),w&&(0,Ct.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:w}),(0,Ct.jsx)("div",{className:"border-b border-gray-200 mb-8",children:(0,Ct.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"basic",label:"Basic Info"},{id:"options",label:"Product Options"},{id:"variants",label:"Variants"},{id:"associations",label:"Schools & Categories"},{id:"images",label:"Images & Media"},{id:"branding",label:"Brand & Warehouse"}].map(e=>(0,Ct.jsx)("button",{onClick:()=>j(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(k===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id))})}),(0,Ct.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),C(!0);if(!(()=>{const e={};return r.title.trim()||(e.title="Product title is required"),r.shortDescription.trim()||(e.shortDescription="Short description is required"),(!r.basePrice||r.basePrice<=0)&&(e.basePrice="Base price must be greater than 0"),r.city.trim()||(e.city="City is required"),r.title.length>100&&(e.title="Product title must be less than 100 characters"),r.shortDescription.length>500&&(e.shortDescription="Short description must be less than 500 characters"),N(e),0===Object.keys(e).length})()){x("Please fill in all required fields correctly");const e=Object.keys(_)[0];if(e){const t=document.querySelector('[name="'.concat(e,'"]'));t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.focus())}return}const{isAuthenticated:t,getToken:s}=Jt.default.getState();if(t()){v(!0),x("");try{const e=Dt.Ay.getState(),t={productData:{title:r.title,shortDescription:r.shortDescription,description:r.description,sku:r.sku,productType:r.productType,basePrice:parseFloat(r.basePrice),currency:r.currency,city:r.city,isActive:r.isActive,metadata:r.metadata},categories:r.selectedCategories.map(e=>({id:e})),images:(r.productImages||[]).map(e=>({url:e.url,file:e.file,variantId:e.variantId,altText:e.altText,sortOrder:e.sortOrder||0,isPrimary:e.isPrimary||!1,imageType:e.imageType||"product",metadata:e.metadata||{}})),brandData:r.brandData?(0,a.A)({type:r.brandData.type},"existing"===r.brandData.type?{brandId:r.brandData.brandId}:{name:r.brandData.name,slug:r.brandData.slug,description:r.brandData.description,country:r.brandData.country,logo_url:r.brandData.logo_url,metadata:{source:"admin_portal",createdBy:"admin"}}):null,warehouseData:r.warehouseData?(0,a.A)({type:r.warehouseData.type},"existing"===r.warehouseData.type?{warehouseId:r.warehouseData.warehouseId}:{name:r.warehouseData.name,contact_email:r.warehouseData.contact_email,contact_phone:r.warehouseData.contact_phone,address:r.warehouseData.address,website:r.warehouseData.website,is_verified:!1,metadata:{source:"admin_portal",createdBy:"admin"}}):null,retailerId:r.retailerId,variants:o.map(e=>({sku:e.sku,price:e.price?parseFloat(e.price):null,stock:e.stock?parseInt(e.stock):0,optionValueId:e.optionValueId,metadata:e.metadata||{}}))};console.log("Sending comprehensive product data:",t);const s=await fetch("".concat(e.baseUrl,"/products/comprehensive"),{method:"POST",headers:e.getAuthHeaders(),body:JSON.stringify(t)});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to create product")}const h=await s.json();if(console.log("Comprehensive product creation result:",h),h.data.errors&&h.data.errors.length>0){const e="Product created successfully, but with some warnings:\n".concat(h.data.errors.join("\n"));x(e),S('Product "'.concat(h.data.product.title,'" created successfully! (ID: ').concat(h.data.product.id,")"))}else{var c,d,u;S('Product "'.concat(h.data.product.title,'" created successfully with all related data! \n          - Product ID: ').concat(h.data.product.id,"\n          - Images uploaded: ").concat((null===(c=h.data.images)||void 0===c?void 0:c.length)||0,"\n          - Brands associated: ").concat((null===(d=h.data.brands)||void 0===d?void 0:d.length)||0,"\n          - Warehouse ").concat(h.data.warehouse?"associated":"not provided","\n          - Variants created: ").concat((null===(u=h.data.variants)||void 0===u?void 0:u.length)||0))}n({title:"",shortDescription:"",description:"",sku:"",productType:"bookset",basePrice:0,currency:"INR",isActive:!0,metadata:{},selectedSchools:[],selectedCategories:[],grade:"1st",mandatory:!1,productImages:[],brandData:null,warehouseData:null}),N({}),C(!1),l([]),i([{name:"",position:1,isRequired:!0,values:[{value:"",priceModifier:0}]},{name:"",position:2,isRequired:!0,values:[{value:"",priceModifier:0}]},{name:"",position:3,isRequired:!0,values:[{value:"",priceModifier:0}]}]),x("")}catch(h){console.error("Error creating comprehensive product:",h),x("Failed to create product: ".concat(h.message)),S("")}finally{v(!1)}}else x("You must be logged in to create products. Please log in and try again.")},className:"space-y-8",children:["basic"===k&&(0,Ct.jsx)(ms,{formData:r,setFormData:n,fieldErrors:_,showValidation:E,clearFieldError:e=>{_[e]&&N(t=>{const r=(0,a.A)({},t);return delete r[e],r})},getInputClassName:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=E&&_[e];return"".concat(t," ").concat(r?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500")}}),"options"===k&&(0,Ct.jsx)(fs,{productOptions:s,updateOption:(e,t,r)=>{const n=[...s];n[e]=(0,a.A)((0,a.A)({},n[e]),{},{[t]:r}),i(n)},updateOptionValue:(e,t,r,n)=>{const o=[...s];o[e].values[t]=(0,a.A)((0,a.A)({},o[e].values[t]),{},{[r]:"priceModifier"===r?parseFloat(n)||0:n}),i(o)},addOptionValue:e=>{const t=[...s];t[e].values.push({value:"",priceModifier:0}),i(t)},removeOptionValue:(e,t)=>{const r=[...s];r[e].values.length>1&&(r[e].values.splice(t,1),i(r))}}),"variants"===k&&(0,Ct.jsx)(gs,{variants:o,productOptions:s,formData:r,showVariantGenerator:c,setShowVariantGenerator:d,generateVariants:()=>{var e,t,a;const n=s.filter(e=>e.name&&e.values.some(e=>e.value));if(0===n.length)return void l([{sku:r.sku||"".concat(r.productType.toUpperCase(),"-001"),price:r.basePrice,compareAtPrice:r.basePrice+100,stock:50,weight:.5,optionValue1:null,optionValue2:null,optionValue3:null,optionCombination:"Default"}]);const i=[],o=(null===(e=n[0])||void 0===e?void 0:e.values.filter(e=>e.value))||[{value:"",priceModifier:0}],c=(null===(t=n[1])||void 0===t?void 0:t.values.filter(e=>e.value))||[{value:"",priceModifier:0}],u=(null===(a=n[2])||void 0===a?void 0:a.values.filter(e=>e.value))||[{value:"",priceModifier:0}];o.forEach((e,t)=>{c.forEach((t,a)=>{u.forEach((a,n)=>{const s=(e.priceModifier||0)+(t.priceModifier||0)+(a.priceModifier||0),o=r.basePrice+s,l=[r.sku||r.productType.toUpperCase(),e.value?e.value.substring(0,3).toUpperCase():"",t.value?t.value.substring(0,3).toUpperCase():"",a.value?a.value.substring(0,3).toUpperCase():""].filter(Boolean);i.push({sku:l.join("-"),price:o,compareAtPrice:o+100,stock:50,weight:.5,optionValue1:e.value?{value:e.value,priceModifier:e.priceModifier}:null,optionValue2:t.value?{value:t.value,priceModifier:t.priceModifier}:null,optionValue3:a.value?{value:a.value,priceModifier:a.priceModifier}:null,optionCombination:[e.value,t.value,a.value].filter(Boolean).join(" \u2022 ")||"Default"})})})}),l(i),d(!1)},updateVariant:(e,t,r)=>{const n=[...o];n[e]=(0,a.A)((0,a.A)({},n[e]),{},{[t]:["price","compareAtPrice","stock","weight"].includes(t)?parseFloat(r)||0:r}),l(n)}}),"associations"===k&&(0,Ct.jsx)(ys,{formData:r,setFormData:n,schools:u,categories:p}),"images"===k&&(0,Ct.jsx)(vs,{formData:r,setFormData:n,variants:o,productOptions:s}),"branding"===k&&(0,Ct.jsx)(bs,{formData:r,setFormData:n,brands:f}),(0,Ct.jsx)("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:(0,Ct.jsx)("button",{type:"submit",disabled:y||!r.title||!r.basePrice,className:"px-8 py-3 rounded-md font-medium ".concat(!y&&r.title&&r.basePrice?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-400 text-gray-700 cursor-not-allowed"),children:y?"Creating Product...":"Create Product"})})]})]})})]})};const ws=function(){const t=le(),{id:r}=ce(),[n,s]=(0,e.useState)({title:"",shortDescription:"",description:"",sku:"",productType:"bookset",basePrice:0,currency:"INR",isActive:!0,metadata:{},selectedSchools:[],selectedCategories:[],grade:"1st",mandatory:!1,productImages:[],brandData:null,warehouseData:null}),[i,o]=(0,e.useState)([{name:"",position:1,isRequired:!0,values:[{value:"",priceModifier:0}]},{name:"",position:2,isRequired:!0,values:[{value:"",priceModifier:0}]},{name:"",position:3,isRequired:!0,values:[{value:"",priceModifier:0}]}]),[l,c]=(0,e.useState)([]),[d,u]=(0,e.useState)(!1),[h,p]=(0,e.useState)([]),[m,f]=(0,e.useState)([]),[g,y]=(0,e.useState)([]),[v,b]=(0,e.useState)(!1),[x,w]=(0,e.useState)(!0),[S,k]=(0,e.useState)(""),[j,_]=(0,e.useState)(""),[N,E]=(0,e.useState)("basic"),[C,P]=(0,e.useState)({}),[A,T]=(0,e.useState)(!1);(0,e.useEffect)(()=>{I(),r?D():(k("Product ID is required"),w(!1))},[r]);const I=async()=>{try{const{data:e,error:t}=await hs.from("schools").select("id, name, board, city, state").eq("is_active",!0).order("name");if(t)throw t;p(e||[]);const{data:r,error:a}=await hs.from("categories").select("id, name, slug, description").eq("is_active",!0).order("name");if(a)throw a;f(r||[]);const{data:n,error:s}=await hs.from("brands").select("id, name, slug").order("name");if(s)throw s;y(n||[])}catch(e){console.error("Error fetching reference data:",e),k("Failed to load reference data")}},D=async()=>{try{var e,t,n,i;w(!0);const d=Dt.Ay.getState(),u=await fetch("".concat(d.baseUrl,"/products/").concat(r,"/complete"),{headers:d.getAuthHeaders()});if(!u.ok){const e=await u.json();throw new Error(e.message||"Failed to fetch product")}const h=await u.json(),p=h.data.product;console.log("Fetched product data:",h.data),s({title:p.title||"",shortDescription:p.short_description||p.shortDescription||"",description:p.description||"",sku:p.sku||"",productType:p.product_type||p.productType||"bookset",basePrice:p.base_price||p.basePrice||0,currency:p.currency||"INR",city:p.city||"",retailerId:p.retailer_id||p.retailerId,isActive:void 0!==p.is_active?p.is_active:void 0===p.isActive||p.isActive,metadata:p.metadata||{},selectedSchools:p.schoolIds||p.school_ids||[],selectedCategories:p.categoryIds||p.category_ids||[],grade:(null===(e=p.metadata)||void 0===e?void 0:e.grade)||"1st",mandatory:(null===(t=p.metadata)||void 0===t?void 0:t.mandatory)||!1,productImages:(null===(n=p.images)||void 0===n?void 0:n.map(e=>({id:e.id,url:e.url,altText:e.alt_text||e.altText,sortOrder:e.sort_order||e.sortOrder||0,isPrimary:e.is_primary||e.isPrimary||!1,imageType:e.image_type||e.imageType||"product",variantId:e.variant_id||e.variantId,metadata:e.metadata||{}})))||[],brandData:null!==(o=p.brandDetails)&&void 0!==o&&o[0]?{type:"existing",brandId:p.brandDetails[0].id,brandDetails:{name:p.brandDetails[0].name,country:p.brandDetails[0].country,logo_url:p.brandDetails[0].logo_url||p.brandDetails[0].logoUrl,slug:p.brandDetails[0].slug,description:p.brandDetails[0].description}}:null!==(l=p.brands)&&void 0!==l&&l[0]?{type:"existing",brandId:p.brands[0].id,brandDetails:{name:p.brands[0].name,country:p.brands[0].country,logo_url:p.brands[0].logo_url||p.brands[0].logoUrl,slug:p.brands[0].slug,description:p.brands[0].description}}:null,warehouseData:p.warehouseDetails?(0,a.A)({type:"existing",warehouseId:p.warehouseDetails.id,warehouseDetails:{name:p.warehouseDetails.name,contact_email:p.warehouseDetails.contact_email,contact_phone:p.warehouseDetails.contact_phone,website:p.warehouseDetails.website,address:p.warehouseDetails.address}},p.warehouseDetails):p.warehouseId||p.warehouse_id?{type:"existing",warehouseId:p.warehouseId||p.warehouse_id,name:p.warehouseName||p.warehouse_name||"Unknown Warehouse",contact_email:p.warehouseEmail||p.warehouse_email||""}:null}),(null===(i=p.variants)||void 0===i?void 0:i.length)>0&&(c(p.variants.map(e=>{var t,r,a;return{id:e.id,sku:e.sku,price:e.price||0,compareAtPrice:e.compare_at_price||e.compareAtPrice||0,stock:e.stock||0,weight:e.weight||0,optionValue1:e.option_value_1_ref?{value:e.option_value_1_ref.value,priceModifier:e.option_value_1_ref.price_modifier||0}:null,optionValue2:e.option_value_2_ref?{value:e.option_value_2_ref.value,priceModifier:e.option_value_2_ref.price_modifier||0}:null,optionValue3:e.option_value_3_ref?{value:e.option_value_3_ref.value,priceModifier:e.option_value_3_ref.price_modifier||0}:null,optionCombination:[null===(t=e.option_value_1_ref)||void 0===t?void 0:t.value,null===(r=e.option_value_2_ref)||void 0===r?void 0:r.value,null===(a=e.option_value_3_ref)||void 0===a?void 0:a.value].filter(Boolean).join(" \u2022 ")||"Default",metadata:e.metadata||{}}})),M(p.variants)),k("")}catch(d){console.error("Error fetching product:",d),k("Failed to load product: ".concat(d.message))}finally{w(!1)}var o,l},M=e=>{const t=new Map;e.forEach(e=>{if(e.option_value_1_ref){const r="".concat(e.option_value_1_ref.attribute_name,"_").concat(e.option_value_1_ref.attribute_position);t.has(r)||t.set(r,{name:e.option_value_1_ref.attribute_name,position:e.option_value_1_ref.attribute_position||1,isRequired:!0,values:new Set}),t.get(r).values.add({value:e.option_value_1_ref.value,priceModifier:e.option_value_1_ref.price_modifier||0})}if(e.option_value_2_ref){const r="".concat(e.option_value_2_ref.attribute_name,"_").concat(e.option_value_2_ref.attribute_position);t.has(r)||t.set(r,{name:e.option_value_2_ref.attribute_name,position:e.option_value_2_ref.attribute_position||2,isRequired:!0,values:new Set}),t.get(r).values.add({value:e.option_value_2_ref.value,priceModifier:e.option_value_2_ref.price_modifier||0})}if(e.option_value_3_ref){const r="".concat(e.option_value_3_ref.attribute_name,"_").concat(e.option_value_3_ref.attribute_position);t.has(r)||t.set(r,{name:e.option_value_3_ref.attribute_name,position:e.option_value_3_ref.attribute_position||3,isRequired:!0,values:new Set}),t.get(r).values.add({value:e.option_value_3_ref.value,priceModifier:e.option_value_3_ref.price_modifier||0})}});const r=Array.from(t.values()).sort((e,t)=>e.position-t.position).map(e=>(0,a.A)((0,a.A)({},e),{},{values:Array.from(e.values)})),n=[r[0]||{name:"",position:1,isRequired:!0,values:[{value:"",priceModifier:0}]},r[1]||{name:"",position:2,isRequired:!0,values:[{value:"",priceModifier:0}]},r[2]||{name:"",position:3,isRequired:!0,values:[{value:"",priceModifier:0}]}];o(n)};return x?(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"mx-12 my-8",children:(0,Ct.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:(0,Ct.jsxs)("div",{className:"text-center py-16",children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-600",children:"Loading product details..."})]})})})]}):(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"mx-12 my-8",children:(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,Ct.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Ct.jsxs)("h1",{className:"text-3xl font-bold text-gray-800",children:["Edit Product - ",n.title]}),(0,Ct.jsx)("button",{onClick:()=>t("/admin/products"),className:"text-blue-600 hover:underline",children:"\u2190 Back to Products"})]}),S&&(0,Ct.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:S}),j&&(0,Ct.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:j}),(0,Ct.jsx)("div",{className:"border-b border-gray-200 mb-8",children:(0,Ct.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"basic",label:"Basic Info"},{id:"options",label:"Product Options"},{id:"variants",label:"Variants"},{id:"associations",label:"Schools & Categories"},{id:"images",label:"Images & Media"},{id:"branding",label:"Brand & Retailer"}].map(e=>(0,Ct.jsx)("button",{onClick:()=>E(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(N===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id))})}),(0,Ct.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),T(!0);if(!(()=>{const e={};return n.title.trim()||(e.title="Product title is required"),n.shortDescription.trim()||(e.shortDescription="Short description is required"),(!n.basePrice||n.basePrice<=0)&&(e.basePrice="Base price must be greater than 0"),n.title.length>100&&(e.title="Product title must be less than 100 characters"),n.shortDescription.length>500&&(e.shortDescription="Short description must be less than 500 characters"),P(e),0===Object.keys(e).length})()){k("Please fill in all required fields correctly");const e=Object.keys(C)[0];if(e){const t=document.querySelector('[name="'.concat(e,'"]'));t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.focus())}return}const{isAuthenticated:t}=Jt.default.getState();if(t()){b(!0),k("");try{const e=Dt.Ay.getState();if(n.removeBrand)try{(await fetch("".concat(e.baseUrl,"/products/").concat(r,"/brands/").concat(n.removeBrand),{method:"DELETE",headers:e.getAuthHeaders()})).ok?console.log("Brand successfully removed from product"):console.warn("Failed to remove brand, but continuing with update")}catch(c){console.warn("Error removing brand:",c)}if(n.removeWarehouse)try{(await fetch("".concat(e.baseUrl,"/products/").concat(r,"/warehouse"),{method:"DELETE",headers:e.getAuthHeaders()})).ok||console.warn("Failed to remove warehouse, but continuing with update")}catch(c){console.warn("Error removing warehouse:",c)}const t=n.productImages||[],d=t.filter(e=>!0===e.isNew),u=t.filter(e=>e.id&&!e.isNew);console.log("Processing images:",{total:t.length,new:d.length,existing:u.length,newImageDetails:d.map(e=>({tempId:e.tempId,url:e.url,isNew:e.isNew}))});const h={productData:{title:n.title,shortDescription:n.shortDescription,description:n.description,sku:n.sku,productType:n.productType,basePrice:parseFloat(n.basePrice),currency:n.currency,city:n.city,isActive:n.isActive,metadata:n.metadata},retailerId:n.retailerId,categories:n.selectedCategories.map(e=>({id:e})),images:d.map(e=>({url:e.url,file:e.file,variantId:e.variantId,altText:e.altText,sortOrder:e.sortOrder||0,isPrimary:e.isPrimary||!1,imageType:e.imageType||"product",metadata:e.metadata||{}})),brandData:n.brandData?(0,a.A)({type:n.brandData.type,removeExisting:!1},"existing"===n.brandData.type?{brandId:n.brandData.brandId}:{name:n.brandData.name,slug:n.brandData.slug||n.brandData.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),description:n.brandData.description,country:n.brandData.country,logoUrl:n.brandData.logoUrl,metadata:{source:"admin_portal",updatedBy:"admin"}}):null,warehouseData:n.warehouseData?(0,a.A)({type:n.warehouseData.type},"existing"===n.warehouseData.type?{warehouseId:n.warehouseData.warehouseId}:{name:n.warehouseData.name,contact_email:n.warehouseData.contact_email,contact_phone:n.warehouseData.contact_phone,address:n.warehouseData.address,website:n.warehouseData.website,is_verified:!1,metadata:{source:"admin_portal",updatedBy:"admin"}}):null,variants:l.map(e=>({id:e.id,sku:e.sku,price:e.price?parseFloat(e.price):null,stock:e.stock?parseInt(e.stock):0,weight:e.weight?parseFloat(e.weight):0,compareAtPrice:e.compareAtPrice?parseFloat(e.compareAtPrice):null,optionValueId:e.optionValueId,metadata:e.metadata||{}})),replaceVariants:!1,replaceImages:!1};console.log("Sending comprehensive product update data:",h);const p=await e.put("".concat(e.baseUrl,"/products/").concat(r,"/comprehensive"),h);if(console.log("Comprehensive product update result:",p),p.data.errors&&p.data.errors.length>0){const e="Product updated successfully, but with some warnings:\n".concat(p.data.errors.join("\n"));k(e),_('Product "'.concat(p.data.product.title,'" updated successfully! (ID: ').concat(p.data.product.id,")"))}else{var s,i,o;_('Product "'.concat(p.data.product.title,'" updated successfully with all related data! \n          - Product ID: ').concat(p.data.product.id,"\n          - Images processed: ").concat((null===(s=p.data.images)||void 0===s?void 0:s.length)||0,"\n          - Brands associated: ").concat((null===(i=p.data.brands)||void 0===i?void 0:i.length)||0,"\n          - Warehouse ").concat(p.data.warehouse?"associated":"not changed","\n          - Variants processed: ").concat((null===(o=p.data.variants)||void 0===o?void 0:o.length)||0))}k(""),setTimeout(()=>{D()},1e3)}catch(c){console.error("Error updating comprehensive product:",c),k("Failed to update product: ".concat(c.message)),_("")}finally{b(!1)}}else k("You must be logged in to update products. Please log in and try again.")},className:"space-y-8",children:["basic"===N&&(0,Ct.jsx)(ms,{formData:n,setFormData:s,fieldErrors:C,showValidation:A,clearFieldError:e=>{C[e]&&P(t=>{const r=(0,a.A)({},t);return delete r[e],r})},getInputClassName:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=A&&C[e];return"".concat(t," ").concat(r?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500")}}),"options"===N&&(0,Ct.jsx)(fs,{productOptions:i,updateOption:(e,t,r)=>{const n=[...i];n[e]=(0,a.A)((0,a.A)({},n[e]),{},{[t]:r}),o(n)},updateOptionValue:(e,t,r,n)=>{const s=[...i];s[e].values[t]=(0,a.A)((0,a.A)({},s[e].values[t]),{},{[r]:"priceModifier"===r?parseFloat(n)||0:n}),o(s)},addOptionValue:e=>{const t=[...i];t[e].values.push({value:"",priceModifier:0}),o(t)},removeOptionValue:(e,t)=>{const r=[...i];r[e].values.length>1&&(r[e].values.splice(t,1),o(r))},productId:r,onOptionsUpdated:e=>{console.log("Options updated:",e)}}),"variants"===N&&(0,Ct.jsx)(gs,{variants:l,productOptions:i,formData:n,showVariantGenerator:d,setShowVariantGenerator:u,generateVariants:()=>{var e,t,r;const a=i.filter(e=>e.name&&e.values.some(e=>e.value));if(0===a.length)return void c([{sku:n.sku||"".concat(n.productType.toUpperCase(),"-001"),price:n.basePrice,compareAtPrice:n.basePrice+100,stock:50,weight:.5,optionValue1:null,optionValue2:null,optionValue3:null,optionCombination:"Default"}]);const s=[],o=(null===(e=a[0])||void 0===e?void 0:e.values.filter(e=>e.value))||[{value:"",priceModifier:0}],l=(null===(t=a[1])||void 0===t?void 0:t.values.filter(e=>e.value))||[{value:"",priceModifier:0}],d=(null===(r=a[2])||void 0===r?void 0:r.values.filter(e=>e.value))||[{value:"",priceModifier:0}];o.forEach(e=>{l.forEach(t=>{d.forEach(r=>{const a=(e.priceModifier||0)+(t.priceModifier||0)+(r.priceModifier||0),i=n.basePrice+a,o=[n.sku||n.productType.toUpperCase(),e.value?e.value.substring(0,3).toUpperCase():"",t.value?t.value.substring(0,3).toUpperCase():"",r.value?r.value.substring(0,3).toUpperCase():""].filter(Boolean);s.push({sku:o.join("-"),price:i,compareAtPrice:i+100,stock:50,weight:.5,optionValue1:e.value?{value:e.value,priceModifier:e.priceModifier}:null,optionValue2:t.value?{value:t.value,priceModifier:t.priceModifier}:null,optionValue3:r.value?{value:r.value,priceModifier:r.priceModifier}:null,optionCombination:[e.value,t.value,r.value].filter(Boolean).join(" \u2022 ")||"Default"})})})}),c(s),u(!1)},updateVariant:(e,t,r)=>{const n=[...l];n[e]=(0,a.A)((0,a.A)({},n[e]),{},{[t]:["price","compareAtPrice","stock","weight"].includes(t)?parseFloat(r)||0:r}),c(n)}}),"associations"===N&&(0,Ct.jsx)(ys,{formData:n,setFormData:s,schools:h,categories:m}),"images"===N&&(0,Ct.jsx)(vs,{formData:n,setFormData:s,variants:l,productOptions:i}),"branding"===N&&(0,Ct.jsx)(bs,{formData:n,setFormData:s,brands:g,productId:r}),(0,Ct.jsx)("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:(0,Ct.jsx)("button",{type:"submit",disabled:v||!n.title||n.basePrice<=0,className:"px-8 py-3 rounded-md font-medium ".concat(v||!n.title||n.basePrice<=0?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:v?"Updating Product...":"Update Product"})})]})]})})]})};const Ss=function(){const t=le(),[r,n]=(0,e.useState)([]),[s,i]=(0,e.useState)(!0),[o,l]=(0,e.useState)(""),[c,d]=(0,e.useState)(""),[u,h]=(0,e.useState)(""),[p,m]=(0,e.useState)(1),[f,g]=(0,e.useState)(1),[y,v]=(0,e.useState)(0),{isAuthenticated:b}=(0,Jt.default)();(0,e.useEffect)(()=>{b()?x():t("/")},[p,u,b,t]);const x=async()=>{try{var e,t;i(!0);const r=Dt.Ay.getState(),s=(0,a.A)((0,a.A)({page:p,limit:20},c&&{search:c}),u&&{productType:u}),o=new URLSearchParams(s).toString(),d=await fetch("".concat(r.products.search,"?").concat(o),{headers:r.getAuthHeaders()});if(!d.ok){const e=await d.json();throw new Error(e.message||"Failed to fetch products")}const h=await d.json();n(h.data.products||[]),g((null===(e=h.data.pagination)||void 0===e?void 0:e.totalPages)||1),v((null===(t=h.data.pagination)||void 0===t?void 0:t.total)||0),l("")}catch(r){console.error("Error fetching products:",r),l("Failed to load products: ".concat(r.message))}finally{i(!1)}},w=()=>{m(1),x()};return s&&0===r.length?(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"mx-12 my-8",children:(0,Ct.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:(0,Ct.jsxs)("div",{className:"text-center py-16",children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-600",children:"Loading products..."})]})})})]}):(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"mx-12 my-8",children:(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,Ct.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Products Management"}),(0,Ct.jsxs)("p",{className:"text-gray-600 mt-2",children:["Manage your product catalog (",y," products)"]})]}),(0,Ct.jsx)("div",{className:"flex gap-4",children:(0,Ct.jsx)("button",{onClick:()=>t("/admin/products"),className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Add New Product"})})]}),o&&(0,Ct.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:o}),(0,Ct.jsx)("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:(0,Ct.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Ct.jsx)("div",{className:"flex-1",children:(0,Ct.jsx)("input",{type:"text",placeholder:"Search products by title, SKU, or description...",value:c,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:e=>"Enter"===e.key&&w()})}),(0,Ct.jsx)("div",{children:(0,Ct.jsxs)("select",{value:u,onChange:e=>{h(e.target.value),m(1)},className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Ct.jsx)("option",{value:"",children:"All Types"}),(0,Ct.jsx)("option",{value:"bookset",children:"Book Set"}),(0,Ct.jsx)("option",{value:"uniform",children:"Uniform"}),(0,Ct.jsx)("option",{value:"stationary",children:"Stationary"}),(0,Ct.jsx)("option",{value:"general",children:"General"})]})}),(0,Ct.jsx)("button",{onClick:w,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Search"})]})}),(0,Ct.jsx)("div",{className:"overflow-x-auto",children:(0,Ct.jsxs)("table",{className:"min-w-full bg-white",children:[(0,Ct.jsx)("thead",{className:"bg-gray-50",children:(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,Ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,Ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Variants"}),(0,Ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,Ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ct.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>{var r,a,n;return(0,Ct.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ct.jsxs)("div",{className:"flex items-center",children:[(0,Ct.jsx)("div",{className:"flex-shrink-0 h-12 w-12",children:e.primaryImage?(0,Ct.jsx)("img",{className:"h-12 w-12 rounded-lg object-cover",src:e.primaryImage.url,alt:e.title}):(0,Ct.jsx)("div",{className:"h-12 w-12 rounded-lg bg-gray-200 flex items-center justify-center",children:(0,Ct.jsx)("span",{className:"text-gray-400 text-xs",children:"No Image"})})}),(0,Ct.jsxs)("div",{className:"ml-4",children:[(0,Ct.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Ct.jsxs)("div",{className:"text-sm text-gray-500",children:["SKU: ",e.sku]})]})]})}),(0,Ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ct.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full capitalize",children:e.productType})}),(0,Ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(n=e.basePrice,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(n))}),(0,Ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(a=e.isActive,(0,Ct.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(a?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:a?"Active":"Inactive"}))}),(0,Ct.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(null===(r=e.variants)||void 0===r?void 0:r.length)||0," variants"]}),(0,Ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.created_at).toLocaleDateString()}),(0,Ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Ct.jsxs)("div",{className:"flex space-x-2",children:[(0,Ct.jsx)("button",{onClick:()=>t("/product/".concat(e.id)),className:"text-blue-600 hover:text-blue-900",children:"View"}),(0,Ct.jsx)("button",{onClick:()=>{return r=e.id,void t("/admin/products/edit/".concat(r));var r},className:"text-green-600 hover:text-green-900",children:"Edit"}),(0,Ct.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this product?"))try{const t=Dt.Ay.getState(),r=await fetch(t.products.admin.delete(e),{method:"DELETE",headers:t.getAuthHeaders()});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to delete product")}x()}catch(t){console.error("Error deleting product:",t),l("Failed to delete product: ".concat(t.message))}})(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},e.id)})})]})}),0===r.length&&!s&&(0,Ct.jsxs)("div",{className:"text-center py-16",children:[(0,Ct.jsx)("div",{className:"text-gray-500 text-lg mb-4",children:"No products found"}),(0,Ct.jsx)("button",{onClick:()=>t("/admin/products"),className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Add Your First Product"})]}),f>1&&(0,Ct.jsxs)("div",{className:"flex items-center justify-between mt-8",children:[(0,Ct.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing page ",p," of ",f]}),(0,Ct.jsxs)("div",{className:"flex space-x-2",children:[(0,Ct.jsx)("button",{onClick:()=>m(p-1),disabled:p<=1,className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),[...Array(Math.min(5,f))].map((e,t)=>{const r=t+1;return(0,Ct.jsx)("button",{onClick:()=>m(r),className:"px-3 py-1 text-sm border rounded ".concat(p===r?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"),children:r},r)}),(0,Ct.jsx)("button",{onClick:()=>m(p+1),disabled:p>=f,className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})})]})};const ks=function(){const t=le(),r=se(),[a,n]=(0,e.useState)([]),[s,i]=(0,e.useState)(!0),[o,l]=(0,e.useState)(""),[c,d]=(0,e.useState)(1),[u,h]=(0,e.useState)(1),[p,m]=(0,e.useState)(0),[f,g]=(0,e.useState)(""),[y,v]=(0,e.useState)(""),{isAuthenticated:b}=(0,Jt.default)();(0,e.useEffect)(()=>{if(!b())return void t("/");const e=r.state||{},a=e.categorySlug||new URLSearchParams(r.search).get("category");if(!a)return l("No category specified"),void i(!1);g(a),v(e.source||"Products"),x(a)},[b,t,r]);const x=async e=>{try{var t,r,a,s,o;i(!0);const d=Dt.Ay.getState(),u=new URLSearchParams({page:c,limit:20}).toString(),p=await fetch("".concat(d.products.byCategory(e),"?").concat(u),{headers:d.getAuthHeaders()});if(!p.ok){const e=await p.json();throw new Error(e.message||"Failed to fetch category products")}const f=await p.json();n((null===(t=f.data)||void 0===t?void 0:t.products)||[]),h((null===(r=f.data)||void 0===r||null===(a=r.pagination)||void 0===a?void 0:a.totalPages)||1),m((null===(s=f.data)||void 0===s||null===(o=s.pagination)||void 0===o?void 0:o.total)||0),l("")}catch(d){console.error("Error fetching category products:",d),l("Failed to load products: ".concat(d.message))}finally{i(!1)}};return s&&0===a.length?(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"mx-12 my-8",children:(0,Ct.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:(0,Ct.jsxs)("div",{className:"text-center py-16",children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-600",children:"Loading products..."})]})})})]}):(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"mx-12 my-8",children:(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,Ct.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("button",{onClick:()=>t(-1),className:"text-blue-600 hover:text-blue-800 mb-2 flex items-center gap-2",children:"\u2190 Back"}),(0,Ct.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:(w=f,{stationary:"Stationery",bookset:"Book Set",uniform:"Uniform",general:"General"}[w]||w)}),(0,Ct.jsxs)("p",{className:"text-gray-600 mt-2",children:["From: ",y," (",p," products)"]})]})}),o&&(0,Ct.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:o}),a.length>0?(0,Ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:a.map(e=>{return(0,Ct.jsxs)("div",{onClick:()=>{return r=e.id,void t("/products/".concat(r));var r},className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow hover:cursor-pointer overflow-hidden",children:[(0,Ct.jsx)("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:e.primaryImage?(0,Ct.jsx)("img",{src:e.primaryImage.url,alt:e.title,className:"w-full h-full object-cover hover:scale-105 transition-transform"}):(0,Ct.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,Ct.jsx)("span",{className:"text-gray-400",children:"No image"})})}),(0,Ct.jsxs)("div",{className:"p-4",children:[(0,Ct.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2 line-clamp-2",children:e.title}),(0,Ct.jsx)("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:e.description||"No description"}),(0,Ct.jsx)("div",{className:"mb-3",children:(0,Ct.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ct.jsx)("span",{className:"text-xl font-bold text-gray-900",children:(r=e.basePrice,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(r))}),e.discount&&(0,Ct.jsxs)("span",{className:"text-sm bg-red-100 text-red-600 px-2 py-1 rounded",children:[e.discount,"% off"]})]})}),(0,Ct.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Ct.jsx)("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded",children:e.productType||"Product"}),!e.is_active&&(0,Ct.jsx)("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded",children:"Inactive"})]}),(0,Ct.jsx)("div",{className:"text-sm text-gray-600",children:e.variants&&e.variants.length>0?(0,Ct.jsxs)("p",{children:[e.variants.reduce((e,t)=>e+(t.stock||0),0)," in stock"]}):(0,Ct.jsxs)("p",{children:[e.stock||0," in stock"]})})]})]},e.id);var r})}):(0,Ct.jsxs)("div",{className:"text-center py-12",children:[(0,Ct.jsx)("p",{className:"text-gray-500 text-lg",children:"No products found in this category."}),(0,Ct.jsx)("button",{onClick:()=>t("/"),className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Go back to home"})]}),u>1&&(0,Ct.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-8",children:[(0,Ct.jsx)("button",{onClick:()=>d(Math.max(1,c-1)),disabled:1===c,className:"px-4 py-2 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),Array.from({length:u},(e,t)=>t+1).map(e=>(0,Ct.jsx)("button",{onClick:()=>d(e),className:"px-3 py-2 rounded-md ".concat(c===e?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"),children:e},e)),(0,Ct.jsx)("button",{onClick:()=>d(Math.min(u,c+1)),disabled:c===u,className:"px-4 py-2 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})})]});var w},js=()=>{const[t,r]=(0,e.useState)(()=>localStorage.getItem("selectedCity")),a=le();return(0,Ct.jsxs)("div",{id:"my-city-section",className:"bg-white rounded-lg shadow-sm p-6 sticky top-20",children:[(0,Ct.jsx)("h2",{className:"text-2xl font-bold text-center text-blue-500 mb-2",children:"Select Your City To Get Your"}),(0,Ct.jsx)("p",{className:"text-2xl font-bold text-center text-blue-500 mb-6",children:"Essentials Delivered"}),(0,Ct.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[{id:"kanpur",name:"Kanpur",image:"/city/kanpur.jpg"},{id:"gurugram",name:"Gurugram",image:"/city/gurugram.jpg"}].map(e=>(0,Ct.jsxs)("div",{onClick:()=>r(e.id),className:"relative rounded-xl overflow-hidden cursor-pointer transform transition-all duration-300 ".concat(t===e.id?"ring-3 ring-blue-500 shadow-lg":"shadow-md hover:shadow-lg"),children:[(0,Ct.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-64 object-cover transition-all duration-300 ".concat(t===e.id?"":"grayscale")}),(0,Ct.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"}),(0,Ct.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:(0,Ct.jsx)("h3",{className:"text-lg font-bold text-white text-center",children:e.name})}),t===e.id&&(0,Ct.jsx)("div",{className:"absolute top-2 right-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center",children:(0,Ct.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ct.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},e.id))}),(0,Ct.jsx)("button",{onClick:()=>{t&&(localStorage.setItem("selectedCity",t),window.dispatchEvent(new Event("storage")),a("/"))},disabled:!t,className:"w-full px-6 py-3 rounded-full text-white font-bold text-lg transition-all duration-300 ".concat(t?"bg-blue-500 hover:bg-blue-600 cursor-pointer shadow-lg hover:shadow-xl":"bg-gray-400 cursor-not-allowed opacity-60"),children:"Select Your City"})]})},_s=_t("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ns=_t("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Es=_t("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cs=_t("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Ps=_t("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),As=_t("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Ts=t=>{var r;let{order:a,onCancel:n,onRequest:s,setSelectedOrder:i,getStatusColor:o,getStatusText:l,formatDate:c}=t;const[d,u]=(0,e.useState)(!1),h=a.items||[],p=h.length,m=h.slice(0,4),f=new Date(a.createdAt);return f.setDate(f.getDate()+5),(0,Ct.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow bg-white",children:[(0,Ct.jsx)("div",{className:"p-4 cursor-pointer",onClick:()=>i(a),children:(0,Ct.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 md:items-center justify-between",children:[(0,Ct.jsxs)("div",{className:"flex-1",children:[(0,Ct.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Ct.jsxs)("span",{className:"bg-gray-100 text-gray-600 text-xs font-medium px-2.5 py-0.5 rounded border border-gray-200",children:["Order #",a.orderNumber||a.id.slice(0,8)]}),(0,Ct.jsx)("span",{className:"text-sm text-gray-500",children:c(a.createdAt)})]}),(0,Ct.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Ct.jsx)("div",{className:"flex items-center",children:(0,Ct.jsxs)("div",{className:"flex -space-x-4",children:[m.map((e,t)=>{var r;return(0,Ct.jsx)("div",{className:"w-16 h-16 rounded-full border-2 border-white bg-gray-100 overflow-hidden relative z-10",style:{zIndex:10-t},children:null!==(r=e.productSnapshot)&&void 0!==r&&r.image_url?(0,Ct.jsx)("img",{src:e.productSnapshot.image_url,alt:e.title,className:"w-full h-full object-cover"}):(0,Ct.jsx)("div",{className:"w-full h-full flex items-center justify-center text-sm",children:"\ud83d\udce6"})},e.id)}),p>4&&(0,Ct.jsxs)("div",{className:"w-16 h-16 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center text-xs font-bold text-gray-600 relative z-0",style:{zIndex:0},children:["+",p-4]})]})}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsxs)("p",{className:"font-semibold text-gray-900",children:[p," ",1===p?"Item":"Items"]}),(0,Ct.jsxs)("p",{className:"text-sm text-gray-500",children:["Total: ",(0,Ct.jsxs)("span",{className:"font-bold text-gray-900",children:["\u20b9",null===(r=a.totalAmount)||void 0===r?void 0:r.toLocaleString("en-IN")]})]})]})]})]}),(0,Ct.jsxs)("div",{className:"flex flex-col items-end gap-3 min-w-[200px]",children:[(0,Ct.jsx)("div",{className:"flex items-center gap-2",children:"delivered"===a.status?(0,Ct.jsxs)("div",{className:"flex items-center gap-1.5 text-green-700 bg-green-50 px-3 py-1 rounded-full text-sm font-medium border border-green-100",children:[(0,Ct.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Delivered"]}):"cancelled"===a.status?(0,Ct.jsxs)("div",{className:"flex items-center gap-1.5 text-red-700 bg-red-50 px-3 py-1 rounded-full text-sm font-medium border border-red-100",children:[(0,Ct.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Cancelled"]}):(0,Ct.jsxs)("div",{className:"flex items-center gap-1.5 text-blue-700 bg-blue-50 px-3 py-1 rounded-full text-sm font-medium border border-blue-100",children:[(0,Ct.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),l(a.status).split("Your item has been ")[1]||a.status]})}),(0,Ct.jsxs)("div",{className:"flex gap-2",children:[("initialized"===a.status||"processed"===a.status)&&(0,Ct.jsx)("button",{onClick:n,className:"px-3 py-1.5 text-xs font-medium text-red-600 border border-red-200 rounded hover:bg-red-50 transition-colors",children:"Cancel Order"}),("shipped"===a.status||"out_for_delivery"===a.status||"delivered"===a.status)&&(0,Ct.jsx)("button",{onClick:s,className:"px-3 py-1.5 text-xs font-medium text-blue-600 border border-blue-200 rounded hover:bg-blue-50 transition-colors",children:"Raise Request"}),(0,Ct.jsxs)("button",{onClick:e=>{e.stopPropagation(),u(!d)},className:"px-3 py-1.5 text-xs font-medium text-gray-600 bg-gray-100 rounded hover:bg-gray-200 transition-colors flex items-center gap-1",children:[d?"Hide Details":"View Details",d?(0,Ct.jsx)(_s,{className:"w-3 h-3"}):(0,Ct.jsx)(Ns,{className:"w-3 h-3"})]})]})]})]})}),d&&(0,Ct.jsx)("div",{className:"border-t border-gray-100 bg-gray-50 p-4 space-y-3",children:h.map(e=>{var t,r;return(0,Ct.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-gray-100",children:[(0,Ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ct.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded flex-shrink-0 overflow-hidden",children:null!==(t=e.productSnapshot)&&void 0!==t&&t.image_url?(0,Ct.jsx)("img",{src:e.productSnapshot.image_url,alt:e.title,className:"w-full h-full object-cover"}):(0,Ct.jsx)("div",{className:"w-full h-full flex items-center justify-center text-xs",children:"\ud83d\udce6"})}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Ct.jsxs)("p",{className:"text-xs text-gray-500",children:["Qty: ",e.quantity]})]})]}),(0,Ct.jsxs)("p",{className:"text-sm font-bold text-gray-900",children:["\u20b9",null===(r=e.totalPrice)||void 0===r?void 0:r.toLocaleString("en-IN")]})]},e.id)})})]})},Is=()=>{const[t,r]=(0,e.useState)([]),[n,s]=(0,e.useState)(!0),[i,o]=(0,e.useState)(null),[l,c]=(0,e.useState)("all"),[d,u]=(0,e.useState)(null),[h,p]=(0,e.useState)("none"),[m,f]=(0,e.useState)(null),[g,y]=(0,e.useState)({subject:"Delay in Delivery",message:""}),[v,b]=(0,e.useState)(!1),[x,w]=(0,e.useState)(null),[S,k]=(0,e.useState)(0);(0,e.useEffect)(()=>{(async()=>{try{s(!0),o(null);const e=localStorage.getItem("access_token")||localStorage.getItem("custom_token");if(!e)throw new Error("Authentication token not found. Please log in again.");const t=await fetch(Dt.Ay.getState().orders.getAll,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch orders");const a=await t.json();r(a.data||[])}catch(e){console.error("Error fetching orders:",e),o(e.message)}finally{s(!1)}})()},[S]);const j=(e,t)=>{null===t||void 0===t||t.stopPropagation(),f(e),p("cancel"),w(null)},_=(e,t)=>{null===t||void 0===t||t.stopPropagation(),f(e),p("request"),y({subject:"Delay in Delivery",message:""}),w(null)},N=e=>{switch(e){case"delivered":return{bg:"bg-green-100",text:"text-green-800",icon:"\ud83d\udfe2"};case"shipped":case"out_for_delivery":return{bg:"bg-blue-100",text:"text-blue-800",icon:"\ud83d\udd35"};case"cancelled":return{bg:"bg-red-100",text:"text-red-800",icon:"\ud83d\udd34"};case"processed":return{bg:"bg-yellow-100",text:"text-yellow-800",icon:"\ud83d\udfe1"};default:return{bg:"bg-gray-100",text:"text-gray-800",icon:"\u26aa"}}},E=(e,t)=>({initialized:"Your item has been placed",processed:"Your item is being processed",shipped:"Your item has been shipped",out_for_delivery:"Your item is out for delivery",delivered:"Your item has been delivered",cancelled:"Your item has been cancelled",refunded:"Refunded Processed"}[e]||e),C=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),P=t.filter(e=>"all"===l||e.status===l);if(n)return(0,Ct.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-8",children:(0,Ct.jsx)("div",{className:"flex items-center justify-center",children:(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(i)return(0,Ct.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Ct.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,Ct.jsx)("p",{className:"font-bold",children:"Error:"}),(0,Ct.jsx)("p",{children:i})]})});const A=e=>{var t,r,a;let{order:n,onBack:s}=e;const i=n.items&&n.items.length>0?n.items[0]:null;let o=[];o="cancelled"===n.status?[{status:"initialized",label:"Order Confirmed",completed:!0,date:n.createdAt,color:"green"},{status:"cancelled",label:"Cancelled",completed:!0,date:n.updatedAt,color:"red"}]:[{status:"initialized",label:"Order Confirmed",completed:!0,date:n.createdAt,color:"green"},{status:"processed",label:"Order Shipped",completed:["processed","shipped","out_for_delivery","delivered"].includes(n.status),color:"green"},{status:"shipped",label:"Out for Delivery",completed:["out_for_delivery","delivered"].includes(n.status),color:"green"},{status:"delivered",label:"Delivery",completed:"delivered"===n.status,color:"green"}];return(0,Ct.jsxs)("div",{className:"space-y-6",children:[(0,Ct.jsx)("div",{className:"flex items-center gap-4 mb-6",children:(0,Ct.jsxs)("button",{onClick:s,className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[(0,Ct.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Orders"]})}),(0,Ct.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Ct.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Your Order has been ","delivered"===n.status?"Delivered":"cancelled"===n.status?"Cancelled":"Confirmed"]}),(0,Ct.jsxs)("p",{className:"text-gray-600 mb-4",children:["Order #",(0,Ct.jsx)("span",{className:"font-semibold",children:n.id})]}),i&&(0,Ct.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:(0,Ct.jsxs)("div",{className:"flex gap-4",children:[(0,Ct.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded flex-shrink-0 flex items-center justify-center",children:null!==(t=i.productSnapshot)&&void 0!==t&&t.image_url?(0,Ct.jsx)("img",{src:i.productSnapshot.image_url,alt:i.title,className:"w-full h-full object-cover rounded"}):(0,Ct.jsx)("span",{className:"text-2xl",children:"\ud83d\udce6"})}),(0,Ct.jsxs)("div",{className:"flex-1",children:[(0,Ct.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:i.title}),(null===(r=i.productSnapshot)||void 0===r?void 0:r.school_name)&&(0,Ct.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:i.productSnapshot.school_name}),(0,Ct.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:["\u20b9",null===(a=i.totalPrice)||void 0===a?void 0:a.toLocaleString("en-IN")]})]})]})}),(0,Ct.jsxs)("div",{className:"flex flex-wrap gap-4",children:[("initialized"===n.status||"processed"===n.status)&&(0,Ct.jsxs)("button",{onClick:e=>j(n,e),className:"px-6 py-2 border border-red-200 text-red-600 rounded-lg font-medium hover:bg-red-50 transition-colors flex items-center gap-2",children:[(0,Ct.jsx)(Es,{className:"w-4 h-4"}),"Cancel Order"]}),("shipped"===n.status||"out_for_delivery"===n.status||"delivered"===n.status)&&(0,Ct.jsxs)("button",{onClick:e=>_(n,e),className:"px-6 py-2 border border-blue-200 text-blue-600 rounded-lg font-medium hover:bg-blue-50 transition-colors flex items-center gap-2",children:[(0,Ct.jsx)(Cs,{className:"w-4 h-4"}),"Raise Request"]}),"delivered"===n.status&&(0,Ct.jsxs)("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,Ct.jsx)("span",{children:"\u2b50"}),"Add Review"]})]})]}),(0,Ct.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Order Status"}),(0,Ct.jsx)("div",{className:"space-y-0",children:o.map((e,t)=>{const r=e.completed?"red"===e.color?"bg-red-500":"bg-green-500":"bg-gray-300";return(0,Ct.jsxs)("div",{className:"flex gap-4 pb-6",children:[(0,Ct.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Ct.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(r," relative z-10")}),t<o.length-1&&(0,Ct.jsx)("div",{className:"w-0.5 h-12 ".concat(e.completed?r:"bg-gray-300"," mt-2")})]}),(0,Ct.jsxs)("div",{className:"pt-0",children:[(0,Ct.jsx)("h4",{className:"font-semibold ".concat(e.completed?"red"===e.color?"text-red-700":"text-gray-900":"text-gray-500"),children:e.label}),e.date&&(0,Ct.jsx)("p",{className:"text-sm ".concat(e.completed?"text-gray-600":"text-gray-400"),children:(a=e.date,a?new Date(a).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}):"")})]})]},e.status);var a})})]}),n.items&&n.items.length>0&&(0,Ct.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),(0,Ct.jsxs)("div",{className:"space-y-4",children:[n.items.map(e=>{var t;return(0,Ct.jsxs)("div",{className:"flex justify-between items-center pb-4 border-b border-gray-200 last:border-b-0",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),e.variantDetails&&(0,Ct.jsx)("p",{className:"text-sm text-gray-600",children:e.variantDetails})]}),(0,Ct.jsxs)("div",{className:"text-right",children:[(0,Ct.jsxs)("p",{className:"font-semibold text-gray-900",children:["\u20b9",null===(t=e.totalPrice)||void 0===t?void 0:t.toLocaleString("en-IN")]}),(0,Ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Qty: ",e.quantity||1]})]})]},e.id)}),(0,Ct.jsx)("div",{className:"pt-4 border-t-2 border-gray-200",children:(0,Ct.jsxs)("div",{className:"flex justify-between",children:[(0,Ct.jsx)("span",{className:"font-bold text-gray-900",children:"Total Amount"}),(0,Ct.jsxs)("span",{className:"font-bold text-gray-900",children:["\u20b9",(()=>{var e;return(null===(e=n.items)||void 0===e?void 0:e.reduce((e,t)=>e+(t.totalPrice||0),0))||0})().toLocaleString("en-IN")]})]})})]})]})]})};return(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[d?(0,Ct.jsx)(A,{order:d,onBack:()=>u(null)}):(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Orders"}),(0,Ct.jsxs)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[(0,Ct.jsx)("button",{onClick:()=>c("all"),className:"px-4 py-2 rounded-full whitespace-nowrap font-medium transition-colors text-sm ".concat("all"===l?"bg-blue-500 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"),children:"All"}),(0,Ct.jsx)("button",{onClick:()=>c("processed"),className:"px-4 py-2 rounded-full whitespace-nowrap font-medium transition-colors text-sm ".concat("processed"===l?"bg-blue-500 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"),children:"Processing"}),(0,Ct.jsx)("button",{onClick:()=>c("shipped"),className:"px-4 py-2 rounded-full whitespace-nowrap font-medium transition-colors text-sm ".concat("shipped"===l?"bg-blue-500 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"),children:"Shipped"}),(0,Ct.jsx)("button",{onClick:()=>c("delivered"),className:"px-4 py-2 rounded-full whitespace-nowrap font-medium transition-colors text-sm ".concat("delivered"===l?"bg-blue-500 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"),children:"Delivered"}),(0,Ct.jsx)("button",{onClick:()=>c("cancelled"),className:"px-4 py-2 rounded-full whitespace-nowrap font-medium transition-colors text-sm ".concat("cancelled"===l?"bg-blue-500 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"),children:"Cancelled"})]}),0===P.length?(0,Ct.jsxs)("div",{className:"flex flex-col items-center justify-center py-16",children:[(0,Ct.jsx)("p",{className:"text-lg text-blue-500 mb-8",children:"Enjoy New Experience of Shopping School Essentials ..."}),(0,Ct.jsx)("div",{className:"mb-6",children:(0,Ct.jsx)("img",{src:"/cart.svg",alt:"Empty Orders",className:"w-40 h-40 opacity-80"})}),(0,Ct.jsx)("h3",{className:"text-3xl font-bold text-blue-600 mb-2",children:"You Study, We Deliver"}),(0,Ct.jsx)("p",{className:"text-gray-600 text-base mb-6",children:"all"===l?"No orders found. Place your first order!":"No ".concat(l," orders found")}),(0,Ct.jsx)("a",{href:"/",className:"px-6 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"Continue Shopping.."})]}):(0,Ct.jsx)("div",{className:"space-y-4",children:P.map(e=>(0,Ct.jsx)(Ts,{order:e,onCancel:t=>j(e,t),onRequest:t=>_(e,t),setSelectedOrder:u,getStatusColor:N,getStatusText:E,formatDate:C},e.id))})]}),"cancel"===h&&(0,Ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 animate-fade-in",children:[(0,Ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ct.jsxs)("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[(0,Ct.jsx)(Ps,{className:"w-5 h-5 text-red-500"}),"Cancel Order"]}),(0,Ct.jsx)("button",{onClick:()=>p("none"),className:"text-gray-400 hover:text-gray-600",children:(0,Ct.jsx)(Es,{className:"w-5 h-5"})})]}),(0,Ct.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to cancel this order? This action cannot be undone."}),x&&(0,Ct.jsx)("div",{className:"mb-4 p-3 bg-red-50 text-red-700 text-sm rounded-lg border border-red-200",children:x}),(0,Ct.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Ct.jsx)("button",{onClick:()=>p("none"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",disabled:v,children:"No, Keep Order"}),(0,Ct.jsx)("button",{onClick:async()=>{if(m)try{b(!0),w(null);const e=localStorage.getItem("access_token")||localStorage.getItem("custom_token"),t=await fetch(Dt.Ay.getState().orders.cancel(m.id),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({reason:"Cancelled by user via app"})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to cancel order")}p("none"),f(null),k(e=>e+1),alert("Order cancelled successfully")}catch(e){w(e.message)}finally{b(!1)}},className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg font-medium transition-colors flex items-center gap-2",disabled:v,children:v?"Cancelling...":"Yes, Cancel Order"})]})]})}),"request"===h&&(0,Ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 animate-fade-in",children:[(0,Ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ct.jsxs)("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[(0,Ct.jsx)(As,{className:"w-5 h-5 text-blue-500"}),"Raise a Request"]}),(0,Ct.jsx)("button",{onClick:()=>p("none"),className:"text-gray-400 hover:text-gray-600",children:(0,Ct.jsx)(Es,{className:"w-5 h-5"})})]}),(0,Ct.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Issue"}),(0,Ct.jsxs)("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:g.subject,onChange:e=>y((0,a.A)((0,a.A)({},g),{},{subject:e.target.value})),children:[(0,Ct.jsx)("option",{value:"Delay in Delivery",children:"Delay in Delivery"}),(0,Ct.jsx)("option",{value:"Wrong Item Received",children:"Wrong Item Received"}),(0,Ct.jsx)("option",{value:"Damaged Item",children:"Damaged Item"}),(0,Ct.jsx)("option",{value:"Return Request",children:"Return Request"}),(0,Ct.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ct.jsx)("textarea",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[100px]",placeholder:"Please describe your issue...",value:g.message,onChange:e=>y((0,a.A)((0,a.A)({},g),{},{message:e.target.value}))})]})]}),x&&(0,Ct.jsx)("div",{className:"mb-4 p-3 bg-red-50 text-red-700 text-sm rounded-lg border border-red-200",children:x}),(0,Ct.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Ct.jsx)("button",{onClick:()=>p("none"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",disabled:v,children:"Cancel"}),(0,Ct.jsx)("button",{onClick:async()=>{if(m)if(g.message.trim())try{b(!0),w(null);const e=localStorage.getItem("access_token")||localStorage.getItem("custom_token"),t=await fetch(Dt.Ay.getState().orders.createQuery(m.id),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(g)});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to raise request")}p("none"),f(null),y({subject:"Delay in Delivery",message:""}),alert("Request raised successfully. Our support team will contact you.")}catch(e){w(e.message)}finally{b(!1)}else w("Please provide a message description")},className:"px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg font-medium transition-colors",disabled:v,children:v?"Submitting...":"Submit Request"})]})]})})]})},Ds=_t("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Ms=_t("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Fs=_t("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),Rs=_t("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),Os=()=>{const{addresses:t,loading:r,error:n,geoLoading:s,fetchAddresses:i,addAddress:o,updateAddress:l,deleteAddress:c,getCurrentLocationAndAddress:d}=er(),{showNotification:u}=sr(),{setModalOpen:h}=(0,Jt.default)(),[p,m]=(0,e.useState)(!1),[f,g]=(0,e.useState)(null),[y,v]=(0,e.useState)({label:"Home",recipientName:"",phone:"",line1:"",line2:"",city:"",state:"",country:"India",postalCode:"",landmark:""});(0,e.useEffect)(()=>{i()},[i]);const b=(e,t)=>{v(r=>(0,a.A)((0,a.A)({},r),{},{[e]:t}))},x=()=>{m(!1),g(null),v({label:"Home",recipientName:"",phone:"",line1:"",line2:"",city:"",state:"",country:"India",postalCode:"",landmark:""})};return(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[(0,Ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ct.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Addresses"}),!p&&(0,Ct.jsx)("button",{onClick:()=>m(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"+ Add New Address"})]}),p&&(0,Ct.jsxs)("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border",children:[(0,Ct.jsx)("h3",{className:"font-semibold text-gray-800 mb-4",children:f?"Edit Address":"Add New Address"}),(0,Ct.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=["recipientName","phone","line1","city","state","postalCode"].filter(e=>!y[e]);if(t.length>0)u({message:"Please fill in all required fields: ".concat(t.join(", ")),type:"error"});else if(/^\+?[\d\s\-\(\)]{10,15}$/.test(y.phone))if(/^\d{6}$/.test(y.postalCode))try{if(f)await l(f.id,y),u({message:"Address updated successfully",type:"success"});else{if(!await o(y))return h(!0),void u({message:"Please login to add an address",type:"info"});u({message:"Address added successfully",type:"success"})}x()}catch(r){u({message:r.message||"Failed to save address. Please try again.",type:"error"})}else u({message:"Please enter a valid 6-digit postal code",type:"error"});else u({message:"Please enter a valid phone number",type:"error"})},className:"space-y-4",children:[(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Label *"}),(0,Ct.jsxs)("select",{value:y.label,onChange:e=>b("label",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,Ct.jsx)("option",{value:"Home",children:"Home"}),(0,Ct.jsx)("option",{value:"Work",children:"Work"}),(0,Ct.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient Name *"}),(0,Ct.jsx)("input",{type:"text",value:y.recipientName,onChange:e=>b("recipientName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Full name",required:!0})]})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),(0,Ct.jsx)("input",{type:"tel",value:y.phone,onChange:e=>b("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"10-digit phone number",required:!0})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),(0,Ct.jsx)("input",{type:"text",value:y.line1,onChange:e=>b("line1",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"House/Flat/Building details",required:!0})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),(0,Ct.jsx)("input",{type:"text",value:y.line2,onChange:e=>b("line2",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Area/Locality details"})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Landmark"}),(0,Ct.jsx)("input",{type:"text",value:y.landmark,onChange:e=>b("landmark",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nearby landmark (optional)"})]}),(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,Ct.jsx)("input",{type:"text",value:y.city,onChange:e=>b("city",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"City",required:!0})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),(0,Ct.jsx)("input",{type:"text",value:y.state,onChange:e=>b("state",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"State",required:!0})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code *"}),(0,Ct.jsx)("input",{type:"text",value:y.postalCode,onChange:e=>b("postalCode",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"6-digit PIN",pattern:"\\d{6}",required:!0})]})]}),(0,Ct.jsx)("div",{className:"flex items-center space-x-3",children:(0,Ct.jsx)("button",{type:"button",onClick:async()=>{try{const{location:e,address:t}=await d();t&&(v(e=>(0,a.A)((0,a.A)({},e),{},{line1:t.line1||"",line2:t.line2||"",city:t.city||"",state:t.state||"",postalCode:t.postalCode||"",landmark:t.landmark||""})),u({message:"Location detected successfully",type:"success"}))}catch(e){u({message:"Failed to get current location. Please enter address manually.",type:"error"})}},disabled:s,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-300 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:s?(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Ct.jsx)("span",{children:"Getting Location..."})]}):(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("span",{children:"\ud83d\udccd"}),(0,Ct.jsx)("span",{children:"Use Current Location"})]})})}),(0,Ct.jsxs)("div",{className:"flex space-x-4",children:[(0,Ct.jsx)("button",{type:"submit",disabled:r,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:r?"Saving...":f?"Update Address":"Add Address"}),(0,Ct.jsx)("button",{type:"button",onClick:x,className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})]}),t.length>0?(0,Ct.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,Ct.jsx)("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-all",children:(0,Ct.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ct.jsxs)("div",{className:"flex-1",children:[(0,Ct.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Ct.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("Home"===e.label?"bg-green-100 text-green-800":"Work"===e.label?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.label}),e.isDefault&&(0,Ct.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs font-medium",children:"Default"})]}),(0,Ct.jsx)("div",{className:"text-gray-800 font-medium mb-1",children:e.recipientName}),(0,Ct.jsxs)("div",{className:"text-gray-600 text-sm",children:[e.line1,e.line2&&", ".concat(e.line2),e.landmark&&" (Near ".concat(e.landmark,")"),(0,Ct.jsx)("br",{}),e.city,", ",e.state," - ",e.postalCode,(0,Ct.jsx)("br",{}),"\ud83d\udcde ",e.phone]})]}),(0,Ct.jsxs)("div",{className:"flex space-x-2",children:[(0,Ct.jsx)("button",{onClick:()=>(e=>{g(e),v({label:e.label||"Home",recipientName:e.recipientName||"",phone:e.phone||"",line1:e.line1||"",line2:e.line2||"",city:e.city||"",state:e.state||"",country:e.country||"India",postalCode:e.postalCode||"",landmark:e.landmark||""}),m(!0)})(e),className:"text-blue-600 hover:text-blue-700 p-1 transition-colors",children:"\u270f\ufe0f"}),(0,Ct.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to delete this address?")&&c(e.id)},className:"text-red-600 hover:text-red-700 p-1 transition-colors",children:"\ud83d\uddd1\ufe0f"})]})]})},e.id))}):!p&&(0,Ct.jsxs)("div",{className:"text-center py-8",children:[(0,Ct.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",children:(0,Ct.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),(0,Ct.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No addresses found -"}),(0,Ct.jsx)("p",{className:"text-gray-600 mb-4",children:"Add your first delivery address"}),(0,Ct.jsx)("button",{onClick:()=>m(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Add Address"})]})]})};const Ls=function(){const t=le(),[r]=ft(),{user:n,isAuthenticated:s,logout:i}=(0,Jt.default)(),{profile:o,loading:l,error:c,getProfile:d,updateProfile:u,verifyEmail:h}=Bt(),[p,m]=(0,e.useState)(!1),[f,g]=(0,e.useState)(()=>r.get("tab")||"profile");(0,e.useEffect)(()=>{const e=r.get("tab");g(e||"profile")},[r]);const[y,v]=(0,e.useState)({firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",gender:"",city:"",state:""}),[b,x]=(0,e.useState)(!1),[w,S]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e="true"===localStorage.getItem("isMobileApp")||window.location.search.includes("mode=webview");S(e)},[]),(0,e.useEffect)(()=>{if(!s)return void t("/");n&&(console.log("Profile data loaded:",o),(async()=>{try{await d()}catch(c){console.error("Error loading profile data:",c)}})())},[n,s,t,d]),(0,e.useEffect)(()=>{if(o){const e=(o.full_name||o.fullName||"").split(" "),t=e[0]||"",r=e.slice(1).join(" ")||"";v({firstName:t,lastName:r,email:o.email||"",phone:o.phone||"",dateOfBirth:o.date_of_birth||o.dateOfBirth||"",gender:o.gender||"",city:o.city||"",state:o.state||""})}},[o]);const k=e=>{const{name:t,value:r}=e.target;v(e=>(0,a.A)((0,a.A)({},e),{},{[t]:r}))};return l&&!o?(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF]",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Ct.jsxs)("div",{className:"text-center",children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,Ct.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})})]}):(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF]",children:[!w&&(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,Ct.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[!w&&(0,Ct.jsx)("div",{className:"lg:col-span-1 hidden lg:block",children:(0,Ct.jsxs)("div",{className:"space-y-4",children:[(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4 flex items-center space-x-4",children:[(0,Ct.jsx)("div",{className:"w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center overflow-hidden",children:(0,Ct.jsx)("img",{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(y.firstName),alt:"Profile",className:"w-full h-full object-cover"})}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("p",{className:"text-xs text-gray-500",children:"Hello,"}),(0,Ct.jsxs)("h3",{className:"text-md font-bold text-gray-800",children:[y.firstName," ",y.lastName]})]})]}),(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,Ct.jsx)("div",{className:"border-b",children:(0,Ct.jsxs)("button",{onClick:()=>g("orders"),className:"w-full flex items-center justify-between px-6 py-4 hover:bg-gray-50 transition-colors",children:[(0,Ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ct.jsx)(Ds,{className:"w-5 h-5 text-blue-600"}),(0,Ct.jsx)("span",{className:"font-semibold text-gray-500 hover:text-blue-600",children:"MY ORDERS"})]}),(0,Ct.jsx)(Et,{className:"w-4 h-4 text-gray-400"})]})}),(0,Ct.jsxs)("div",{className:"border-b",children:[(0,Ct.jsxs)("div",{className:"px-6 py-4 flex items-center space-x-4",children:[(0,Ct.jsx)(Ms,{className:"w-5 h-5 text-blue-600"}),(0,Ct.jsx)("span",{className:"font-semibold text-gray-500",children:"ACCOUNT SETTINGS"})]}),(0,Ct.jsxs)("div",{className:"pb-2",children:[(0,Ct.jsx)("button",{onClick:()=>{g("profile"),m(!1)},className:"w-full text-left px-16 py-2 text-sm transition-colors ".concat("profile"===f?"text-blue-600 font-medium bg-blue-50":"text-gray-600 hover:bg-blue-50 hover:text-blue-600"),children:"Profile Information"}),(0,Ct.jsx)("button",{onClick:()=>{g("addresses"),m(!1)},className:"w-full text-left px-16 py-2 text-sm transition-colors ".concat("addresses"===f?"text-blue-600 font-medium bg-blue-50":"text-gray-600 hover:bg-blue-50 hover:text-blue-600"),children:"Manage Addresses"})]})]}),(0,Ct.jsxs)("div",{className:"border-b",children:[(0,Ct.jsxs)("div",{className:"px-6 py-4 flex items-center space-x-4",children:[(0,Ct.jsx)(Fs,{className:"w-5 h-5 text-blue-600"}),(0,Ct.jsx)("span",{className:"font-semibold text-gray-500",children:"MY STUFF"})]}),(0,Ct.jsxs)("div",{className:"pb-2",children:[(0,Ct.jsx)("button",{onClick:()=>g("city"),className:"w-full text-left px-16 py-2 text-sm hover:bg-blue-50 hover:text-blue-600 transition-colors ".concat("city"===f?"text-blue-600 font-medium bg-blue-50":"text-gray-600"),children:"My City"}),(0,Ct.jsx)("button",{className:"w-full text-left px-16 py-2 text-sm text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors",children:"All Notifications"})]})]}),(0,Ct.jsx)("div",{className:"border-b last:border-b-0",children:(0,Ct.jsxs)("button",{onClick:()=>{x(!0)},className:"w-full flex items-center space-x-4 px-6 py-4 hover:bg-gray-50 transition-colors text-gray-500 hover:text-blue-600",children:[(0,Ct.jsx)(Rs,{className:"w-5 h-5 text-blue-600"}),(0,Ct.jsx)("span",{className:"font-semibold",children:"Logout"})]})})]})]})}),(0,Ct.jsxs)("div",{className:"profile"===f||"addresses"===f?w?"col-span-full":"lg:col-span-4":"lg:col-span-4 hidden",children:["profile"===f&&(0,Ct.jsx)("div",{className:"space-y-6",children:(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[(0,Ct.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Personal Information"}),c&&(0,Ct.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,Ct.jsx)("p",{className:"text-red-700",children:c})}),(0,Ct.jsxs)("div",{className:"mb-8",children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ct.jsx)("div",{children:(0,Ct.jsx)("input",{type:"text",name:"firstName",value:y.firstName,onChange:k,disabled:!p,placeholder:"First Name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p?"bg-white":"bg-gray-50 text-gray-800")})}),(0,Ct.jsx)("div",{children:(0,Ct.jsx)("input",{type:"text",name:"lastName",value:y.lastName,onChange:k,disabled:!p,placeholder:"Last Name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p?"bg-white":"bg-gray-50 text-gray-800")})})]})]}),(0,Ct.jsxs)("div",{className:"mb-8",children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,Ct.jsx)("input",{type:"email",name:"email",value:y.email,onChange:k,disabled:!p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p?"bg-white":"bg-gray-50 text-gray-800")})]}),(0,Ct.jsxs)("div",{className:"mb-8",children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number"}),(0,Ct.jsx)("input",{type:"tel",name:"phone",value:y.phone,onChange:k,disabled:!p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p?"bg-white":"bg-gray-50 text-gray-800")})]}),(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),(0,Ct.jsx)("input",{type:"date",name:"dateOfBirth",value:y.dateOfBirth,onChange:k,disabled:!p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p?"bg-white":"bg-gray-50 text-gray-800")})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),(0,Ct.jsxs)("select",{name:"gender",value:y.gender,onChange:k,disabled:!p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p?"bg-white":"bg-gray-50 text-gray-800"),children:[(0,Ct.jsx)("option",{value:"",children:"Select Gender"}),(0,Ct.jsx)("option",{value:"male",children:"Male"}),(0,Ct.jsx)("option",{value:"female",children:"Female"}),(0,Ct.jsx)("option",{value:"other",children:"Other"}),(0,Ct.jsx)("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]})]}),(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,Ct.jsx)("input",{type:"text",name:"city",value:y.city,onChange:k,disabled:!p,placeholder:"City",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p?"bg-white":"bg-gray-50 text-gray-800")})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,Ct.jsx)("input",{type:"text",name:"state",value:y.state,onChange:k,disabled:!p,placeholder:"State",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p?"bg-white":"bg-gray-50 text-gray-800")})]})]}),!p&&(0,Ct.jsx)("div",{className:"mb-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("p",{className:"text-xs text-gray-600 uppercase tracking-wide",children:"Account Status"}),(0,Ct.jsx)("p",{className:"text-sm font-semibold text-blue-600 mt-1",children:null!==o&&void 0!==o&&o.is_active||null!==o&&void 0!==o&&o.isActive?"Active":"Inactive"})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("p",{className:"text-xs text-gray-600 uppercase tracking-wide",children:"Email Status"}),(0,Ct.jsx)("p",{className:"text-sm font-semibold mt-1 ".concat(null!==o&&void 0!==o&&o.email_verified||null!==o&&void 0!==o&&o.emailVerified?"text-green-600":"text-orange-600"),children:null!==o&&void 0!==o&&o.email_verified||null!==o&&void 0!==o&&o.emailVerified?"Verified":"Unverified"}),!(null!==o&&void 0!==o&&o.email_verified)&&!(null!==o&&void 0!==o&&o.emailVerified)&&(0,Ct.jsx)("button",{onClick:async()=>{try{if(null!==o&&void 0!==o&&o.emailVerified)return;await h();alert("Verification email sent! Please check your inbox.")}catch(c){alert("Error sending verification email: "+c.message)}},disabled:l,className:"text-xs text-blue-600 hover:text-blue-800 underline mt-1",children:"Verify Now"})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("p",{className:"text-xs text-gray-600 uppercase tracking-wide",children:"Phone Status"}),(0,Ct.jsx)("p",{className:"text-sm font-semibold mt-1 ".concat(null!==o&&void 0!==o&&o.phone_verified||null!==o&&void 0!==o&&o.phoneVerified?"text-green-600":"text-orange-600"),children:null!==o&&void 0!==o&&o.phone_verified||null!==o&&void 0!==o&&o.phoneVerified?"Verified":"Unverified"})]})]})}),(0,Ct.jsx)("div",{className:"flex gap-4",children:p?(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("button",{onClick:async()=>{try{const e={fullName:"".concat(y.firstName," ").concat(y.lastName).trim(),email:y.email,phone:y.phone,dateOfBirth:y.dateOfBirth,gender:y.gender,city:y.city,state:y.state};await u(e),m(!1),await d(),alert("Profile updated successfully!")}catch(c){alert("Error updating profile: "+c.message)}},disabled:l,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:l?"Saving...":"Save Changes"}),(0,Ct.jsx)("button",{onClick:()=>m(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 py-2 rounded-lg font-medium transition-colors",children:"Cancel"})]}):(0,Ct.jsx)("button",{onClick:()=>m(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Edit Profile"})})]})}),"addresses"===f&&(0,Ct.jsx)(Os,{})]}),(0,Ct.jsx)("div",{className:"city"===f?w?"col-span-full":"lg:col-span-4":"lg:col-span-4 hidden",children:"city"===f&&(0,Ct.jsx)(js,{})}),(0,Ct.jsx)("div",{className:"orders"===f?w?"col-span-full":"lg:col-span-4":"lg:col-span-4 hidden",children:"orders"===f&&(0,Ct.jsx)(Is,{})})]})}),b&&(0,Ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-sm w-full p-6 animate-fade-in",children:[(0,Ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Confirm Logout"}),(0,Ct.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to log out of your account?"}),(0,Ct.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ct.jsx)("button",{onClick:()=>{x(!1)},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,Ct.jsx)("button",{onClick:()=>{i(),t("/"),x(!1)},className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg font-medium transition-colors",children:"Logout"})]})]})})]})},Bs=()=>{const t=le(),{user:r}=(0,Jt.default)(),[a,n]=(0,e.useState)(null);return(0,Ct.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[(0,Ct.jsx)("div",{className:"bg-white shadow-sm p-4",children:(0,Ct.jsx)("button",{onClick:()=>{t("/profile")},className:"text-blue-500 font-semibold hover:text-blue-700",children:"\u2190 Back to Profile"})}),(0,Ct.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-6xl",children:[(0,Ct.jsxs)("div",{className:"mb-12 flex items-center gap-4",children:[(0,Ct.jsx)("div",{className:"w-20 h-20 bg-blue-200 rounded-full flex items-center justify-center",children:(0,Ct.jsx)("svg",{className:"w-12 h-12 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("p",{className:"text-gray-600 text-lg",children:"Hello"}),(0,Ct.jsx)("p",{className:"text-blue-500 text-2xl font-bold",children:(null===r||void 0===r?void 0:r.name)||(null===r||void 0===r?void 0:r.full_name)||"User"})]})]}),(0,Ct.jsx)("h1",{className:"text-4xl font-bold text-center text-blue-500 mb-4",children:"Select Your City To Get Your"}),(0,Ct.jsx)("p",{className:"text-4xl font-bold text-center text-blue-500 mb-12",children:"Essentials Delivered"}),(0,Ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[{id:"kanpur",name:"Kanpur",image:"/city/kanpur.jpg"},{id:"gurgaon",name:"Gurgaon",image:"/city/gurugram.jpg"}].map(e=>(0,Ct.jsxs)("div",{onClick:()=>n(e.id),className:"relative rounded-2xl overflow-hidden cursor-pointer transform transition-all duration-300 hover:scale-105 ".concat(a===e.id?"ring-4 ring-blue-500 shadow-xl":"shadow-lg hover:shadow-xl"),children:[(0,Ct.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-64 object-cover"}),(0,Ct.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"}),(0,Ct.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:(0,Ct.jsx)("h2",{className:"text-3xl font-bold text-white",children:e.name})}),a===e.id&&(0,Ct.jsx)("div",{className:"absolute top-4 right-4 bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center",children:(0,Ct.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ct.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},e.id))}),(0,Ct.jsx)("div",{className:"flex justify-center",children:(0,Ct.jsx)("button",{onClick:()=>{a&&(localStorage.setItem("selectedCity",a),t("/"))},disabled:!a,className:"px-12 py-4 rounded-full text-white font-bold text-xl transition-all duration-300 ".concat(a?"bg-blue-500 hover:bg-blue-600 cursor-pointer shadow-lg hover:shadow-xl":"bg-gray-400 cursor-not-allowed opacity-60"),children:"Select Your City"})})]})]})},zs=_t("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Vs=_t("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Us=_t("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Hs=_t("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),Gs=_t("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);const qs=function(){le();const{categories:t}=(0,Dt.Ay)(),{isAuthenticated:r}=(0,Jt.default)(),n=Dt.Ay.getState(),[s,i]=(0,e.useState)([]),[o,l]=(0,e.useState)(!0),[c,d]=(0,e.useState)(""),[u,h]=(0,e.useState)(""),[p,m]=(0,e.useState)(!1),[f,g]=(0,e.useState)(!1),[y,v]=(0,e.useState)(null),[b,x]=(0,e.useState)({name:"",slug:"",description:"",parentId:"",image:null,imagePreview:""});(0,e.useEffect)(()=>{w()},[]);const w=async()=>{try{l(!0);const e=await fetch(t.getAll);if(!e.ok)throw new Error("Failed to fetch categories");const r=await e.json();i(r.data.categories||[])}catch(e){d(e.message)}finally{l(!1)}},S=e=>{const{name:t,value:r}=e.target;x(e=>(0,a.A)((0,a.A)({},e),{},{[t]:r}))},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(g(!0),v(e.id),x({name:e.name,slug:e.slug,description:e.description||"",parentId:e.parentId||"",image:null,imagePreview:e.image||""})):(g(!1),v(null),x({name:"",slug:"",description:"",parentId:"",image:null,imagePreview:""})),m(!0),d(""),h("")},j=()=>{m(!1),x({name:"",slug:"",description:"",parentId:"",image:null,imagePreview:""})};return(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Ct.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Ct.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Manage Categories"}),(0,Ct.jsxs)("button",{onClick:()=>k(),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:[(0,Ct.jsx)(zs,{size:20}),"Add Category"]})]}),c&&(0,Ct.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),u&&(0,Ct.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:u}),(0,Ct.jsx)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:(0,Ct.jsx)("div",{className:"overflow-x-auto",children:(0,Ct.jsxs)("table",{className:"w-full text-left",children:[(0,Ct.jsx)("thead",{className:"bg-gray-50 border-b border-gray-100",children:(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("th",{className:"px-6 py-4 font-semibold text-gray-600",children:"Image"}),(0,Ct.jsx)("th",{className:"px-6 py-4 font-semibold text-gray-600",children:"Name"}),(0,Ct.jsx)("th",{className:"px-6 py-4 font-semibold text-gray-600",children:"Slug"}),(0,Ct.jsx)("th",{className:"px-6 py-4 font-semibold text-gray-600",children:"Description"}),(0,Ct.jsx)("th",{className:"px-6 py-4 font-semibold text-gray-600 text-right",children:"Actions"})]})}),(0,Ct.jsx)("tbody",{className:"divide-y divide-gray-100",children:o?(0,Ct.jsx)("tr",{children:(0,Ct.jsx)("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:"Loading..."})}):0===s.length?(0,Ct.jsx)("tr",{children:(0,Ct.jsx)("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:"No categories found."})}):s.map(e=>(0,Ct.jsxs)("tr",{className:"hover:bg-gray-50 transition",children:[(0,Ct.jsx)("td",{className:"px-6 py-4",children:e.image?(0,Ct.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 rounded-lg object-cover border border-gray-200"}):(0,Ct.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center text-gray-400",children:(0,Ct.jsx)(Vs,{size:20})})}),(0,Ct.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:e.name}),(0,Ct.jsx)("td",{className:"px-6 py-4 text-gray-500",children:e.slug}),(0,Ct.jsx)("td",{className:"px-6 py-4 text-gray-500 max-w-xs truncate",children:e.description}),(0,Ct.jsx)("td",{className:"px-6 py-4 text-right",children:(0,Ct.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,Ct.jsx)("button",{onClick:()=>k(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",children:(0,Ct.jsx)(Us,{size:18})}),(0,Ct.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this category?"))try{const r=await fetch(t.admin.delete(e),{method:"DELETE",headers:n.getAuthHeaders()});if(!r.ok){const e=await r.json();throw new Error(e.message||"Delete failed")}h("Category deleted successfully"),w()}catch(r){d(r.message)}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",children:(0,Ct.jsx)(Hs,{size:18})})]})})]},e.id))})]})})})]}),p&&(0,Ct.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Ct.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden",children:[(0,Ct.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[(0,Ct.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:f?"Edit Category":"New Category"}),(0,Ct.jsx)("button",{onClick:j,className:"text-gray-400 hover:text-gray-600",children:(0,Ct.jsx)(Es,{size:24})})]}),(0,Ct.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0),d(""),h("");try{const e=f?t.admin.update(y):t.admin.create,r=f?"PUT":"POST",s=new FormData;s.append("name",b.name),b.slug&&s.append("slug",b.slug),s.append("description",b.description),b.parentId&&s.append("parentId",b.parentId),b.image instanceof File&&s.append("image",b.image);await fetch(e,{method:r,headers:(0,a.A)({},n.getAuthHeaders()),body:s});const i=n.getAuthHeaders();delete i["Content-Type"];const o=await fetch(e,{method:r,headers:i,body:s});if(!o.ok){const e=await o.json();throw new Error(e.message||"Operation failed")}h(f?"Category updated successfully":"Category created successfully"),w(),j()}catch(r){console.error(r),d(r.message||"An error occurred")}finally{l(!1)}},className:"p-6 space-y-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name"}),(0,Ct.jsx)("input",{type:"text",name:"name",value:b.name,onChange:S,required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"e.g. Science Books"})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug (Optional)"}),(0,Ct.jsx)("input",{type:"text",name:"slug",value:b.slug,onChange:S,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"e.g. science-books"})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ct.jsx)("textarea",{name:"description",value:b.description,onChange:S,rows:"3",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"Brief description..."})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Image"}),(0,Ct.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-4 text-center hover:bg-gray-50 transition cursor-pointer relative group",children:[(0,Ct.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&x(e=>(0,a.A)((0,a.A)({},e),{},{image:t,imagePreview:URL.createObjectURL(t)}))},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),b.imagePreview?(0,Ct.jsxs)("div",{className:"relative",children:[(0,Ct.jsx)("img",{src:b.imagePreview,alt:"Preview",className:"h-40 mx-auto object-contain rounded-lg"}),(0,Ct.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),x(e=>(0,a.A)((0,a.A)({},e),{},{image:null,imagePreview:""}))},className:"absolute -top-2 -right-2 bg-red-500 text-white p-1 rounded-full shadow hover:bg-red-600",children:(0,Ct.jsx)(Es,{size:16})})]}):(0,Ct.jsxs)("div",{className:"py-4",children:[(0,Ct.jsx)("div",{className:"bg-blue-50 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Ct.jsx)(Gs,{className:"text-blue-600",size:24})}),(0,Ct.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Click to upload image"}),(0,Ct.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG up to 5MB"})]})]})]}),(0,Ct.jsxs)("div",{className:"pt-4 flex gap-3",children:[(0,Ct.jsx)("button",{type:"button",onClick:j,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition",children:"Cancel"}),(0,Ct.jsx)("button",{type:"submit",disabled:o||!b.name,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition ".concat(o?"opacity-70 cursor-not-allowed":""),children:o?"Saving...":f?"Update Category":"Create Category"})]})]})]})})]})},Ws=()=>{const t=le(),[r,a]=(0,e.useState)([]),[n,s]=(0,e.useState)(!0),[i,o]=(0,e.useState)(""),{categories:l}=(0,Dt.Ay)();Dt.Ay.getState();(0,e.useEffect)(()=>{c()},[]);const c=async()=>{try{s(!0);const e=await fetch(l.getAll);if(!e.ok)throw new Error("Failed to fetch categories");const t=await e.json();a(t.data.categories||[])}catch(e){console.error("Error fetching categories:",e),o(e.message)}finally{s(!1)}};return(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] flex flex-col",children:[(0,Ct.jsx)(Vt,{}),(0,Ct.jsx)("div",{className:"mx-4 md:mx-12 my-8",children:(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 md:p-8",children:[(0,Ct.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("button",{onClick:()=>t(-1),className:"text-blue-600 hover:text-blue-800 mb-2 flex items-center gap-2",children:"\u2190 Back"}),(0,Ct.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"All Categories"}),(0,Ct.jsx)("p",{className:"text-gray-600 mt-1",children:"Explore our wide range of school essentials"})]})}),n?(0,Ct.jsxs)("div",{className:"text-center py-16",children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ct.jsx)("h2",{className:"text-lg font-semibold text-gray-600",children:"Loading categories..."})]}):i?(0,Ct.jsxs)("div",{className:"text-center py-12",children:[(0,Ct.jsxs)("p",{className:"text-red-500 text-lg mb-2",children:["Error: ",i]}),(0,Ct.jsx)("button",{onClick:c,className:"mt-2 text-blue-600 hover:underline",children:"Try Again"})]}):0===r.length?(0,Ct.jsx)("div",{className:"text-center py-12",children:(0,Ct.jsx)("p",{className:"text-gray-500 text-lg",children:"No categories found."})}):(0,Ct.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 md:gap-6",children:r.map((e,r)=>(0,Ct.jsxs)("div",{onClick:()=>(e=>{t("/product",{state:{categorySlug:e.slug,source:"Category Page"}})})(e),className:"relative w-full bg-white rounded-2xl shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 hover:cursor-pointer border border-gray-100",children:[(0,Ct.jsx)("div",{className:"relative h-[150px] md:h-[180px] w-full overflow-hidden rounded-t-2xl bg-gray-50",children:e.image?(0,Ct.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-contain p-4"}):(0,Ct.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,Ct.jsx)("span",{className:"text-xs",children:"No Image"})})}),(0,Ct.jsxs)("div",{className:"px-4 py-3 flex flex-col items-start justify-start gap-1 bg-white rounded-b-2xl",children:[(0,Ct.jsx)("p",{className:"font-nunito font-semibold text-gray-800 line-clamp-1 w-full",title:e.name,children:e.name}),(0,Ct.jsx)("p",{className:"text-xs md:text-sm text-green-600 font-nunito font-bold",children:"Min. 50% Off"})]})]},e.id||r))})]})})]})},Ys=_t("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),$s=_t("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ks=_t("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Js=()=>{const[t]=ft(),r=le(),{confirmEmailVerification:a}=Bt(),n=t.get("token"),[s,i]=(0,e.useState)("verifying"),[o,l]=(0,e.useState)("Verifying your email...");return(0,e.useEffect)(()=>{if(!n)return i("error"),void l("Invalid verification link. Token is missing.");(async()=>{try{await a(n),i("success"),l("Email verified successfully! Redirecting..."),setTimeout(()=>{r("/")},3e3)}catch(e){i("error"),l(e.message||"Failed to verify email. Link may be expired.")}})()},[n]),(0,Ct.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:(0,Ct.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,Ct.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center",children:["verifying"===s&&(0,Ct.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,Ct.jsx)(Ys,{className:"w-16 h-16 text-blue-500 animate-spin mb-4"}),(0,Ct.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Verifying Email"}),(0,Ct.jsx)("p",{className:"text-gray-600",children:o})]}),"success"===s&&(0,Ct.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,Ct.jsx)($s,{className:"w-16 h-16 text-green-500 mb-4"}),(0,Ct.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Verified!"}),(0,Ct.jsx)("p",{className:"text-green-600 mb-4",children:o}),(0,Ct.jsx)("button",{onClick:()=>r("/"),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Go to Home"})]}),"error"===s&&(0,Ct.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,Ct.jsx)(Ks,{className:"w-16 h-16 text-red-500 mb-4"}),(0,Ct.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Verification Failed"}),(0,Ct.jsx)("p",{className:"text-red-600 mb-4",children:o}),(0,Ct.jsx)("button",{onClick:()=>r("/"),className:"bg-gray-200 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors",children:"Go Home"})]})]})})})},Qs=()=>(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] px-4 md:px-12 py-8 font-nunito",children:[(0,Ct.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Contact Us"}),(0,Ct.jsxs)("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-sm",children:[(0,Ct.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"We'd love to hear from you! If you have any questions, feedback, or need support, please don't hesitate to reach out."}),(0,Ct.jsxs)("div",{className:"space-y-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Address"}),(0,Ct.jsx)("p",{className:"text-gray-600",children:"Wisdom Rd, Sco 142 Nirman Point"})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Phone"}),(0,Ct.jsx)("p",{className:"text-gray-600",children:"+91 95204 43591"})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Email"}),(0,Ct.jsx)("p",{className:"text-gray-600",children:"support@bukizz.com"})]})]})]})]}),Xs=()=>(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] px-4 md:px-12 py-8 font-nunito",children:[(0,Ct.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Payment Policy"}),(0,Ct.jsxs)("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-sm text-gray-600",children:[(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"At Bukizz, we offer a variety of secure payment methods to ensure a smooth checkout experience."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Accepted Payment Methods"}),(0,Ct.jsxs)("ul",{className:"list-disc pl-5 mb-6 space-y-2",children:[(0,Ct.jsx)("li",{children:"Credit and Debit Cards (Visa, Mastercard, RuPay)"}),(0,Ct.jsx)("li",{children:"Net Banking"}),(0,Ct.jsx)("li",{children:"UPI (Google Pay, PhonePe, Paytm, etc.)"}),(0,Ct.jsx)("li",{children:"Wallets"})]}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Security"}),(0,Ct.jsx)("p",{className:"leading-relaxed",children:"Your payment information is vital to us. We use industry-standard encryption and secure payment gateways to protect your data. Bukizz does not store your card details on our servers."})]})]}),Zs=()=>(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] px-4 md:px-12 py-8 font-nunito",children:[(0,Ct.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Shipping Policy"}),(0,Ct.jsxs)("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-sm text-gray-600",children:[(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Delivery Timelines"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We strive to deliver your orders as quickly as possible. Standard delivery typically takes 3-7 business days, depending on your location."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Shipping Charges"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"Shipping charges may apply based on the order value and delivery location. Any applicable shipping fees will be displayed at checkout before you complete your purchase."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Tracking Your Order"}),(0,Ct.jsx)("p",{className:"leading-relaxed",children:'Once your order is shipped, you will receive a tracking link via email and SMS. You can also track your order status from the "Orders" section in your profile.'})]})]}),ei=()=>(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] px-4 md:px-12 py-8 font-nunito",children:[(0,Ct.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Cancellation & Refund Policy"}),(0,Ct.jsxs)("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-sm text-gray-600",children:[(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Cancellations"}),(0,Ct.jsx)("p",{className:"mb-6 leading-relaxed",children:'You can cancel your order before it has been processed for shipping. To cancel, please visit the "Orders" section in your account or contact our customer support immediately. Once shipped, orders cannot be cancelled.'}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Returns & Refunds"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We accept returns for damaged, defective, or incorrect items delivered."}),(0,Ct.jsxs)("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[(0,Ct.jsx)("li",{children:"Return requests must be raised within 7 days of delivery."}),(0,Ct.jsx)("li",{children:"Items must be unused and in their original packaging."}),(0,Ct.jsx)("li",{children:"Refunds are processed to the original payment method after the return is verified at our warehouse."})]}),(0,Ct.jsx)("p",{className:"leading-relaxed",children:"Please allow 5-7 business days for the refund to reflect in your account after processing."})]})]}),ti=()=>(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] px-4 md:px-12 py-8 font-nunito",children:[(0,Ct.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"TERMS AND CONDITIONS"}),(0,Ct.jsxs)("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-sm text-gray-600",children:[(0,Ct.jsx)("p",{className:"mb-4",children:"Last updated February 01, 2024"}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"AGREEMENT TO OUR LEGAL TERMS"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:'We are bukizz ("Company," "we," "us," "our"), a company registered in India at MOHAN VILA APARTMENT, GEETA NAGAR, KANPUR, Uttar Pradesh 208025.'}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:'We operate the website bukizz.com (the "Site"), the mobile application bukizz (the "App"), as well as any other related products and services that refer or link to these legal terms (the "Legal Terms") (collectively, the "Services").'}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"You can contact us by phone at 09369467134, email at bukizzstore@gmail.com, or by mail to MOHAN VILA APARTMENT, GEETA NAGAR, KANPUR, Uttar Pradesh 208025, India."}),(0,Ct.jsxs)("p",{className:"mb-4 leading-relaxed",children:['These Legal Terms constitute a legally binding agreement made between you, whether personally or on behalf of an entity ("you"), and bukizz, concerning your access to and use of the Services. You agree that by accessing the Services, you have read, understood, and agreed to be bound by all of these Legal Terms. ',(0,Ct.jsx)("strong",{children:"IF YOU DO NOT AGREE WITH ALL OF THESE LEGAL TERMS, THEN YOU ARE EXPRESSLY PROHIBITED FROM USING THE SERVICES AND YOU MUST DISCONTINUE USE IMMEDIATELY."})]}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:'Supplemental terms and conditions or documents that may be posted on the Services from time to time are hereby expressly incorporated herein by reference. We reserve the right, in our sole discretion, to make changes or modifications to these Legal Terms at any time and for any reason. We will alert you about any changes by updating the "Last updated" date of these Legal Terms, and you waive any right to receive specific notice of each such change. It is your responsibility to periodically review these Legal Terms to stay informed of updates. You will be subject to, and will be deemed to have been made aware of and to have accepted, the changes in any revised Legal Terms by your continued use of the Services after the date such revised Legal Terms are posted.'}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We recommend that you print a copy of these Legal Terms for your records."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"TABLE OF CONTENTS"}),(0,Ct.jsxs)("ol",{className:"list-decimal pl-5 mb-4 space-y-1",children:[(0,Ct.jsx)("li",{children:"OUR SERVICES"}),(0,Ct.jsx)("li",{children:"INTELLECTUAL PROPERTY RIGHTS"}),(0,Ct.jsx)("li",{children:"USER REPRESENTATIONS"}),(0,Ct.jsx)("li",{children:"USER REGISTRATION"}),(0,Ct.jsx)("li",{children:"PRODUCTS"}),(0,Ct.jsx)("li",{children:"PURCHASES AND PAYMENT"}),(0,Ct.jsx)("li",{children:"RETURN POLICY"}),(0,Ct.jsx)("li",{children:"PROHIBITED ACTIVITIES"}),(0,Ct.jsx)("li",{children:"USER GENERATED CONTRIBUTIONS"}),(0,Ct.jsx)("li",{children:"CONTRIBUTION LICENSE"}),(0,Ct.jsx)("li",{children:"GUIDELINES FOR REVIEWS"}),(0,Ct.jsx)("li",{children:"MOBILE APPLICATION LICENSE"}),(0,Ct.jsx)("li",{children:"ADVERTISERS"}),(0,Ct.jsx)("li",{children:"SERVICES MANAGEMENT"}),(0,Ct.jsx)("li",{children:"PRIVACY POLICY"}),(0,Ct.jsx)("li",{children:"TERM AND TERMINATION"}),(0,Ct.jsx)("li",{children:"MODIFICATIONS AND INTERRUPTIONS"}),(0,Ct.jsx)("li",{children:"GOVERNING LAW"}),(0,Ct.jsx)("li",{children:"DISPUTE RESOLUTION"}),(0,Ct.jsx)("li",{children:"CORRECTIONS"}),(0,Ct.jsx)("li",{children:"DISCLAIMER"}),(0,Ct.jsx)("li",{children:"LIMITATIONS OF LIABILITY"}),(0,Ct.jsx)("li",{children:"INDEMNIFICATION"}),(0,Ct.jsx)("li",{children:"USER DATA"}),(0,Ct.jsx)("li",{children:"ELECTRONIC COMMUNICATIONS, TRANSACTIONS, AND SIGNATURES"}),(0,Ct.jsx)("li",{children:"MISCELLANEOUS"}),(0,Ct.jsx)("li",{children:"CONTACT US"})]}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"1. OUR SERVICES"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"The information provided when using the Services is not intended for distribution to or use by any person or entity in any jurisdiction or country where such distribution or use would be contrary to law or regulation or which would subject us to any registration requirement within such jurisdiction or country. Accordingly, those persons who choose to access the Services from other locations do so on their own initiative and are solely responsible for compliance with local laws, if and to the extent local laws are applicable."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"2. INTELLECTUAL PROPERTY RIGHTS"}),(0,Ct.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:"Our intellectual property"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:'We are the owner or the licensee of all intellectual property rights in our Services, including all source code, databases, functionality, software, website designs, audio, video, text, photographs, and graphics in the Services (collectively, the "Content"), as well as the trademarks, service marks, and logos contained therein (the "Marks").'}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"Our Content and Marks are protected by copyright and trademark laws (and various other intellectual property rights and unfair competition laws) and treaties in the United States and around the world."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:'The Content and Marks are provided in or through the Services "AS IS" for your personal, non-commercial use only.'}),(0,Ct.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:"Your use of our Services"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:'Subject to your compliance with these Legal Terms, including the "PROHIBITED ACTIVITIES" section below, we grant you a non-exclusive, non-transferable, revocable license to:'}),(0,Ct.jsxs)("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[(0,Ct.jsx)("li",{children:"access the Services; and"}),(0,Ct.jsx)("li",{children:"download or print a copy of any portion of the Content to which you have properly gained access."})]}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"solely for your personal, non-commercial use."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"Except as set out in this section or elsewhere in our Legal Terms, no part of the Services and no Content or Marks may be copied, reproduced, aggregated, republished, uploaded, posted, publicly displayed, encoded, translated, transmitted, distributed, sold, licensed, or otherwise exploited for any commercial purpose whatsoever, without our express prior written permission."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"If you wish to make any use of the Services, Content, or Marks other than as set out in this section or elsewhere in our Legal Terms, please address your request to: bukizzstore@gmail.com. If we ever grant you the permission to post, reproduce, or publicly display any part of our Services or Content, you must identify us as the owners or licensors of the Services, Content, or Marks and ensure that any copyright or proprietary notice appears or is visible on posting, reproducing, or displaying our Content."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We reserve all rights not expressly granted to you in and to the Services, Content, and Marks."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"Any breach of these Intellectual Property Rights will constitute a material breach of our Legal Terms and your right to use our Services will terminate immediately."}),(0,Ct.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:"Your submissions and contributions"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:'Please review this section and the "PROHIBITED ACTIVITIES" section carefully prior to using our Services to understand the (a) rights you give us and (b) obligations you have when you post or upload any content through the Services.'}),(0,Ct.jsxs)("p",{className:"mb-4 leading-relaxed",children:[(0,Ct.jsx)("strong",{children:"Submissions:"}),' By directly sending us any question, comment, suggestion, idea, feedback, or other information about the Services ("Submissions"), you agree to assign to us all intellectual property rights in such Submission. You agree that we shall own this Submission and be entitled to its unrestricted use and dissemination for any lawful purpose, commercial or otherwise, without acknowledgment or compensation to you.']}),(0,Ct.jsxs)("p",{className:"mb-4 leading-relaxed",children:[(0,Ct.jsx)("strong",{children:"Contributions:"}),' The Services may invite you to chat, contribute to, or participate in blogs, message boards, online forums, and other functionality during which you may create, submit, post, display, transmit, publish, distribute, or broadcast content and materials to us or through the Services, including but not limited to text, writings, video, audio, photographs, music, graphics, comments, reviews, rating suggestions, personal information, or other material ("Contributions"). Any Submission that is publicly posted shall also be treated as a Contribution.']}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"You understand that Contributions may be viewable by other users of the Services."}),(0,Ct.jsxs)("p",{className:"mb-4 leading-relaxed",children:[(0,Ct.jsx)("strong",{children:"When you post Contributions, you grant us a license (including use of your name, trademarks, and logos):"})," By posting any Contributions, you grant us an unrestricted, unlimited, irrevocable, perpetual, non-exclusive, transferable, royalty free, fully-paid, worldwide right, and license to: use, copy, reproduce, distribute, sell, resell, publish, broadcast, retitle, store, publicly perform, publicly display, reformat, translate, excerpt (in whole or in part), and exploit your Contributions (including, without limitation, your image, name, and voice) for any purpose, commercial, advertising, or otherwise, to prepare derivative works of, or incorporate into other works, your Contributions, and to sublicense the licenses granted in this section. Our use and distribution may occur in any media formats and through any media channels."]}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"This license includes our use of your name, company name, and franchise name, as applicable, and any of the trademarks, service marks, trade names, logos, and personal and commercial images you provide."}),(0,Ct.jsxs)("p",{className:"mb-4 leading-relaxed",children:[(0,Ct.jsx)("strong",{children:"You are responsible for what you post or upload:"})," By sending us Submissions and/or posting Contributions through any part of the Services or making Contributions accessible through the Services by linking your account through the Services to any of your social networking accounts, you:"]}),(0,Ct.jsxs)("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[(0,Ct.jsx)("li",{children:'confirm that you have read and agree with our "PROHIBITED ACTIVITIES" and will not post, send, publish, upload, or transmit through the Services any Submission nor post any Contribution that is illegal, harassing, hateful, harmful, defamatory, obscene, bullying, abusive, discriminatory, threatening to any person or group, sexually explicit, false, inaccurate, deceitful, or misleading;'}),(0,Ct.jsx)("li",{children:"to the extent permissible by applicable law, waive any and all moral rights to any such Submission and/or Contribution;"}),(0,Ct.jsx)("li",{children:"warrant that any such Submission and/or Contributions are original to you or that you have the necessary rights and licenses to submit such Submissions and/or Contributions and that you have full authority to grant us the above mentioned rights in relation to your Submissions and/or Contributions; and"}),(0,Ct.jsx)("li",{children:"warrant and represent that your Submissions and/or Contributions do not constitute confidential information."})]}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"You are solely responsible for your Submissions and/or Contributions and you expressly agree to reimburse us for any and all losses that we may suffer because of your breach of (a) this section, (b) any third party\u2019s intellectual property rights, or (c) applicable law."}),(0,Ct.jsxs)("p",{className:"mb-4 leading-relaxed",children:[(0,Ct.jsx)("strong",{children:"We may remove or edit your Content:"})," Although we have no obligation to monitor any Contributions, we shall have the right to remove or edit any Contributions at any time without notice if in our reasonable opinion we consider such Contributions harmful or in breach of these Legal Terms. If we remove or edit any such Contributions, we may also suspend or disable your account and report you to the authorities."]}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"3. USER REPRESENTATIONS"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"By using the Services, you represent and warrant that: (1) all registration information you submit will be true, accurate, current, and complete; (2) you will maintain the accuracy of such information and promptly update such registration information as necessary; (3) you have the legal capacity and you agree to comply with these Legal Terms; (4) you are not a minor in the jurisdiction in which you reside, or if a minor, you have received parental permission to use the Services; (5) you will not access the Services through automated or non-human means, whether through a bot, script or otherwise; (6) you will not use the Services for any illegal or unauthorized purpose; and (7) your use of the Services will not violate any applicable law or regulation."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"If you provide any information that is untrue, inaccurate, not current, or incomplete, we have the right to suspend or terminate your account and refuse any and all current or future use of the Services (or any portion thereof)."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"4. USER REGISTRATION"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"You may be required to register to use the Services. You agree to keep your password confidential and will be responsible for all use of your account and password. We reserve the right to remove, reclaim, or change a username you select if we determine, in our sole discretion, that such username is inappropriate, obscene, or otherwise objectionable."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"5. PRODUCTS"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We make every effort to display as accurately as possible the colors, features, specifications, and details of the products available on the Services. However, we do not guarantee that the colors, features, specifications, and details of the products will be accurate, complete, reliable, current, or free of other errors, and your electronic display may not accurately reflect the actual colors and details of the products. All products are subject to availability, and we cannot guarantee that items will be in stock. We reserve the right to discontinue any products at any time for any reason. Prices for all products are subject to change."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"6. PURCHASES AND PAYMENT"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We accept the following forms of payment:"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"You agree to provide current, complete, and accurate purchase and account information for all purchases made via the Services. You further agree to promptly update account and payment information, including email address, payment method, and payment card expiration date, so that we can complete your transactions and contact you as needed. Sales tax will be added to the price of purchases as deemed required by us. We may change prices at any time. All payments shall be in Rupees ."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"You agree to pay all charges at the prices then in effect for your purchases and any applicable shipping fees, and you authorize us to charge your chosen payment provider for any such amounts upon placing your order. We reserve the right to correct any errors or mistakes in pricing, even if we have already requested or received payment."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We reserve the right to refuse any order placed through the Services. We may, in our sole discretion, limit or cancel quantities purchased per person, per household, or per order. These restrictions may include orders placed by or under the same customer account, the same payment method, and/or orders that use the same billing or shipping address. We reserve the right to limit or prohibit orders that, in our sole judgment, appear to be placed by dealers, resellers, or distributors."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"7. RETURN POLICY"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"All sales are final and no refund will be issued."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"8. PROHIBITED ACTIVITIES"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"You may not access or use the Services for any purpose other than that for which we make the Services available. The Services may not be used in connection with any commercial endeavors except those that are specifically endorsed or approved by us."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"As a user of the Services, you agree not to:"}),(0,Ct.jsxs)("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[(0,Ct.jsx)("li",{children:"Systematically retrieve data or other content from the Services to create or compile, directly or indirectly, a collection, compilation, database, or directory without written permission from us."}),(0,Ct.jsx)("li",{children:"Trick, defraud, or mislead us and other users, especially in any attempt to learn sensitive account information such as user passwords."}),(0,Ct.jsx)("li",{children:"Circumvent, disable, or otherwise interfere with security-related features of the Services, including features that prevent or restrict the use or copying of any Content or enforce limitations on the use of the Services and/or the Content contained therein."}),(0,Ct.jsx)("li",{children:"Disparage, tarnish, or otherwise harm, in our opinion, us and/or the Services."}),(0,Ct.jsx)("li",{children:"Use any information obtained from the Services in order to harass, abuse, or harm another person."}),(0,Ct.jsx)("li",{children:"Make improper use of our support services or submit false reports of abuse or misconduct."}),(0,Ct.jsx)("li",{children:"Use the Services in a manner inconsistent with any applicable laws or regulations."}),(0,Ct.jsx)("li",{children:"Engage in unauthorized framing of or linking to the Services."}),(0,Ct.jsx)("li",{children:"Upload or transmit (or attempt to upload or to transmit) viruses, Trojan horses, or other material, including excessive use of capital letters and spamming"}),(0,Ct.jsx)("li",{children:"Delete the copyright or other proprietary rights notice from any Content."}),(0,Ct.jsx)("li",{children:"Attempt to impersonate another user or person or use the username of another user."}),(0,Ct.jsx)("li",{children:'Upload or transmit (or attempt to upload or to transmit) any material that acts as a passive or active information collection or transmission mechanism, including without limitation, clear graphics interchange formats ("gifs"), 1\xd71 pixels, web bugs, cookies, or other similar devices (sometimes referred to as "spyware" or "passive collection mechanisms" or "pcms").'}),(0,Ct.jsx)("li",{children:"Interfere with, disrupt, or create an undue burden on the Services or the networks or services connected to the Services."}),(0,Ct.jsx)("li",{children:"Harass, annoy, intimidate, or threaten any of our employees or agents engaged in providing any portion of the Services to you."}),(0,Ct.jsx)("li",{children:"Attempt to bypass any measures of the Services designed to prevent or restrict access to the Services, or any portion of the Services."}),(0,Ct.jsx)("li",{children:"Copy or adapt the Services' software, including but not limited to Flash, PHP, HTML, JavaScript, or other code."}),(0,Ct.jsx)("li",{children:"Except as permitted by applicable law, decipher, decompile, disassemble, or reverse engineer any of the software comprising or in any way making up a part of the Services."}),(0,Ct.jsx)("li",{children:"Except as may be the result of standard search engine or Internet browser usage, use, launch, develop, or distribute any automated system, including without limitation, any spider, robot, cheat utility, scraper, or offline reader that accesses the Services, or use or launch any unauthorized script or other software."}),(0,Ct.jsx)("li",{children:"Use a buying agent or purchasing agent to make purchases on the Services."}),(0,Ct.jsx)("li",{children:"Make any unauthorized use of the Services, including collecting usernames and/or email addresses of users by electronic or other means for the purpose of sending unsolicited email, or creating user accounts by automated means or under false pretenses."}),(0,Ct.jsx)("li",{children:"Use the Services as part of any effort to compete with us or otherwise use the Services and/or the Content for any revenue-generating endeavor or commercial enterprise."}),(0,Ct.jsx)("li",{children:"Use the Services to advertise or offer to sell goods and services."}),(0,Ct.jsx)("li",{children:"Sell or otherwise transfer your profile."})]}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"9. USER GENERATED CONTRIBUTIONS"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:'The Services may invite you to chat, contribute to, or participate in blogs, message boards, online forums, and other functionality, and may provide you with the opportunity to create, submit, post, display, transmit, perform, publish, distribute, or broadcast content and materials to us or on the Services, including but not limited to text, writings, video, audio, photographs, graphics, comments, suggestions, or personal information or other material (collectively, "Contributions"). Contributions may be viewable by other users of the Services and through third-party websites. As such, any Contributions you transmit may be treated as non-confidential and non proprietary. When you create or make available any Contributions, you thereby represent and warrant that:'}),(0,Ct.jsxs)("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[(0,Ct.jsx)("li",{children:"The creation, distribution, transmission, public display, or performance, and the accessing, downloading, or copying of your Contributions do not and will not infringe the proprietary rights, including but not limited to the copyright, patent, trademark, trade secret, or moral rights of any third party."}),(0,Ct.jsx)("li",{children:"You are the creator and owner of or have the necessary licenses, rights, consents, releases, and permissions to use and to authorize us, the Services, and other users of the Services to use your Contributions in any manner contemplated by the Services and these Legal Terms."}),(0,Ct.jsx)("li",{children:"You have the written consent, release, and/or permission of each and every identifiable individual person in your Contributions to use the name or likeness of each and every such identifiable individual person to enable inclusion and use of your Contributions in any manner contemplated by the Services and these Legal Terms."}),(0,Ct.jsx)("li",{children:"Your Contributions are not false, inaccurate, or misleading."}),(0,Ct.jsx)("li",{children:"Your Contributions are not unsolicited or unauthorized advertising, promotional materials, pyramid schemes, chain letters, spam, mass mailings, or other forms of solicitation."}),(0,Ct.jsx)("li",{children:"Your Contributions are not obscene, lewd, lascivious, filthy, violent, harassing, libelous, slanderous, or otherwise objectionable (as determined by us)."}),(0,Ct.jsx)("li",{children:"Your Contributions do not ridicule, mock, disparage, intimidate, or abuse anyone."}),(0,Ct.jsx)("li",{children:"Your Contributions are not used to harass or threaten (in the legal sense of those terms) any other person and to promote violence against a specific person or class of people."}),(0,Ct.jsx)("li",{children:"Your Contributions do not violate any applicable law, regulation, or rule."}),(0,Ct.jsx)("li",{children:"Your Contributions do not violate the privacy or publicity rights of any third party."}),(0,Ct.jsx)("li",{children:"Your Contributions do not violate any applicable law concerning child pornography, or otherwise intended to protect the health or well-being of minors."}),(0,Ct.jsx)("li",{children:"Your Contributions do not include any offensive comments that are connected to race, national origin, gender, sexual preference, or physical handicap."}),(0,Ct.jsx)("li",{children:"Your Contributions do not otherwise violate, or link to material that violates, any provision of these Legal Terms, or any applicable law or regulation."})]}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"Any use of the Services in violation of the foregoing violates these Legal Terms and may result in, among other things, termination or suspension of your rights to use the Services."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"10. CONTRIBUTION LICENSE"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"By posting your Contributions to any part of the Services, you automatically grant, and you represent and warrant that you have the right to grant, to us an unrestricted, unlimited, irrevocable, perpetual, non-exclusive, transferable, royalty-free, fully-paid, worldwide right, and license to host, use, copy, reproduce, disclose, sell, resell, publish, broadcast, retitle, archive, store, cache, publicly perform, publicly display, reformat, translate, transmit, excerpt (in whole or in part), and distribute such Contributions (including, without limitation, your image and voice) for any purpose, commercial, advertising, or otherwise, and to prepare derivative works of, or incorporate into other works, such Contributions, and grant and authorize sublicenses of the foregoing. The use and distribution may occur in any media formats and through any media channels."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"This license will apply to any form, media, or technology now known or hereafter developed, and includes our use of your name, company name, and franchise name, as applicable, and any of the trademarks, service marks, trade names, logos, and personal and commercial images you provide. You waive all moral rights in your Contributions, and you warrant that moral rights have not otherwise been asserted in your Contributions."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We do not assert any ownership over your Contributions. You retain full ownership of all of your Contributions and any intellectual property rights or other proprietary rights associated with your Contributions. We are not liable for any statements or representations in your Contributions provided by you in any area on the Services. You are solely responsible for your Contributions to the Services and you expressly agree to exonerate us from any and all responsibility and to refrain from any legal action against us regarding your Contributions."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We have the right, in our sole and absolute discretion, (1) to edit, redact, or otherwise change any Contributions; (2) to re-categorize any Contributions to place them in more appropriate locations on the Services; and (3) to pre-screen or delete any Contributions at any time and for any reason, without notice. We have no obligation to monitor your Contributions."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"11. GUIDELINES FOR REVIEWS"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We may provide you areas on the Services to leave reviews or ratings. When posting a review, you must comply with the following criteria: (1) you should have firsthand experience with the person/entity being reviewed; (2) your reviews should not contain offensive profanity, or abusive, racist, offensive, or hateful language; (3) your reviews should not contain discriminatory references based on religion, race, gender, national origin, age, marital status, sexual orientation, or disability; (4) your reviews should not contain references to illegal activity; (5) you should not be affiliated with competitors if posting negative reviews; (6) you should not make any conclusions as to the legality of conduct; (7) you may not post any false or misleading statements; and (8) you may not organize a campaign encouraging others to post reviews, whether positive or negative."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We may accept, reject, or remove reviews in our sole discretion. We have absolutely no obligation to screen reviews or to delete reviews, even if anyone considers reviews objectionable or inaccurate. Reviews are not endorsed by us, and do not necessarily represent our opinions or the views of any of our affiliates or partners. We do not assume liability for any review or for any claims, liabilities, or losses resulting from any review. By posting a review, you hereby grant to us a perpetual, non exclusive, worldwide, royalty-free, fully paid, assignable, and sublicensable right and license to reproduce, modify, translate, transmit by any means, display, perform, and/or distribute all content relating to review."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"12. MOBILE APPLICATION LICENSE"}),(0,Ct.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:"Use License"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"If you access the Services via the App, then we grant you a revocable, non-exclusive, non-transferable, limited right to install and use the App on wireless electronic devices owned or controlled by you, and to access and use the App on such devices strictly in accordance with the terms and conditions of this mobile application license contained in these Legal Terms. You shall not: (1) except as permitted by applicable law, decompile, reverse engineer, disassemble, attempt to derive the source code of, or decrypt the App; (2) make any modification, adaptation, improvement, enhancement, translation, or derivative work from the App; (3) violate any applicable laws, rules, or regulations in connection with your access or use of the App; (4) remove, alter, or obscure any proprietary notice (including any notice of copyright or trademark) posted by us or the licensors of the App; (5) use the App for any revenue generating endeavor, commercial enterprise, or other purpose for which it is not designed or intended; (6) make the App available over a network or other environment permitting access or use by multiple devices or users at the same time; (7) use the App for creating a product, service, or software that is, directly or indirectly, competitive with or in any way a substitute for the App; (8) use the App to send automated queries to any website or to send any unsolicited commercial email; or (9) use any proprietary information or any of our interfaces or our other intellectual property in the design, development, manufacture, licensing, or distribution of any applications, accessories, or devices for use with the App."}),(0,Ct.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:"Apple and Android Devices"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:'The following terms apply when you use the App obtained from either the Apple Store or Google Play (each an "App Distributor") to access the Services: (1) the license granted to you for our App is limited to a non-transferable license to use the application on a device that utilizes the Apple iOS or Android operating systems, as applicable, and in accordance with the usage rules set forth in the applicable App Distributor\u2019s terms of service; (2) we are responsible for providing any maintenance and support services with respect to the App as specified in the terms and conditions of this mobile application license contained in these Legal Terms or as otherwise required under applicable law, and you acknowledge that each App Distributor has no obligation whatsoever to furnish any maintenance and support services with respect to the App; (3) in the event of any failure of the App to conform to any applicable warranty, you may notify the applicable App Distributor, and the App Distributor, in accordance with its terms and policies, may refund the purchase price, if any, paid for the App, and to the maximum extent permitted by applicable law, the App Distributor will have no other warranty obligation whatsoever with respect to the App; (4) you represent and warrant that (i) you are not located in a country that is subject to a US government embargo, or that has been designated by the US government as a "terrorist supporting" country and (ii) you are not listed on any US government list of prohibited or restricted parties; (5) you must comply with applicable third-party terms of agreement when using the App, e.g., if you have a VoIP application, then you must not be in violation of their wireless data service agreement when using the App; and (6) you acknowledge and agree that the App Distributors are third-party beneficiaries of the terms and conditions in this mobile application license contained in these Legal Terms, and that each App Distributor will have the right (and will be deemed to have accepted the right) to enforce the terms and conditions in this mobile application license contained in these Legal Terms against you as a third-party beneficiary thereof'}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"13. ADVERTISERS"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We allow advertisers to display their advertisements and other information in certain areas of the Services, such as sidebar advertisements or banner advertisements. We simply provide the space to place such advertisements, and we have no other relationship with advertisers."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"14. SERVICES MANAGEMENT"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We reserve the right, but not the obligation, to: (1) monitor the Services for violations of these Legal Terms; (2) take appropriate legal action against anyone who, in our sole discretion, violates the law or these Legal Terms, including without limitation, reporting such user to law enforcement authorities; (3) in our sole discretion and without limitation, refuse, restrict access to, limit the availability of, or disable (to the extent technologically feasible) any of your Contributions or any portion thereof; (4) in our sole discretion and without limitation, notice, or liability, to remove from the Services or otherwise disable all files and content that are excessive in size or are in any way burdensome to our systems; and (5) otherwise manage the Services in a manner designed to protect our rights and property and to facilitate the proper functioning of the Services."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"15. PRIVACY POLICY"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We care about data privacy and security. By using the Services, you agree to be bound by our Privacy Policy posted on the Services, which is incorporated into these Legal Terms. Please be advised the Services are hosted in India. If you access the Services from any other region of the world with laws or other requirements governing personal data collection, use, or disclosure that differ from applicable laws in India, then through your continued use of the Services, you are transferring your data to India, and you expressly consent to have your data transferred to and processed in India."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"16. TERM AND TERMINATION"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"These Legal Terms shall remain in full force and effect while you use the Services. WITHOUT LIMITING ANY OTHER PROVISION OF THESE LEGAL TERMS, WE RESERVE THE RIGHT TO, IN OUR SOLE DISCRETION AND WITHOUT NOTICE OR LIABILITY, DENY ACCESS TO AND USE OF THE SERVICES (INCLUDING BLOCKING CERTAIN IP ADDRESSES), TO ANY PERSON FOR ANY REASON OR FOR NO REASON, INCLUDING WITHOUT LIMITATION FOR BREACH OF ANY REPRESENTATION, WARRANTY, OR COVENANT CONTAINED IN THESE LEGAL TERMS OR OF ANY APPLICABLE LAW OR REGULATION. WE MAY TERMINATE YOUR USE OR PARTICIPATION IN THE SERVICES OR DELETE YOUR ACCOUNT AND ANY CONTENT OR INFORMATION THAT YOU POSTED AT ANY TIME, WITHOUT WARNING, IN OUR SOLE DISCRETION."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"If we terminate or suspend your account for any reason, you are prohibited from registering and creating a new account under your name, a fake or borrowed name, or the name of any third party, even if you may be acting on behalf of the third party. In addition to terminating or suspending your account, we reserve the right to take appropriate legal action, including without limitation pursuing civil, criminal, and injunctive redress."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"17. MODIFICATIONS AND INTERRUPTIONS"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We reserve the right to change, modify, or remove the contents of the Services at any time or for any reason at our sole discretion without notice. However, we have no obligation to update any information on our Services. We also reserve the right to modify or discontinue all or part of the Services without notice at any time. We will not be liable to you or any third party for any modification, price change, suspension, or discontinuance of the Services."}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We cannot guarantee the Services will be available at all times. We may experience hardware, software, or other problems or need to perform maintenance related to the Services, resulting in interruptions, delays, or errors. We reserve the right to change, revise, update, suspend, discontinue, or otherwise modify the Services at any time or for any reason without notice to you. You agree that we have no liability whatsoever for any loss, damage, or inconvenience caused by your inability to access or use the Services during any downtime or discontinuance of the Services. Nothing in these Legal Terms will be construed to obligate us to maintain and support the Services or to supply any corrections, updates, or releases in connection therewith."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"18. GOVERNING LAW"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"These Legal Terms shall be governed by and defined following the laws of India. bukizz and yourself irrevocably consent that the courts of India shall have exclusive jurisdiction to resolve any dispute which may arise in connection with these Legal Terms."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"19. DISPUTE RESOLUTION"}),(0,Ct.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:"Informal Negotiations"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:'To expedite resolution and control the cost of any dispute, controversy, or claim related to these Legal Terms (each a "Dispute" and collectively, the "Disputes") brought by either you or us (individually, a "Party" and collectively, the "Parties"), the Parties agree to first attempt to negotiate any Dispute (except those Disputes expressly provided below) informally for at least sixty (60) days before initiating arbitration. Such informal negotiations commence upon written notice from one Party to the other Party.'}),(0,Ct.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:"Binding Arbitration"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"Any dispute arising out of or in connection with these Legal Terms, including any question regarding its existence, validity, or termination, shall be referred to and finally resolved by the International Commercial Arbitration Court under the European Arbitration Chamber (Belgium, Brussels, Avenue Louise, 146) according to the Rules of this ICAC, which, as a result of referring to it, is considered as the part of this clause. The number of arbitrators shall be two (2). The seat, or legal place, or arbitration shall be KANPUR, India. The language of the proceedings shall be hindi/english. The governing law of these Legal Terms shall be substantive law of India."}),(0,Ct.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:"Restrictions"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"The Parties agree that any arbitration shall be limited to the Dispute between the Parties individually. To the full extent permitted by law, (a) no arbitration shall be joined with any other proceeding; (b) there is no right or authority for any Dispute to be arbitrated on a class-action basis or to utilize class action procedures; and (c) there is no right or authority for any Dispute to be brought in a purported representative capacity on behalf of the general public or any other persons."}),(0,Ct.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:"Exceptions to Informal Negotiations and Arbitration"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"The Parties agree that the following Disputes are not subject to the above provisions concerning informal negotiations binding arbitration: (a) any Disputes seeking to enforce or protect, or concerning the validity of, any of the intellectual property rights of a Party; (b) any Dispute related to, or arising from, allegations of theft, piracy, invasion of privacy, or unauthorized use; and (c) any claim for injunctive relief. If this provision is found to be illegal or unenforceable, then neither Party will elect to arbitrate any Dispute falling within that portion of this provision found to be illegal or unenforceable and such Dispute shall be decided by a court of competent jurisdiction within the courts listed for jurisdiction above, and the Parties agree to submit to the personal jurisdiction of that court."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"20. CORRECTIONS"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"There may be information on the Services that contains typographical errors, inaccuracies, or omissions, including descriptions, pricing, availability, and various other information. We reserve the right to correct any errors, inaccuracies, or omissions and to change or update the information on the Services at any time, without prior notice."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"21. DISCLAIMER"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"THE SERVICES ARE PROVIDED ON AN AS-IS AND AS-AVAILABLE BASIS. YOU AGREE THAT YOUR USE OF THE SERVICES WILL BE AT YOUR SOLE RISK. TO THE FULLEST EXTENT PERMITTED BY LAW, WE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, IN CONNECTION WITH THE SERVICES AND YOUR USE THEREOF, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON INFRINGEMENT. WE MAKE NO WARRANTIES OR REPRESENTATIONS ABOUT THE ACCURACY OR COMPLETENESS OF THE SERVICES' CONTENT OR THE CONTENT OF ANY WEBSITES OR MOBILE APPLICATIONS LINKED TO THE SERVICES AND WE WILL ASSUME NO LIABILITY OR RESPONSIBILITY FOR ANY (1) ERRORS, MISTAKES, OR INACCURACIES OF CONTENT AND MATERIALS, (2) PERSONAL INJURY OR PROPERTY DAMAGE, OF ANY NATURE WHATSOEVER, RESULTING FROM YOUR ACCESS TO AND USE OF THE SERVICES, (3) ANY UNAUTHORIZED ACCESS TO OR USE OF OUR SECURE SERVERS AND/OR ANY AND ALL PERSONAL INFORMATION AND/OR FINANCIAL INFORMATION STORED THEREIN, (4) ANY INTERRUPTION OR CESSATION OF TRANSMISSION TO OR FROM THE SERVICES, (5) ANY BUGS, VIRUSES, TROJAN HORSES, OR THE LIKE WHICH MAY BE TRANSMITTED TO OR THROUGH THE SERVICES BY ANY THIRD PARTY, AND/OR (6) ANY ERRORS OR OMISSIONS IN ANY CONTENT AND MATERIALS OR FOR ANY LOSS OR DAMAGE OF ANY KIND INCURRED AS A RESULT OF THE USE OF ANY CONTENT POSTED, TRANSMITTED, OR OTHERWISE MADE AVAILABLE VIA THE SERVICES. WE DO NOT WARRANT, ENDORSE, GUARANTEE, OR ASSUME RESPONSIBILITY FOR ANY PRODUCT OR SERVICE ADVERTISED OR OFFERED BY A THIRD PARTY THROUGH THE SERVICES, ANY HYPERLINKED WEBSITE, OR ANY WEBSITE OR MOBILE APPLICATION FEATURED IN ANY BANNER OR OTHER ADVERTISING, AND WE WILL NOT BE A PARTY TO OR IN ANY WAY BE RESPONSIBLE FOR MONITORING ANY TRANSACTION BETWEEN YOU AND ANY THIRD-PARTY PROVIDERS OF PRODUCTS OR SERVICES. AS WITH THE PURCHASE OF A PRODUCT OR SERVICE THROUGH ANY MEDIUM OR IN ANY ENVIRONMENT, YOU SHOULD USE YOUR BEST JUDGMENT AND EXERCISE CAUTION WHERE APPROPRIATE."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"22. LIMITATIONS OF LIABILITY"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"IN NO EVENT WILL WE OR OUR DIRECTORS, EMPLOYEES, OR AGENTS BE LIABLE TO YOU OR ANY THIRD PARTY FOR ANY DIRECT, INDIRECT, CONSEQUENTIAL, EXEMPLARY, INCIDENTAL, SPECIAL, OR PUNITIVE DAMAGES, INCLUDING LOST PROFIT, LOST REVENUE, LOSS OF DATA, OR OTHER DAMAGES ARISING FROM YOUR USE OF THE SERVICES, EVEN IF WE HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. NOTWITHSTANDING ANYTHING TO THE CONTRARY CONTAINED HEREIN, OUR LIABILITY TO YOU FOR ANY CAUSE WHATSOEVER AND REGARDLESS OF THE FORM OF THE ACTION, WILL AT ALL TIMES BE LIMITED TO THE AMOUNT PAID, IF ANY, BY YOU TO US DURING THE ONE (1) MONTH PERIOD PRIOR TO ANY CAUSE OF ACTION ARISING. CERTAIN US STATE LAWS AND INTERNATIONAL LAWS DO NOT ALLOW LIMITATIONS ON IMPLIED WARRANTIES OR THE EXCLUSION OR LIMITATION OF CERTAIN DAMAGES. IF THESE LAWS APPLY TO YOU, SOME OR ALL OF THE ABOVE DISCLAIMERS OR LIMITATIONS MAY NOT APPLY TO YOU, AND YOU MAY HAVE ADDITIONAL RIGHTS."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"23. INDEMNIFICATION"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"You agree to defend, indemnify, and hold us harmless, including our subsidiaries, affiliates, and all of our respective officers, agents, partners, and employees, from and against any loss, damage, liability, claim, or demand, including reasonable attorneys\u2019 fees and expenses, made by any third party due to or arising out of: (1) your Contributions; (2) use of the Services; (3) breach of these Legal Terms; (4) any breach of your representations and warranties set forth in these Legal Terms; (5) your violation of the rights of a third party, including but not limited to intellectual property rights; or (6) any overt harmful act toward any other user of the Services with whom you connected via the Services. Notwithstanding the foregoing, we reserve the right, at your expense, to assume the exclusive defense and control of any matter for which you are required to indemnify us, and you agree to cooperate, at your expense, with our defense of such claims. We will use reasonable efforts to notify you of any such claim, action, or proceeding which is subject to this indemnification upon becoming aware of it."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"24. USER DATA"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We will maintain certain data that you transmit to the Services for the purpose of managing the performance of the Services, as well as data relating to your use of the Services. Although we perform regular routine backups of data, you are solely responsible for all data that you transmit or that relates to any activity you have undertaken using the Services. You agree that we shall have no liability to you for any loss or corruption of any such data, and you hereby waive any right of action against us arising from any such loss or corruption of such data."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"25. ELECTRONIC COMMUNICATIONS, TRANSACTIONS, AND SIGNATURES"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"Visiting the Services, sending us emails, and completing online forms constitute electronic communications. You consent to receive electronic communications, and you agree that all agreements, notices, disclosures, and other communications we provide to you electronically, via email and on the Services, satisfy any legal requirement that such communication be in writing. YOU HEREBY AGREE TO THE USE OF ELECTRONIC SIGNATURES, CONTRACTS, ORDERS, AND OTHER RECORDS, AND TO ELECTRONIC DELIVERY OF NOTICES, POLICIES, AND RECORDS OF TRANSACTIONS INITIATED OR COMPLETED BY US OR VIA THE SERVICES. You hereby waive any rights or requirements under any statutes, regulations, rules, ordinances, or other laws in any jurisdiction which require an original signature or delivery or retention of non-electronic records, or to payments or the granting of credits by any means other than electronic means."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"26. MISCELLANEOUS"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"These Legal Terms and any policies or operating rules posted by us on the Services or in respect to the Services constitute the entire agreement and understanding between you and us. Our failure to exercise or enforce any right or provision of these Legal Terms shall not operate as a waiver of such right or provision. These Legal Terms operate to the fullest extent permissible by law. We may assign any or all of our rights and obligations to others at any time. We shall not be responsible or liable for any loss, damage, delay, or failure to act caused by any cause beyond our reasonable control. If any provision or part of a provision of these Legal Terms is determined to be unlawful, void, or unenforceable, that provision or part of the provision is deemed severable from these Legal Terms and does not affect the validity and enforceability of any remaining provisions. There is no joint venture, partnership, employment or agency relationship created between you and us as a result of these Legal Terms or use of the Services. You agree that these Legal Terms will not be construed against us by virtue of having drafted them. You hereby waive any and all defenses you may have based on the electronic form of these Legal Terms and the lack of signing by the parties hereto to execute these Legal Terms."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"27. CONTACT US"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"In order to resolve a complaint regarding the Services or to receive further information regarding use of the Services, please contact us at:"}),(0,Ct.jsxs)("div",{className:"font-semibold text-gray-800",children:[(0,Ct.jsx)("p",{children:"bukizz"}),(0,Ct.jsx)("p",{children:"MOHAN VILA APARTMENT"}),(0,Ct.jsx)("p",{children:"GEETA NAGAR"}),(0,Ct.jsx)("p",{children:"KANPUR, Uttar Pradesh 208025"}),(0,Ct.jsx)("p",{children:"India"}),(0,Ct.jsx)("p",{children:"Phone: 09369467134"}),(0,Ct.jsx)("p",{children:"bukizzstore@gmail.com"})]})]})]}),ri=()=>(0,Ct.jsxs)("div",{className:"min-h-screen bg-[#F3F8FF] px-4 md:px-12 py-8 font-nunito",children:[(0,Ct.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Privacy Policy"}),(0,Ct.jsxs)("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-sm text-gray-600",children:[(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"Your privacy is important to us. This policy explains how Bukizz collects, uses, and protects your personal information."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Information We Collect"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We collect information you provide directly to us, such as your name, email address, phone number, and delivery address when you create an account or place an order."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"How We Use Your Information"}),(0,Ct.jsxs)("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[(0,Ct.jsx)("li",{children:"To process and deliver your orders."}),(0,Ct.jsx)("li",{children:"To communicate with you regarding your account and orders."}),(0,Ct.jsx)("li",{children:"To improve our services and user experience."})]}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Data Sharing"}),(0,Ct.jsx)("p",{className:"mb-4 leading-relaxed",children:"We do not sell your personal information. We may share data with trusted third-party service providers (e.g., shipping partners, payment gateways) solely for the purpose of fulfilling your orders."}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Security"}),(0,Ct.jsx)("p",{className:"leading-relaxed",children:"We employ security measures to protect your information from unauthorized access or disclosure."})]})]}),ai=t=>{let{isOpen:r,onClose:n}=t;const[s,i]=(0,e.useState)(!0),[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)({email:"",password:"",name:""}),[u,h]=(0,e.useState)(!1),p=le(),{login:m,signup:f,forgotPassword:g,clearError:y,redirectPath:v,setRedirectPath:b}=(0,Jt.default)(),{showError:x,showSuccess:w,showInfo:S}=sr(),k=e=>{d((0,a.A)((0,a.A)({},c),{},{[e.target.name]:e.target.value}))},j=e=>{i(e),l(!1)};return r?(0,Ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ct.jsxs)("div",{className:"flex w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden rounded-lg",children:[(0,Ct.jsxs)("div",{className:"w-full md:w-1/2 p-8 bg-white rounded-l-lg md:rounded-r-none rounded-r-lg",children:[(0,Ct.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ct.jsx)("img",{src:"/Logo.svg",alt:"Bukizz Logo",className:"h-10"}),(0,Ct.jsx)("button",{onClick:()=>{n(),d({email:"",password:"",name:""}),l(!1),i(!0),y()},className:"text-gray-500 hover:text-gray-700 text-xl font-bold",children:"\u2715"})]}),!o&&(0,Ct.jsxs)("div",{className:"flex mb-6",children:[(0,Ct.jsx)("button",{type:"button",className:"flex-1 py-2 px-4 rounded-l-lg transition-colors ".concat(s?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),onClick:()=>j(!0),children:"Login"}),(0,Ct.jsx)("button",{type:"button",className:"flex-1 py-2 px-4 rounded-r-lg transition-colors ".concat(s?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white"),onClick:()=>j(!1),children:"Sign Up"})]}),o&&(0,Ct.jsxs)("div",{className:"mb-6",children:[(0,Ct.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Reset Password"}),(0,Ct.jsx)("p",{className:"text-gray-600 text-sm",children:"Enter your email address and we'll send you a link to reset your password."})]}),(0,Ct.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(!0);try{if(o)await g(c.email),w("Password Reset Email Sent","Please check your inbox and follow the instructions to reset your password.",{duration:6e3}),l(!1),d({email:"",password:"",name:""});else if(s){await m(c.email,c.password),w("Welcome Back!","You have been successfully logged in.",{duration:3e3});const e=Jt.default.getState().redirectPath;if(e)return console.log("Redirecting to:",e),p(e),b(null),void n();setTimeout(()=>{n(),d({email:"",password:"",name:""})},1e3)}else await f(c.email,c.password,c.name),w("Registration Successful!","Please check your email for verification instructions.",{duration:6e3}),S("Next Step","You can now log in with your credentials after email verification.",{duration:4e3}),setTimeout(()=>{i(!0),d({email:c.email,password:"",name:""})},2e3)}catch(t){const e=t.message||"An unexpected error occurred";e.toLowerCase().includes("invalid")||e.toLowerCase().includes("credential")||e.toLowerCase().includes("password")?x("Invalid Credentials","Please check your email and password and try again."):e.toLowerCase().includes("email")&&e.toLowerCase().includes("exist")?x("Email Already Exists","This email is already registered. Please try logging in instead."):e.toLowerCase().includes("network")||e.toLowerCase().includes("fetch")?x("Connection Error","Please check your internet connection and try again."):e.toLowerCase().includes("verification")?x("Email Verification Required","Please verify your email before logging in."):x("Authentication Failed",e)}finally{h(!1)}},children:[!s&&!o&&(0,Ct.jsxs)("div",{className:"mb-4",children:[(0,Ct.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Full Name"}),(0,Ct.jsx)("input",{type:"text",name:"name",value:c.name,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!s,disabled:u,placeholder:"Enter your full name"})]}),(0,Ct.jsxs)("div",{className:"mb-4",children:[(0,Ct.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Email Address"}),(0,Ct.jsx)("input",{type:"email",name:"email",value:c.email,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:u,placeholder:"Enter your email"})]}),!o&&(0,Ct.jsxs)("div",{className:"mb-6",children:[(0,Ct.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Password"}),(0,Ct.jsx)("input",{type:"password",name:"password",value:c.password,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:u,placeholder:"Enter your password",minLength:6})]}),(0,Ct.jsxs)("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-full hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2 font-medium text-lg",children:[s&&!u&&!o&&(0,Ct.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,Ct.jsx)("span",{children:u?"Loading...":o?"Send Reset Email":s?"Login":"Sign Up"})]})]}),(0,Ct.jsx)("div",{className:"mt-4 text-center",children:o?(0,Ct.jsx)("button",{type:"button",onClick:()=>{l(!1)},className:"text-blue-600 hover:text-blue-800 text-sm transition-colors",disabled:u,children:"\u2190 Back to Login"}):(0,Ct.jsxs)(Ct.Fragment,{children:[s&&(0,Ct.jsx)("button",{type:"button",onClick:()=>{l(!0)},className:"text-blue-600 hover:text-blue-800 text-sm transition-colors",disabled:u,children:"Forgot Password?"}),!s&&(0,Ct.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"By signing up, you agree to our Terms of Service and Privacy Policy."})]})})]}),(0,Ct.jsx)("div",{className:"hidden md:block md:w-1/2 rounded-r-lg overflow-hidden",children:(0,Ct.jsx)("img",{src:"/login_model.svg",alt:"Login Illustration",className:"h-full w-full object-cover"})})]})}):null},ni=_t("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),si=_t("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),ii=_t("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),oi=_t("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),li=e=>{let{isOpen:t,onClose:r}=e;const a=le(),{user:n,logout:s,setModalOpen:i,setRedirectPath:o}=(0,Jt.default)(),l=e=>{if(["/orders","/profile"].some(t=>e.startsWith(t))&&!n)return o(e),i(!0),void r();a(e),r()},c=(null===n||void 0===n?void 0:n.full_name)||(null===n||void 0===n?void 0:n.name)||"Guest User",d=(null===n||void 0===n?void 0:n.phone)||"+91 XXXXXXXXXX";return(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"fixed inset-x-0 bottom-0 top-[56px] bg-black/50 z-40 transition-opacity duration-300 md:hidden ".concat(t?"opacity-100":"opacity-0 pointer-events-none"),onClick:r}),(0,Ct.jsxs)("div",{className:"fixed top-[56px] md:top-0 left-0 h-[calc(100vh-56px)] w-[85%] max-w-[320px] bg-white z-50 transform transition-transform duration-300 ease-in-out md:hidden flex flex-col ".concat(t?"translate-x-0":"-translate-x-full"),children:[(0,Ct.jsx)("div",{className:"bg-[#39A7FF] p-4 text-white",children:(0,Ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ct.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center text-xl font-bold border-2 border-white/30 backdrop-blur-sm",children:(0,Ct.jsx)("span",{className:"text-white",children:(u=c,u?u.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U")})}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsxs)("p",{className:"font-semibold text-lg",children:["Hello, ",c]}),(0,Ct.jsx)("p",{className:"text-xs text-blue-100",children:d})]})]})}),(0,Ct.jsxs)("div",{className:"flex-1 overflow-y-auto py-2",children:[(0,Ct.jsxs)("button",{onClick:()=>l("/orders"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 border-b border-gray-100",children:[(0,Ct.jsxs)("div",{className:"flex items-center gap-3 text-gray-700",children:[(0,Ct.jsx)(Ds,{size:20,className:"text-gray-500"}),(0,Ct.jsx)("span",{className:"font-medium",children:"My Orders"})]}),(0,Ct.jsx)(Et,{size:16,className:"text-gray-400"})]}),(0,Ct.jsx)("div",{className:"mt-4 px-4 pb-2",children:(0,Ct.jsx)("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Account Settings"})}),(0,Ct.jsxs)("button",{onClick:()=>l("/profile?tab=profile"),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 text-gray-700",children:[(0,Ct.jsx)(Ms,{size:20,className:"text-gray-500"}),(0,Ct.jsx)("span",{className:"font-medium",children:"Profile Information"})]}),(0,Ct.jsxs)("button",{onClick:()=>l("/profile?tab=addresses"),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 text-gray-700",children:[(0,Ct.jsx)(ni,{size:20,className:"text-gray-500"}),(0,Ct.jsx)("span",{className:"font-medium",children:"Manage Addresses"})]}),(0,Ct.jsx)("div",{className:"mt-4 px-4 pb-2",children:(0,Ct.jsx)("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"My Stuff"})}),(0,Ct.jsxs)("button",{onClick:()=>l("/profile?tab=city"),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-gray-50 text-gray-700",children:[(0,Ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ct.jsx)(si,{size:20,className:"text-gray-500"}),(0,Ct.jsx)("span",{className:"font-medium",children:"My City"})]}),(0,Ct.jsx)("span",{className:"text-xs font-bold text-blue-500 bg-blue-50 px-2 py-1 rounded",children:localStorage.getItem("selectedCity")?localStorage.getItem("selectedCity").toUpperCase():"GURGAON"})]}),(0,Ct.jsxs)("button",{onClick:()=>l("/notifications"),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 text-gray-700",children:[(0,Ct.jsx)(ii,{size:20,className:"text-gray-500"}),(0,Ct.jsx)("span",{className:"font-medium",children:"All Notifications"})]})]}),(0,Ct.jsxs)("div",{className:"p-4 border-t border-gray-100",children:[(0,Ct.jsxs)("button",{onClick:()=>{s(),r(),a("/")},disabled:!n,className:"flex items-center gap-3 font-medium w-full p-2 rounded transition-colors ".concat(n?"text-red-500 hover:bg-red-50":"text-gray-400 cursor-not-allowed"),children:[(0,Ct.jsx)(oi,{size:20}),"Logout"]}),(0,Ct.jsx)("p",{className:"text-xs text-gray-300 mt-4 text-center",children:"Bukizz App v2.4.1"})]})]})]});var u},ci=()=>{const{user:t,isModalOpen:r,setModalOpen:a,logout:n}=(0,Jt.default)(),{cart:s,loadCart:i}=Kt(),o=le(),[l,c]=(0,e.useState)(!1);(0,e.useEffect)(()=>{i()},[]);const d=t?(t.name||t.full_name||"User").split(" ")[0]:"";return(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("div",{className:"h-14 bg-white shadow-md flex items-center justify-between px-4 md:px-8 mx-0 mt-0 md:mb-3 md:mx-12 w-full md:w-full rounded-none md:rounded-full",children:[(0,Ct.jsxs)("div",{className:"flex items-center gap-3 md:gap-4",children:[(0,Ct.jsx)("button",{onClick:()=>c(!l),className:"md:hidden",children:(0,Ct.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-black",children:l?(0,Ct.jsx)("path",{d:"M6 18L18 6M6 6l12 12",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}):(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("path",{d:"M4 12H20",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ct.jsx)("path",{d:"M4 6H20",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ct.jsx)("path",{d:"M4 18H20",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),(0,Ct.jsx)("button",{onClick:()=>{o("/")},className:"flex-shrink-0",children:(0,Ct.jsx)("img",{src:"/Logo.svg",alt:"Bukizz Logo",className:"h-12 w-auto"})})]}),(0,Ct.jsxs)("div",{className:"flex items-center space-x-3 md:space-x-4",children:[(0,Ct.jsx)("button",{onClick:()=>o("/profile?tab=city"),className:"hidden md:block",children:(0,Ct.jsx)("img",{src:"/image 54.png",alt:"Menu",className:"h-8 md:h-12 "})}),(0,Ct.jsx)("button",{className:"hidden md:block",onClick:()=>window.open("https://play.google.com/store/apps/details?id=com.bukizz.main&hl=en_IN"),children:(0,Ct.jsx)("img",{src:"/image 55.png",alt:"Search",className:"h-8 md:h-12"})}),(0,Ct.jsxs)("button",{className:"text-gray-700 hover:text-blue-600 items-center flex flex-col hidden md:flex",children:[(0,Ct.jsx)("img",{src:"/notification_svg.svg",alt:"Notification",className:"h-6 w-6"}),(0,Ct.jsx)("p",{children:"Notification"})]}),t?(0,Ct.jsxs)("button",{onClick:()=>{t?o("/profile"):a(!0)},className:"flex items-center gap-2 px-3 py-1.5 md:px-6 md:py-3 border border-gray-400 rounded-lg md:rounded-2xl bg-white hover:bg-gray-50 transition-colors",children:[(0,Ct.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,Ct.jsx)("span",{className:"text-sm md:text-base font-medium text-gray-500",children:d})]}):(0,Ct.jsxs)("button",{onClick:()=>a(!0),className:"bg-[#39A7FF] text-white px-4 py-2 md:px-6 md:py-3 rounded-md md:rounded-md hover:bg-blue-600 focus:outline-none transition-colors flex items-center gap-2 font-medium",children:[(0,Ct.jsx)("svg",{className:"w-5 h-5 hidden md:block",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,Ct.jsx)("svg",{className:"w-5 h-5 md:hidden",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,Ct.jsx)("span",{className:"",children:"Login"})]}),(0,Ct.jsxs)("button",{onClick:()=>{o("/checkout")},className:"text-gray-700 hover:text-blue-600 items-center flex flex-col relative",children:[(0,Ct.jsxs)("div",{className:"relative",children:[(0,Ct.jsx)("img",{src:"/cart_svg.svg",alt:"Cart",className:"h-6 w-6"}),s.totalItems>0&&(0,Ct.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:s.totalItems>99?"99+":s.totalItems})]}),(0,Ct.jsx)("p",{className:"text-[10px] md:text-base font-semibold hidden md:block",children:"Cart"})]})]})]}),(0,Ct.jsx)(li,{isOpen:l,onClose:()=>c(!1)}),(0,Ct.jsx)(ai,{isOpen:r,onClose:()=>a(!1)})]})},di=[{name:"Book Sets",color:"blue",img:"bookset_cat.svg"},{name:"School Uniform",color:"yellow",img:"uniform_cat.svg"},{name:"Stationary",color:"green",img:"stationary_cat.svg"},{name:"About School",color:"pink",img:"admissions_cat.svg"}],ui=()=>{const{id:t}=ce(),r=se(),{getSchool:a,getSchoolCatalog:n,loading:s,error:i}=Bt(),[o,l]=(0,e.useState)(null),[c,d]=(0,e.useState)(null),[u,h]=(0,e.useState)(!0),[p,m]=(0,e.useState)(null),[f,g]=(0,e.useState)("Book Sets"),y=(0,e.useCallback)(async()=>{if(t)try{h(!0),m(null),l(null),d(null);const[e,r]=await Promise.all([a(t),n(t,{limit:20}).catch(()=>({products:[]}))]);console.log("Fetched school:",e),console.log("Fetched catalog:",r),l(e),d(r)}catch(e){console.error("Error fetching school data:",e),m(e.message)}finally{h(!1)}},[t,a,n]);(0,e.useEffect)(()=>{const e=new URLSearchParams(r.search).get("category");g("uniform"===e?"School Uniform":"Book Sets"),l(null),d(null),m(null),y()},[t,y,r.search]);if(u||s)return(0,Ct.jsx)("div",{className:"mx-12 my-8",children:(0,Ct.jsxs)("div",{className:"text-center py-16",children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ct.jsx)("h2",{className:"text-xl font-semibold text-gray-600",children:"Loading school details..."})]})});if(p||i)return(0,Ct.jsx)("div",{className:"mx-12 my-8",children:(0,Ct.jsxs)("div",{className:"text-center py-16",children:[(0,Ct.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading School"}),(0,Ct.jsx)("p",{className:"text-gray-500 mb-4",children:p||i}),(0,Ct.jsx)("a",{href:"/school",className:"text-blue-600 hover:underline mt-4 inline-block",children:"\u2190 Back to Schools"})]})});if(!o)return(0,Ct.jsx)("div",{className:"mx-12 my-8",children:(0,Ct.jsxs)("div",{className:"text-center py-16",children:[(0,Ct.jsx)("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"School Not Found"}),(0,Ct.jsx)("p",{className:"text-gray-500",children:"The school you're looking for doesn't exist or has been moved."}),(0,Ct.jsx)("a",{href:"/school",className:"text-blue-600 hover:underline mt-4 inline-block",children:"\u2190 Back to Schools"})]})});const v=(e=>e&&e.products?e.products.filter(e=>"bookset"===e.product_type).map(e=>{var t;return{class:(null===(t=e.schoolInfo)||void 0===t?void 0:t.grade)||"General",originalPrice:(e.min_price||e.base_price||0)+200,discountedPrice:e.min_price||e.base_price||0,rating:4.5,name:e.title,id:e.product_id}}):[{class:"1st",originalPrice:1200,discountedPrice:980,rating:4.5},{class:"2nd",originalPrice:1350,discountedPrice:1120,rating:4},{class:"3rd",originalPrice:1475,discountedPrice:1260,rating:4.2},{class:"4th",originalPrice:1590,discountedPrice:1370,rating:4.7},{class:"5th",originalPrice:1720,discountedPrice:1480,rating:4.3},{class:"6th",originalPrice:1850,discountedPrice:1590,rating:4.6},{class:"7th",originalPrice:1980,discountedPrice:1720,rating:4.4},{class:"8th",originalPrice:2150,discountedPrice:1890,rating:4.8}])(c),b=(e=>e&&e.products?e.products.filter(e=>"uniform"===e.product_type).map(e=>{var t;return{name:e.title,originalPrice:(e.min_price||e.base_price||0)+150,discountedPrice:e.min_price||e.base_price||0,rating:4.3,category:e.category||"School Uniform",image:e.image_url||(null===(t=e.images)||void 0===t?void 0:t[0])||"https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?w=300&h=200&fit=crop&auto=format",id:e.product_id,discount:"25% off"}}):[{name:"Summer Shirt",originalPrice:800,discountedPrice:600,rating:4.5,category:"Shirts",image:"https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?w=300&h=200&fit=crop&auto=format",discount:"25% off"},{name:"School Trousers",originalPrice:1200,discountedPrice:900,rating:4.2,category:"Trousers",image:"https://images.unsplash.com/photo-1473966968600-fa801b869a1a?w=300&h=200&fit=crop&auto=format",discount:"25% off"},{name:"School Tie",originalPrice:400,discountedPrice:300,rating:4.7,category:"Accessories",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=200&fit=crop&auto=format",discount:"25% off"},{name:"School Blazer",originalPrice:2e3,discountedPrice:1500,rating:4.4,category:"Blazers",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=200&fit=crop&auto=format",discount:"25% off"},{name:"School Skirt",originalPrice:900,discountedPrice:675,rating:4.3,category:"Skirts",image:"https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=300&h=200&fit=crop&auto=format",discount:"25% off"},{name:"School Socks",originalPrice:200,discountedPrice:150,rating:4.1,category:"Socks",image:"https://images.unsplash.com/photo-1586523969132-a3cf25b48d1c?w=300&h=200&fit=crop&auto=format",discount:"25% off"}])(c),x=e=>{var t;return e.city&&e.state?"".concat(e.city,", ").concat(e.state):e.city||(null===(t=e.address)||void 0===t?void 0:t.city)||"Location not specified"};return(0,Ct.jsxs)("div",{className:"mx-4 md:mx-12",children:[(0,Ct.jsxs)("div",{className:"relative max-w-7xl mx-auto rounded-lg shadow-md mb-8",children:[(0,Ct.jsx)("img",{src:(w=o,w.image||w.image_url||w.img||"https://media.gettyimages.com/id/171306436/photo/red-brick-high-school-building-exterior.jpg?s=612x612&w=gi&k=20&c=8to_zwGxxcI1iYcix7DhmWahoDTlaqxEMzumDwJtxeg="),alt:o.name,className:"w-full h-64 object-cover rounded-lg"}),(0,Ct.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-t from-black/70 to-transparent"}),(0,Ct.jsx)("p",{className:"absolute bottom-6 left-6 text-white text-4xl font-semibold mb-4",children:o.name}),(0,Ct.jsxs)("div",{className:"absolute bottom-2 left-6 flex items-center gap-1",children:[(0,Ct.jsx)("img",{src:"/map_svg.svg",alt:"location",className:"w-4 h-4"}),(0,Ct.jsx)("p",{className:"text-white text-xl",children:x(o)})]}),(0,Ct.jsx)("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm rounded-lg p-3 text-sm",children:(0,Ct.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("span",{className:"font-semibold",children:"Board:"})," ",o.board||"N/A"]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("span",{className:"font-semibold",children:"Type:"})," ",o.type||"N/A"]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("span",{className:"font-semibold",children:"Status:"})," ",o.isActive?"Active":"Inactive"]})]})})]}),(0,Ct.jsx)("div",{className:"mb-8",children:(0,Ct.jsx)("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16",children:di.map((e,t)=>(0,Ct.jsx)(At,{props:e,onClick:()=>{return t=e.name,void g(t);var t},isSelected:f===e.name},t))})}),"About School"!==f&&(0,Ct.jsxs)("div",{className:"mb-8 ",children:[(0,Ct.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ct.jsxs)("h2",{className:"text-2xl font-bold",children:[f," for ",o.name]}),(0,Ct.jsxs)("div",{className:"text-right",children:[(0,Ct.jsx)("p",{className:"text-gray-600",children:o.board&&"All products are ".concat(o.board," curriculum compliant")}),c&&c.products&&(0,Ct.jsxs)("p",{className:"text-sm text-gray-500",children:["School Uniform"===f?b.length:"Book Sets"===f?v.length:c.products.filter(e=>e.product_type===f.toLowerCase().replace(" ","")).length," ","products available"]})]})]}),(0,Ct.jsx)("div",{className:"flex flex-wrap justify-center gap-3 md:gap-12",children:"School Uniform"===f?b.map((e,t)=>(0,Ct.jsx)(hr,{props:e},t)):"Book Sets"===f?v.map((e,t)=>(0,Ct.jsx)(ur,{props:e},t)):(0,Ct.jsx)("div",{className:"col-span-4 text-center py-16",children:(0,Ct.jsxs)("p",{className:"text-gray-500 text-lg",children:[f," products coming soon..."]})})})]}),"About School"===f&&(0,Ct.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,Ct.jsx)("h3",{className:"text-xl font-bold mb-4",children:"School Information"}),(0,Ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsxs)("div",{className:"mb-3",children:[(0,Ct.jsx)("span",{className:"font-semibold text-gray-700",children:"Full Name:"}),(0,Ct.jsx)("p",{className:"text-gray-600",children:o.name})]}),(0,Ct.jsxs)("div",{className:"mb-3",children:[(0,Ct.jsx)("span",{className:"font-semibold text-gray-700",children:"Board:"}),(0,Ct.jsx)("p",{className:"text-gray-600",children:o.board||"Not specified"})]}),(0,Ct.jsxs)("div",{className:"mb-3",children:[(0,Ct.jsx)("span",{className:"font-semibold text-gray-700",children:"Type:"}),(0,Ct.jsx)("p",{className:"text-gray-600 capitalize",children:o.type||"Not specified"})]}),(0,Ct.jsxs)("div",{className:"mb-3",children:[(0,Ct.jsx)("span",{className:"font-semibold text-gray-700",children:"Status:"}),(0,Ct.jsx)("p",{className:"font-medium ".concat(o.isActive?"text-green-600":"text-red-600"),children:o.isActive?"Active":"Inactive"})]})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsxs)("div",{className:"mb-3",children:[(0,Ct.jsx)("span",{className:"font-semibold text-gray-700",children:"Location:"}),(0,Ct.jsx)("p",{className:"text-gray-600",children:x(o)})]}),(0,Ct.jsxs)("div",{className:"mb-3",children:[(0,Ct.jsx)("span",{className:"font-semibold text-gray-700",children:"Address:"}),(0,Ct.jsx)("p",{className:"text-gray-600",children:(e=>{if(e.address&&"object"===typeof e.address){const t=e.address;return"".concat(t.line1||""," ").concat(t.line2||"",", ").concat(t.city||e.city,", ").concat(t.state||e.state," - ").concat(t.postalCode||e.postalCode).trim()}return e.address||"Address not available"})(o)})]}),o.phone&&(0,Ct.jsxs)("div",{className:"mb-3",children:[(0,Ct.jsx)("span",{className:"font-semibold text-gray-700",children:"Phone:"}),(0,Ct.jsx)("p",{className:"text-gray-600",children:o.phone})]}),o.email&&(0,Ct.jsxs)("div",{className:"mb-3",children:[(0,Ct.jsx)("span",{className:"font-semibold text-gray-700",children:"Email:"}),(0,Ct.jsx)("p",{className:"text-gray-600",children:o.email})]}),(0,Ct.jsxs)("div",{className:"mb-3",children:[(0,Ct.jsx)("span",{className:"font-semibold text-gray-700",children:"School ID:"}),(0,Ct.jsx)("p",{className:"text-gray-600 text-sm font-mono",children:o.id})]})]})]})]}),(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("h1",{className:"mx-4 md:mx-12 text-2xl md:text-4xl font-bold my-4",children:"School Essentials"}),(0,Ct.jsx)(Ut,{}),(0,Ct.jsx)(Mt,{})]})]});var w},hi=()=>(0,Ct.jsxs)("footer",{className:"w-full",children:[(0,Ct.jsx)("div",{className:"w-full px-4 md:px-0 mt-4 mb-20 md:mt-0 md:mb-0",children:(0,Ct.jsx)(Ht,{})}),(0,Ct.jsx)("div",{className:"hidden md:block bg-transparent mt-0 w-full mx-0 relative z-10",children:(0,Ct.jsxs)("div",{className:"flex flex-col md:flex-row justify-between mb-4 mx-8 font-nunito gap-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("img",{src:"/logo.svg",alt:"Bukizz Logo",className:"h-12"}),(0,Ct.jsx)("p",{className:"text-gray-600 mt-2",children:"Wisdom Rd , Sco 142 Nirman Point"}),(0,Ct.jsx)("p",{className:"text-gray-600 mt-2",children:"+919520443591"})]}),(0,Ct.jsxs)("div",{className:"flex flex-wrap gap-8 md:gap-16",children:[(0,Ct.jsxs)("div",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)("h4",{className:"font-bold",children:"About"}),(0,Ct.jsxs)("ul",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)("a",{href:"https://bukizz.com/about1",className:"hover:text-blue-600 cursor-pointer",children:"About Us"}),(0,Ct.jsx)(ut,{to:"/contact-us",className:"hover:text-blue-600 cursor-pointer",children:"Contact Us"}),(0,Ct.jsx)("a",{href:"https://bukizz.com/solution",className:"hover:text-blue-600 cursor-pointer",children:"Solutions"}),(0,Ct.jsx)("li",{className:"cursor-pointer",children:"Download App"})]})]}),(0,Ct.jsxs)("div",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)("h4",{className:"font-bold",children:"Help"}),(0,Ct.jsxs)("ul",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)(ut,{to:"/payment-policy",className:"hover:text-blue-600 cursor-pointer",children:"Payments"}),(0,Ct.jsx)(ut,{to:"/shipping-policy",className:"hover:text-blue-600 cursor-pointer",children:"Shipping"}),(0,Ct.jsx)(ut,{to:"/cancellation-refund",className:"hover:text-blue-600 cursor-pointer",children:"Cancellation & Returns"})]})]}),(0,Ct.jsxs)("div",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)("h4",{className:"font-bold",children:"Consumer Policies"}),(0,Ct.jsxs)("ul",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)(ut,{to:"/cancellation-refund",className:"hover:text-blue-600 cursor-pointer",children:"Cancellation & Returns"}),(0,Ct.jsx)(ut,{to:"/terms-of-use",className:"hover:text-blue-600 cursor-pointer",children:"Terms of Use"}),(0,Ct.jsx)(ut,{to:"/privacy-policy",className:"hover:text-blue-600 cursor-pointer",children:"Privacy Policy"})]})]}),(0,Ct.jsxs)("div",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)("h4",{className:"font-bold",children:"Mail Us"}),(0,Ct.jsxs)("ul",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)("li",{children:"Email Us"}),(0,Ct.jsxs)("li",{children:["            ",(0,Ct.jsxs)("div",{className:"flex space-x-4",children:[(0,Ct.jsx)("a",{href:"#",className:"border border-gray-600 rounded-full p-2",children:(0,Ct.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{d:"M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"})})}),(0,Ct.jsx)("a",{href:"#",className:"border border-gray-600 rounded-full p-2",children:(0,Ct.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,Ct.jsx)("a",{href:"#",className:"border border-gray-600 rounded-full p-2",children:(0,Ct.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.897 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.897-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"})})})]})]})]})]})]}),(0,Ct.jsx)("div",{})]})}),(0,Ct.jsx)("div",{className:"md:hidden block bg-transparent mt-0 md:mx-12 mx-4 relative z-10",children:(0,Ct.jsxs)("div",{className:"flex flex-col md:flex-row justify-between mb-4 font-nunito gap-4",children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("img",{src:"/logo.svg",alt:"Bukizz Logo",className:"h-12"}),(0,Ct.jsx)("p",{className:"text-gray-600 mt-2",children:"Wisdom Rd , Sco 142 Nirman Point"}),(0,Ct.jsx)("p",{className:"text-gray-600 mt-2",children:"+919520443591"})]}),(0,Ct.jsxs)("div",{className:"flex flex-wrap gap-12 md:gap-16",children:[(0,Ct.jsxs)("div",{className:"flex justify-between w-full",children:[(0,Ct.jsxs)("div",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)("h4",{className:"font-bold",children:"About"}),(0,Ct.jsxs)("ul",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)("a",{href:"https://bukizz.com/about1",className:"hover:text-blue-600 cursor-pointer",children:"About Us"}),(0,Ct.jsx)(ut,{to:"/contact-us",className:"hover:text-blue-600 cursor-pointer",children:"Contact Us"}),(0,Ct.jsx)("a",{href:"https://bukizz.com/solution",className:"hover:text-blue-600 cursor-pointer",children:"Solutions"}),(0,Ct.jsx)("li",{className:"cursor-pointer",children:"Download App"})]})]}),(0,Ct.jsxs)("div",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)("h4",{className:"font-bold",children:"Help"}),(0,Ct.jsxs)("ul",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)(ut,{to:"/payment-policy",className:"hover:text-blue-600 cursor-pointer",children:"Payments"}),(0,Ct.jsx)(ut,{to:"/shipping-policy",className:"hover:text-blue-600 cursor-pointer",children:"Shipping"}),(0,Ct.jsx)(ut,{to:"/cancellation-refund",className:"hover:text-blue-600 cursor-pointer",children:"Cancellation & Returns"})]})]})]}),(0,Ct.jsxs)("div",{className:"flex justify-between w-full",children:[(0,Ct.jsxs)("div",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)("h4",{className:"font-bold",children:"Consumer Policies"}),(0,Ct.jsxs)("ul",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)(ut,{to:"/cancellation-refund",className:"hover:text-blue-600 cursor-pointer",children:"Cancellation & Returns"}),(0,Ct.jsx)(ut,{to:"/terms-of-use",className:"hover:text-blue-600 cursor-pointer",children:"Terms of Use"}),(0,Ct.jsx)(ut,{to:"/privacy-policy",className:"hover:text-blue-600 cursor-pointer",children:"Privacy Policy"})]})]}),(0,Ct.jsxs)("div",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)("h4",{className:"font-bold",children:"Mail Us"}),(0,Ct.jsxs)("ul",{className:"gap-4 flex flex-col",children:[(0,Ct.jsx)("li",{children:"Email Us"}),(0,Ct.jsxs)("li",{children:["            ",(0,Ct.jsxs)("div",{className:"flex space-x-4",children:[(0,Ct.jsx)("a",{href:"#",className:"border border-gray-600 rounded-full p-2",children:(0,Ct.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{d:"M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"})})}),(0,Ct.jsx)("a",{href:"#",className:"border border-gray-600 rounded-full p-2",children:(0,Ct.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,Ct.jsx)("a",{href:"#",className:"border border-gray-600 rounded-full p-2",children:(0,Ct.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.897 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.897-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"})})})]})]})]})]})]})]}),(0,Ct.jsx)("div",{})]})}),(0,Ct.jsx)("div",{className:"border-t border-gray-300 w-full"}),(0,Ct.jsxs)("div",{className:"w-full py-4 px-4 md:px-12 flex flex-row items-center relative",children:[(0,Ct.jsxs)("div",{className:"flex gap-8 md:gap-16 justify-start",children:[(0,Ct.jsxs)("div",{className:"flex items-center gap-2 text-black cursor-pointer hover:underline",children:[(0,Ct.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,Ct.jsx)("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),(0,Ct.jsx)("span",{className:"font-semibold text-sm md:text-base",children:"Connect School"})]}),(0,Ct.jsxs)("div",{className:"flex items-center gap-2 text-black cursor-pointer hover:underline",children:[(0,Ct.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ct.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),(0,Ct.jsx)("path",{d:"M3 9h18"}),(0,Ct.jsx)("path",{d:"M9 21V9"})]}),(0,Ct.jsx)("span",{className:"font-semibold text-sm md:text-base",children:"Become Supplier"})]}),(0,Ct.jsxs)("div",{className:"flex items-center gap-2 text-black cursor-pointer hover:underline hidden md:flex",children:[(0,Ct.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,Ct.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),(0,Ct.jsx)("span",{className:"font-semibold text-sm md:text-base",children:"Get a Call"})]})]}),(0,Ct.jsx)("p",{className:"hidden md:block ml-auto text-gray-600 text-sm",children:"\xa9 2026 Bukizz. All rights reserved."})]})]}),pi=t=>{let{isOpen:r,onClose:a,title:n="Error",message:s,type:i="error",autoClose:o=!0,duration:l=5e3}=t;const[c,d]=(0,e.useState)(!1);(0,e.useEffect)(()=>{r&&d(!0)},[r]),(0,e.useEffect)(()=>{if(r&&o){const e=setTimeout(()=>{u()},l);return()=>clearTimeout(e)}},[r,o,l]);const u=()=>{d(!1),setTimeout(()=>{a()},300)};return r?(0,Ct.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-20 px-4",children:[(0,Ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm",onClick:u}),(0,Ct.jsx)("div",{className:"\n          relative max-w-md w-full transform transition-all duration-300 ease-in-out\n          ".concat(c?"translate-y-0 opacity-100 scale-100":"-translate-y-4 opacity-0 scale-95","\n        "),children:(0,Ct.jsxs)("div",{className:"".concat((()=>{const e="border-l-4 p-4 rounded-r-lg shadow-lg";switch(i){case"success":return"".concat(e," bg-green-50 border-green-500 text-green-800");case"warning":return"".concat(e," bg-yellow-50 border-yellow-500 text-yellow-800");case"info":return"".concat(e," bg-blue-50 border-blue-500 text-blue-800");default:return"".concat(e," bg-red-50 border-red-500 text-red-800")}})()," relative"),children:[(0,Ct.jsxs)("div",{className:"flex items-start",children:[(0,Ct.jsx)("div",{className:"flex-shrink-0 ".concat((()=>{switch(i){case"success":return"text-green-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-red-500"}})()),children:(()=>{switch(i){case"success":return(0,Ct.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"warning":return(0,Ct.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":return(0,Ct.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,Ct.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}})()}),(0,Ct.jsxs)("div",{className:"ml-3 flex-1",children:[(0,Ct.jsx)("h3",{className:"text-sm font-semibold",children:n}),s&&(0,Ct.jsx)("div",{className:"mt-1 text-sm opacity-90",children:s})]}),(0,Ct.jsx)("button",{onClick:u,className:"ml-3 flex-shrink-0 text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600 transition-colors",children:(0,Ct.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o&&(0,Ct.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black bg-opacity-10 rounded-b-lg overflow-hidden",children:(0,Ct.jsx)("div",{className:"\n                  h-full transition-all ease-linear\n                  ".concat("success"===i?"bg-green-500":"warning"===i?"bg-yellow-500":"info"===i?"bg-blue-500":"bg-red-500","\n                "),style:{animation:"shrink ".concat(l,"ms linear forwards")}})})]})}),(0,Ct.jsx)("style",{jsx:!0,children:"\n        @keyframes shrink {\n          from {\n            width: 100%;\n          }\n          to {\n            width: 0%;\n          }\n        }\n      "})]}):null},mi=()=>{const{notifications:e,hideNotification:t}=sr();return(0,Ct.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 pointer-events-none",children:e.map((e,r)=>(0,Ct.jsx)("div",{className:"pointer-events-auto",style:{zIndex:1e3+r,marginTop:"".concat(80*r,"px")},children:(0,Ct.jsx)(pi,{isOpen:!0,onClose:()=>t(e.id),title:e.title,message:e.message,type:e.type,autoClose:e.autoClose,duration:e.duration})},e.id))})},fi=()=>{const{pathname:t}=se();return(0,e.useEffect)(()=>{window.scrollTo(0,0)},[t]),null};const gi=function(){const{initialize:t,loading:r,isHydrated:a}=(0,Jt.default)(),[n,s]=(0,e.useState)(!1),[i,o]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{(()=>{const e=new URLSearchParams(window.location.search),t="true"===localStorage.getItem("isMobileApp")||e.has("mode")&&"webview"===e.get("mode"),r=e.get("city");r&&localStorage.setItem("selectedCity",r),t&&(o(!0),"webview"===e.get("mode")&&localStorage.setItem("isMobileApp","true"))})()},[]),(0,e.useEffect)(()=>{(async()=>{try{await t(),s(!0)}catch(e){console.error("App initialization failed:",e),s(!0)}})()},[t]),a&&n&&!r?(0,Ct.jsxs)(ct,{children:[(0,Ct.jsx)(fi,{}),(0,Ct.jsxs)("div",{className:"flex flex-col min-h-screen bg-[#F3F8FF] ".concat(i?"mobile-app-view":""),children:[(0,Ct.jsx)(mi,{}),!i&&(0,Ct.jsx)("div",{className:"flex justify-center bg-[#F3F8FF] pt-0 md:pt-6",children:(0,Ct.jsx)(ci,{})}),(0,Ct.jsxs)(Ce,{children:[(0,Ct.jsx)(Ne,{path:"/",element:(0,Ct.jsx)(Gt,{})}),(0,Ct.jsx)(Ne,{path:"/school",element:(0,Ct.jsx)(Wt,{})}),(0,Ct.jsx)(Ne,{path:"/school/:id",element:(0,Ct.jsx)(ui,{})}),(0,Ct.jsx)(Ne,{path:"/cart",element:(0,Ct.jsx)(Qt,{})}),(0,Ct.jsx)(Ne,{path:"/checkout",element:(0,Ct.jsx)(ir,{})}),(0,Ct.jsx)(Ne,{path:"/profile",element:(0,Ct.jsx)(Ls,{})}),(0,Ct.jsx)(Ne,{path:"/orders",element:(0,Ct.jsx)(dr,{})}),(0,Ct.jsx)(Ne,{path:"/my-city",element:(0,Ct.jsx)(Bs,{})}),(0,Ct.jsx)(Ne,{path:"/order-success/:orderId",element:(0,Ct.jsx)(cr,{})}),(0,Ct.jsx)(Ne,{path:"/verify-email",element:(0,Ct.jsx)(Js,{})}),(0,Ct.jsx)(Ne,{path:"/product",element:(0,Ct.jsx)(fr,{})}),(0,Ct.jsx)(Ne,{path:"/product/:id",element:(0,Ct.jsx)(fr,{})}),(0,Ct.jsx)(Ne,{path:"/products",element:(0,Ct.jsx)(ks,{})}),(0,Ct.jsx)(Ne,{path:"/admin/products",element:(0,Ct.jsx)(xs,{})}),(0,Ct.jsx)(Ne,{path:"/admin/products/list",element:(0,Ct.jsx)(Ss,{})}),(0,Ct.jsx)(Ne,{path:"/admin/categories",element:(0,Ct.jsx)(qs,{})}),(0,Ct.jsx)(Ne,{path:"/category",element:(0,Ct.jsx)(Ws,{})}),(0,Ct.jsx)(Ne,{path:"/admin/products/edit/:id",element:(0,Ct.jsx)(ws,{})}),(0,Ct.jsx)(Ne,{path:"/contact-us",element:(0,Ct.jsx)(Qs,{})}),(0,Ct.jsx)(Ne,{path:"/payment-policy",element:(0,Ct.jsx)(Xs,{})}),(0,Ct.jsx)(Ne,{path:"/shipping-policy",element:(0,Ct.jsx)(Zs,{})}),(0,Ct.jsx)(Ne,{path:"/cancellation-refund",element:(0,Ct.jsx)(ei,{})}),(0,Ct.jsx)(Ne,{path:"/terms-of-use",element:(0,Ct.jsx)(ti,{})}),(0,Ct.jsx)(Ne,{path:"/privacy-policy",element:(0,Ct.jsx)(ri,{})})]}),!i&&(0,Ct.jsxs)("div",{className:"relative mt-auto flex-col flex w-full",children:[(0,Ct.jsx)("div",{className:"absolute bottom-0 left-0 w-full z-0",children:(0,Ct.jsx)("img",{src:"/footer_back.svg",alt:"Background",className:"w-full h-screen md:h-auto object-cover object-bottom"})}),(0,Ct.jsx)("div",{className:"relative z-10 w-full",children:(0,Ct.jsx)(hi,{})})]})]})]}):(0,Ct.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-[#F3F8FF]",children:(0,Ct.jsxs)("div",{className:"text-center",children:[(0,Ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ct.jsx)("p",{className:"text-gray-600",children:a?"Authenticating...":"Loading..."})]})})};t.createRoot(document.getElementById("root")).render((0,Ct.jsx)(gi,{}))})()})();
//# sourceMappingURL=main.c30a1c90.js.map